/*!
 * Copyright (c) 2021, 2024, Oracle and/or its affiliates.
 */
!function(e,n,i,a,d){"use strict";const t=n.registerObjectType,o=n.getCurrentInstance,l=n.doLinkAction,E=n.openDialog,c=n.sendCommand,T=e.extend,A="DATA",s="MAIN",r="COLS",N="GRANTS",I="STATS",m="DEPS",_="CODE",R="ERRORS",S="DETAILS",b="SUMMARY",g="ENV_IMPORTS",O="LAST_ANALYZED",h="OBJECT_DETAILS",u="DROP",C="STATUS",L="SUMMARY",D="COLUMNS",M="plsql",w="json",x="record";function p(e){return i.getMessage("OB.ACTION_"+e)}function P(e){return i.getMessage("OB."+e)}function U(e){return i.getMessage("OB.COL_"+e)}function y(e){for(const[,n]of Object.entries(e))n.hidden||(n.heading=U(n.heading),n.alignment=n.alignment||"start",n.headingAlignment=n.headingAlignment||n.alignment,void 0===n.noStretch&&(n.noStretch=!1),void 0===n.canSort&&(n.canSort=!0),void 0===n.seq&&(n.seq=n.index+1));return e}function B(e){for(const[,n]of Object.entries(e))n.hidden||(n.label=U(n.label));return e}function G(e,n,i){return`{if ?OBJECT_ID/}<a href="#action$open-object?id=&OBJECT_ID.&owner=${e}&label=${n}&type=${i}">${n}</a>{else/}${n}{endif/}`}function f(e){return`<a href="#action$goto-error?&view=${e}&line=&LINE.&column=&POSITION.">&TEXT!HTML.</a>`}function Y(){const e=o();let n,i=e.type;return"PACKAGE"===i&&"BODY"===e.currentViewId&&(i="PACKAGE BODY"),i=i.replace("_"," "),n={id:e.id,owner:e.owner,schema:e.schema,type:i,name:e.name},"TABLE"===i&&(n.cascade="N"),E("dialogDropObject",n)}function H(e,n){const i=o(),a=i.owner,t=i.schema,l=i.models.get(e),E={objectId:i.id,objectName:i.name,objectType:i.type};c(t,a,"gather_stats",E,i.tabPanel$).then((e=>{let i=l.getOption("regionData"),a=e.result.jobName;a&&(i.jobName=a),l.setValue(n,P("CMD_GATHER_STATS.IN_PROGRESS")),l.clearChanges(),d.alert(e.message,(()=>{}))}))}function V(){K("disable")}function K(e){const n=o(),i=n.owner,t=n.schema,l={objectId:n.id,objectName:n.name,objectType:n.type};c(t,i,e,l,n.tabPanel$).then((e=>{a.invoke("refresh-view"),d.alert(e.message,(()=>{}))}))}function F(){const e=o(),i=e.owner,a=e.schema,t=e.id,l={objectId:t,objectName:e.name,objectType:e.type};c(a,i,"compile",l,e.tabPanel$).then((i=>{d.alert(i.message,(()=>{})),n.updateInvalidState(i.success,e,t,a)}))}function W(e,n,i,a,d,t=null,o=null){const l=i.getFieldKey(d),E=[];if(i.forEach(((e,n,i)=>{o&&!o(e)||E.push({display:e[l],return:i})})),e[a]=E,t){let a,d,o=n.grid("getSelectedRange").recordIds[0];d=E[0],o&&(a=i.getRecord(o),a&&(d=i.getRecordId(a))),e[t]=d}}function v(e,n,i,a="currentColumn",d=null){W(e,n,i,"columns","COLUMN_NAME",a,d)}function X(e,n,i,a){const d=i.getFieldKey("STATUS");let t=null;a&&(t=function(e){return e[d]===a}),W(e,n,i,"constraints","CONSTRAINT_NAME","currentConstraint",t)}function j(e,n,i,a){const d=i.getFieldKey("STATUS");let t=null;a&&(t=function(e){return e[d]===a}),W(e,n,i,"triggers","TRIGGER_NAME","currentTrigger",t)}function J(e,n){n?a.enable(e):a.disable(e)}const q=n.viewTypes.GRID,$=n.viewTypes.GRIDS,k=n.viewTypes.NVP,Z=n.viewTypes.EDITOR,Q=n.viewTypes.NVP_GRID,z=n.viewTypes.NVP_EDITOR,ee=200,ne=90,ie=120,ae=80,de=180,te=160,oe=P("NO_DATA_COLUMNS"),le=P("NO_DATA"),Ee=P("NO_DATA_IMPORTS"),ce=y({COLUMN_ID:{index:0,hidden:!0,canHide:!1,readonly:!0},COLUMN_NAME:{index:1,seq:1,elementId:"T_COLS_NAME",heading:"COLUMN_NAME",width:ee,usedAsRowHeader:!0,isRequired:!0},DATA_TYPE:{index:2,seq:2,elementId:"T_COLS_DATA_TYPE",heading:"DATA_TYPE",width:140,cellTemplate:"&DATA_TYPE.{case DATA_TYPE/}{when NUMBER/}{if ?PRECISION/}(&PRECISION.,&SCALE.){endif/}{when FLOAT/}(&PRECISION.){when CHAR/}(&LENGTH. &USE_CHAR.){when VARCHAR/}(&LENGTH. &USE_CHAR.){when VARCHAR2/}(&LENGTH. &USE_CHAR.){when NCHAR/}(&LENGTH. &USE_CHAR.){when NVARCHAR/}(&LENGTH. &USE_CHAR.){when NVARCHAR2/}(&LENGTH. &USE_CHAR.){when RAW/}(&LENGTH.){endcase/}",dependsOn:["LENGTH","PRECISION","SCALE","USE_CHAR"],isRequired:!0},LENGTH:{index:3,elementId:"T_COLS_LENGTH",canSort:!0,hidden:!0,canHide:!1},USE_CHAR:{index:4,elementId:"T_COLS_USE_CHAR",canSort:!0,hidden:!0,canHide:!1},PRECISION:{index:5,elementId:"T_COLS_PRECISION",canSort:!0,hidden:!0,canHide:!1},SCALE:{index:6,elementId:"T_COLS_SCALE",canSort:!0,hidden:!0,canHide:!1},NULLABLE:{index:7,seq:3,elementId:"T_COLS_NULLABLE",heading:"NULLABLE",width:ae,isRequired:!0},DATA_DEFAULT:{index:8,seq:4,elementId:"T_COLS_DEFAULT",heading:"DEFAULT"},PRIMARY_KEY:{index:9,seq:5,readonly:!0,heading:"PRIMARY_KEY",headingAlignment:"center",alignment:"center",width:ne},COMMENTS:{index:10,seq:6,heading:"COMMENT",noStretch:!1},IDENTITY:{index:11,seq:7,heading:"IDENTITY"},VIRTUAL:{index:12,hidden:!0,canHide:!1},INVISIBLE:{index:13,hidden:!0,canHide:!1}}),Te=B({COMMENTS:{index:0,label:"COMMENT"}}),Ae=P("NO_DATA_GRANTS"),se=y({PRIVILEGE:{index:0,heading:"PRIVILEGE",usedAsRowHeader:!0,width:de},GRANTEE:{index:1,heading:"GRANTEE",width:ee},GRANTABLE:{index:2,heading:"GRANTABLE",width:ae},GRANTOR:{index:3,heading:"GRANTOR",width:ee},OBJECT_NAME:{index:4,heading:"OBJECT_NAME",width:ee}}),re={id:N,type:q,noDataMessage:Ae,columns:se,actions:["grant","revoke"]},Ne={id:"DDL",type:Z,language:M,readOnly:!0,actions:["download-text"]},Ie=P("NO_DATA_ERRORS"),me={id:R,type:q,fixedRowHeight:!1,noDataMessage:Ie,columns:y({LINE:{index:0,heading:"LINE",alignment:"end",usedAsRowHeader:!0,width:ne},POSITION:{index:1,heading:"POSITION",alignment:"end",width:ne},TEXT:{index:2,heading:"TEXT",noStretch:!1,cellTemplate:f(_)}})},_e=y({OWNER:{index:0,heading:"OWNER",width:ee},NAME:{index:1,heading:"OBJECT_NAME",cellTemplate:G("&OWNER.","&NAME.","&TYPE."),width:ee,usedAsRowHeader:!0},TYPE:{index:2,heading:"OBJECT_TYPE",width:140},OBJECT_ID:{index:3,hidden:!0,canHide:!1}}),Re=y({OWNER:{index:0,heading:"OWNER",width:ee},SYNONYM_NAME:{index:1,heading:"SYNONYM_NAME",width:ee,usedAsRowHeader:!0}}),Se={subId:"REF",headingKey:"REFERENCES",hasSize:!1,noDataMessage:P("NO_DATA_REF"),columns:_e},be={subId:"REFBY",headingKey:"REFERENCED_BY",hasSize:!1,noDataMessage:P("NO_DATA_REF_BY"),columns:_e},ge=P("NO_DATA_SYNONYMS"),Oe={subId:"SYN",headingKey:"SYNONYMS",hasSize:!1,noDataMessage:ge,columns:Re},he={id:m,type:$,subViews:[Se,be,Oe]},ue={labelKey:"SYNONYMS",id:"DEPS_SYN",type:q,hasSize:!1,noDataMessage:ge,columns:Re},Ce=[{id:_,type:Z,language:M,readOnly:!1,actions:["code-drop","download-text","code-save-compile"]},he,me,re],Le=[{id:g,type:q,modelEditable:!0,identityField:"ORIGINAL_IMPORT_NAME",noDataMessage:Ee,columns:y({ORIGINAL_IMPORT_NAME:{hidden:!0,index:0,isRequired:!1,readonly:!1},MODULE_OWNER:{index:1,heading:"MODULE_OWNER",usedAsRowHeader:!0,width:ee,dataType:"VARCHAR2",isRequired:!0,readonly:!1},MODULE_NAME:{index:2,heading:"MODULE_NAME",width:ee,dataType:"VARCHAR2",isRequired:!0,readonly:!1},IMPORT_NAME:{index:3,heading:"IMPORT_NAME",width:ee,dataType:"VARCHAR2",isRequired:!0,readonly:!1}}),actions:[{name:"mle-env-import-selection-insert-row",label:P("ADD_IMPORT"),icon:"icon-ob-insert-row",action:function(){let e={model:o().models.get(g),record:[],dialogTitle:P("ADD_IMPORT"),pageMode:"C"};return E("dialogImportEdit",e)}},"code-drop"]},me,re,Ne],De=[{id:_,type:Z,language:"mle-javascript-module",readOnly:!1,actions:["code-drop","download-text","code-save-compile"]},re];t("TABLE",{icon:"icon-ob-table",views:[{labelKey:"TABLE",id:s,type:Q,subViews:[{subId:b,headingKey:L,modelEditable:!0,hidden:!0,shape:x,columns:Te},{subId:r,headingKey:D,modelEditable:!0,identityField:"COLUMN_ID",noDataMessage:oe,columns:ce}],actions:[{name:"table-add-column",label:p("ADD_COL"),icon:"icon-ob-add",action:function(){const e=o();let n=e.models.get("MAIN_COLS"),i=n.getFieldKey("IDENTITY"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitle:this.label,add:!0,hasIdentity:"N",model:n};return n.forEach((e=>{e[i]&&(a.hasIdentity="Y")})),E("dialogAddModCol",a)}},{name:"table-modify-column",label:p("MODIFY_COL"),icon:"icon-ob-edit",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a=i.getFieldKey("IDENTITY"),d=i.getFieldKey("COLUMN_NAME"),t=null,l={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitle:this.label,add:!1,hasIdentity:"N",model:i};return i.forEach((e=>{e[a]&&(l.hasIdentity="Y",t=e[d])})),v(l,n,i,"currentColumn",(function(e){return!t||e[d]!==t})),E("dialogAddModCol",l)}},{name:"table-rename-column",label:p("RENAME_COL"),icon:"icon-ob-rename",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitle:this.label,rename:!0,model:i};return v(a,n,i),E("dialogDropRenameCol",a)}},{name:"table-drop-column",label:p("DROP_COL"),icon:"icon-ob-drop",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitle:this.label,rename:!1,model:i};return v(a,n,i),E("dialogDropRenameCol",a)}},{name:"goto-ui-defaults",label:p("UI_DEFAULTS"),icon:"icon-ob-ui-defaults",uiDefaultsGroup:!0,action:function(e,n){let i=o();if("TABLE"===i.type)return l(n,"UI_DEFAULTS",{TABLE_NAME:i.name,PARSING_SCHEMA:i.owner})}},{name:"table-rename",label:p("RENAME"),preferButton:!1,action:function(){const e=o();let n={id:e.id,owner:e.owner,schema:e.schema,name:e.name};return E("dialogRenameTable",n)}},{name:"table-copy-table",label:p("COPY_TABLE"),preferButton:!1,action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name};return v(a,n,i,null),E("dialogCopyTable",a)}},{name:"table-drop",label:p("DROP_TABLE"),preferButton:!1,action:function(){return Y()}},{name:"table-truncate",label:p("TRUNCATE"),preferButton:!1,action:function(){const e=o();let n={id:e.id,owner:e.owner,schema:e.schema,name:e.name};return E("dialogTruncateTable",n)}},{name:"table-comment",label:p("TABLE_COMMENT"),preferButton:!1,action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a=e.models.get("MAIN_SUMMARY"),d={id:e.id,owner:e.owner,schema:e.schema,name:e.name,objectType:e.type,model:i,objModel:a};return v(d,n,i),E("dialogComment",d)}},{name:"table-create-lookup-table",label:p("CREATE_LT"),preferButton:!1,separatorBefore:!0,action:function(e,n){let i=o();if("TABLE"===i.type)return l(n,"CREATE_LOOKUP_TABLE",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}},{name:"table-create-app",label:p("CREATE_APP"),preferButton:!1,action:function(e,n){let i=o();if("TABLE"===i.type)return l(n,"CREATE_APP",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}}]},{id:A,type:q,modelEditable:!0,identityField:"ROWID",noDataMessage:le,columns:null,actions:[{name:"selection-insert-row",label:p("INSERT"),icon:"icon-ob-insert-row",action:function(){let e={model:o().models.get(A),record:[],dialogTitle:P("CREATE_DATA"),pageMode:"C"};return E("dialogRowEdit",e)}},"choose-columns","filter",{name:"count-rows",label:p("COUNT_ROWS"),icon:"icon-ob-count-rows",action:function(){let e=o(),n=e.owner,i=e.schema,a={objectId:e.id,objectName:e.name,objectType:e.type};c(i,n,"count_rows",a,e.tabPanel$).then((e=>{d.alert(e.message,(()=>{}))}))}},{name:"load-data",label:p("LOAD_DATA"),icon:"icon-ob-load-data",action:function(e,n){let i=o();if("TABLE"===i.type)return l(n,"LOAD_DATA",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}},"download-excel"]},{id:"INDEXES",type:q,modelEditable:!0,identityField:"OBJECT_ID",noDataMessage:P("NO_DATA_INDEX"),columns:y({OWNER:{index:0,heading:"OWNER",width:ee},INDEX_NAME:{index:1,heading:"INDEX_NAME",cellTemplate:G("&OWNER.","&INDEX_NAME.","INDEX"),usedAsRowHeader:!0,width:ee},UNIQUENESS:{index:2,heading:"UNIQUENESS",width:de},COLUMNS:{index:3,heading:D,width:ee},STATUS:{index:4,heading:C,width:de},INDEX_TYPE:{index:5,heading:"INDEX_TYPE",headingAlignment:"center",alignment:"center",width:de},TEMPORARY:{index:6,heading:"TEMPORARY",headingAlignment:"center",alignment:"center",width:ae},PARTITIONED:{index:7,heading:"PARTITIONED",headingAlignment:"center",alignment:"center",width:ae},FUNCIDX_STATUS:{index:8,heading:"FUNCTION_STATUS",headingAlignment:"center",alignment:"center",width:de},VISIBILITY:{index:9,heading:"VISIBILITY",headingAlignment:"center",alignment:"center",width:ae},OBJECT_ID:{index:10,readonly:!0,hidden:!0,canHide:!1}}),actions:[{name:"table-create-index",label:p("CREATE"),icon:"icon-ob-create",action:function(e,n){let i=o();if("TABLE"===i.type&&"INDEXES"===i.currentViewId)return l(n,"CREATE_TABLE_INDEX",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}},{name:"table-drop-index",label:p(u),icon:"icon-ob-drop",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("INDEXES"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:i};return W(a,n,i,"indexes","INDEX_NAME","currentIndex"),E("dialogDropIndex",a)}}]},{id:"CONSTRAINTS",type:q,modelEditable:!0,identityField:"CONSTRAINT_NAME",noDataMessage:P("NO_DATA_CONSTRAINTS"),columns:y({CONSTRAINT_NAME:{index:0,heading:"CONSTRAINT",usedAsRowHeader:!0,width:ee},CONSTRAINT_TYPE:{index:1,heading:"TYPE",width:de},SEARCH_CONDITION:{index:2,heading:"SEARCH_CONDITION",width:240},RELATED_TABLE:{index:3,heading:"RELATED_CONSTRAINT",width:ee},COLUMNS:{index:4,heading:D,width:ee},DELETE_RULE:{index:5,heading:"DELETE_RULE",width:de},STATUS:{index:6,heading:C,width:de},LAST_CHANGE:{index:7,heading:"LAST_CHANGE",width:te},INDEX_NAME:{index:8,heading:"INDEX",width:ee},INVALID:{index:9,heading:"INVALID",width:ae}}),updateActions:function(e){const n=e.models.get("CONSTRAINTS");if(n){let e=!0,i=!0,a=n.getFieldKey("STATUS");n.forEach((n=>{"ENABLED"===n[a]?i=!1:e=!1})),J("table-enable-constraint",!e),J("table-disable-constraint",!i),J("table-drop-constraint",n.getTotalRecords(!0)>0)}},actions:[{name:"table-create-constraint",label:p("CREATE"),icon:"icon-ob-create",action:function(){const e=o();let n=e.models.get("CONSTRAINTS"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:n};return E("dialogAddConstraint",i)}},{name:"table-drop-constraint",label:p(u),icon:"icon-ob-drop",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("CONSTRAINTS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:i};return X(a,n,i),E("dialogDropConstraint",a)}},{name:"table-enable-constraint",label:p("ENABLE"),icon:"icon-ob-enable",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("CONSTRAINTS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitleArgs:[p("ENABLE")],model:i,enable:!0};return X(a,n,i,"DISABLED"),E("dialogEnDisConstraint",a)}},{name:"table-disable-constraint",label:p("DISABLE"),icon:"icon-ob-disable",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("CONSTRAINTS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitleArgs:[p("DISABLE")],model:i,enable:!1};return X(a,n,i,"ENABLED"),E("dialogEnDisConstraint",a)}}]},{id:N,type:q,noDataMessage:Ae,columns:se,actions:[{name:"grant",label:p("GRANT"),icon:"icon-ob-grant",action:function(){const e=o();let n=e.models.get("GRANTS"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,objectType:e.type,model:n};return E("dialogGrant",i)}},{name:"revoke",label:p("REVOKE"),icon:"icon-ob-revoke",action:function(){const e=o();let n=e.models.get("GRANTS"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,objectType:e.type,model:n};return E("dialogRevoke",i)}}]},{id:I,type:Q,subViews:[{subId:"TBL",headingKey:"TABLE_STATISTICS",shape:x,modelEditable:!0,columns:B({NUM_ROWS:{index:0,label:"ROWS"},BLOCKS:{index:1,label:"BLOCKS"},AVG_ROW_LEN:{index:2,label:"AVG_ROW_LEN"},LAST_ANALYZED_SINCE:{index:3,label:O}})},{subId:"COL",headingKey:"COLUMN_STATISTICS",hasSize:!1,columns:y({COLUMN_NAME:{index:0,heading:"COLUMN_NAME",usedAsRowHeader:!0,width:ee},DATA_TYPE:{index:1,heading:"DATA_TYPE",width:140},DATA_LENGTH:{index:2,heading:"DATA_LENGTH",alignment:"end",width:ne},DATA_PRECISION:{index:3,heading:"DATA_PRECISION",alignment:"end",width:ne},DATA_SCALE:{index:4,heading:"DATA_SCALE",alignment:"end",width:ne},NUM_DISTINCT:{index:5,heading:"DISTINCT",alignment:"end",width:ne},DENSITY:{index:6,heading:"DENSITY",alignment:"end",width:ie},NUM_NULLS:{index:7,heading:"NULLS",alignment:"end",width:ne},NUM_BUCKETS:{index:8,heading:"BUCKETS",alignment:"end",width:ne},AVG_COL_LEN:{index:9,heading:"AVG_COL_LEN",alignment:"end",width:ne},LAST_ANALYZED:{index:10,heading:O,width:te}})}],actions:[{name:"table-gather-stats",label:p("GET_STATS"),icon:"icon-ob-stats",action:function(){H("STATS_TBL","LAST_ANALYZED_SINCE")}}]},{id:"TRIGGERS",type:q,modelEditable:!0,identityField:"OBJECT_ID",noDataMessage:P("NO_DATA_TRIGGERS"),columns:y({OWNER:{index:0,heading:"OWNER",width:ee},TRIGGER_NAME:{index:1,heading:"TRIGGER_NAME",cellTemplate:G("&OWNER.","&TRIGGER_NAME.","TRIGGER"),usedAsRowHeader:!0,width:ee},TRIGGER_TYPE:{index:2,heading:"TRIGGER_TYPE",width:de},TRIGGERING_EVENT:{index:3,heading:"TRIGGERING_EVENT",width:de},STATUS:{index:4,heading:C,headingAlignment:"center",alignment:"center",width:de},OBJECT_ID:{index:5,hidden:!0,canHide:!1}}),updateActions:function(e){const n=e.models.get("TRIGGERS");if(n){let e=!0,i=!0,a=n.getFieldKey("STATUS");n.forEach((n=>{"ENABLED"===n[a]?i=!1:e=!1})),J("table-enable-trigger",!e),J("table-disable-trigger",!i),J("table-drop-trigger",n.getTotalRecords(!0)>0)}},actions:[{name:"table-create-trigger",label:p("CREATE"),icon:"icon-ob-create",action:function(e,n){let i=o();if("TABLE"===i.type&&"TRIGGERS"===i.currentViewId)return l(n,"CREATE_TABLE_TRIGGER",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}},{name:"table-drop-trigger",label:p(u),icon:"icon-ob-drop",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("TRIGGERS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:i};return j(a,n,i),E("dialogDropTrigger",a)}},{name:"table-enable-trigger",label:p("ENABLE"),icon:"icon-ob-enable",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("TRIGGERS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitleArgs:[p("ENABLE")],model:i,enable:!0};return j(a,n,i,"DISABLED"),E("dialogEnDisTrigger",a)}},{name:"table-disable-trigger",label:p("DISABLE"),icon:"icon-ob-disable",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("TRIGGERS"),a={id:e.id,owner:e.owner,schema:e.schema,name:e.name,dialogTitleArgs:[p("DISABLE")],model:i,enable:!1};return j(a,n,i,"ENABLED"),E("dialogEnDisTrigger",a)}}]},{id:m,type:$,subViews:[Se,be,Oe,{subId:"REST",headingKey:"REST_SYNC",hasSize:!1,noDataMessage:P("NO_DATA_REST"),columns:y({APPLICATION_ID:{index:0,heading:"APP_ID",width:ie},APPLICATION_NAME:{index:1,heading:"APP_NAME",usedAsRowHeader:!0,width:ee},MODULE_NAME:{index:2,heading:"REST_SOURCE",width:ee},SYNC_IS_ACTIVE:{index:3,heading:"ACTIVE",width:ae},SYNC_INTERVAL:{index:4,heading:"JOB_INTERVAL",width:ie},LAST_SYNCHRONIZATION:{index:5,heading:"LAST_SYNC",width:te},NEXT_SYNCHRONIZATION:{index:6,heading:"NEXT_SYNC",width:te}})}]},Ne,{id:"SAMPLES",type:q,fixedRowHeight:!1,columns:y({ROWID:{index:0,hidden:!0,canHide:!1},RELEVANCE:{index:1,heading:"RELEVANCE",headingAlignment:"end",alignment:"end",width:ie},DESCRIPTION:{index:2,heading:"DESCRIPTION",width:240},QUERY:{index:3,heading:"QUERY",copyValueToClipboard:!0,cellTemplate:'<pre>&QUERY.</pre>\n<button type="button" class="a-Button u-noSelect" data-action=\'copy-query\'>&"APP_TEXT$OB.ACTION_COPY".</button>\n<button type="button" class="a-Button u-noSelect" data-action="run-query?url=&RUN_LINK.">&"APP_TEXT$OB.ACTION_RUN".</button>'},RUN_LINK:{index:4,hidden:!0,canHide:!1}})}]}),t("VIEW",{icon:"icon-ob-view",views:[{labelKey:"VIEW",id:s,type:Q,subViews:[{subId:b,headingKey:L,modelEditable:!0,hidden:!0,shape:x,columns:Te},{subId:r,headingKey:D,modelEditable:!0,identityField:"COLUMN_ID",noDataMessage:oe,columns:(e=>{let n,i=T(!0,{},e);return n=i.DATA_DEFAULT,n.hidden=!0,n.canHide=!1,n=i.PRIMARY_KEY,n.hidden=!0,n.canHide=!1,delete i.IDENTITY,delete i.VIRTUAL,delete i.INVISIBLE,i})(ce)}],actions:[{name:"view-compile",icon:"icon-ob-compile",label:p("COMPILE"),action:function(){F()}},"view-drop",{name:"comment",label:p("COMMENT"),icon:"icon-ob-comment",action:function(){const e=o();let n=e.getCurrentView().find(".a-GV"),i=e.models.get("MAIN_COLS"),a=e.models.get("MAIN_SUMMARY"),d={id:e.id,owner:e.owner,schema:e.schema,name:e.name,objectType:e.type,model:i,objModel:a};return v(d,n,i),E("dialogComment",d)}}]},{id:_,type:Z,language:M,readOnly:!1,actions:[{name:"view-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},"download-text",{name:"code-save-compile",label:p("SAVE_COMPILE"),icon:"icon-ob-compile",hot:!0,action:function(){return o().save()}}]},{id:A,type:q,noDataMessage:le,columns:null,actions:["choose-columns","filter","count-rows","download-excel"]},me,re,he,Ne]}),t("INDEX",{icon:"icon-ob-index",views:[{labelKey:h,id:S,type:Q,subViews:[{subId:"IDX",headingKey:"INDEX",shape:x,columns:B({INDEX_NAME:{index:0,label:"INDEX_NAME"},INDEX_TYPE:{index:1,label:"INDEX_TYPE"},TABLE_OWNER:{index:2,label:"TABLE_OWNER"},TABLE_NAME:{index:3,label:"TABLE_NAME",cellTemplate:G("&TABLE_OWNER.","&TABLE_NAME.","&TABLE_TYPE.")},TABLE_TYPE:{index:4,label:"TABLE_TYPE"},UNIQUENESS:{index:5,label:"UNIQUENESS"},COMPRESSION:{index:6,label:"COMPRESSION"},PREFIX_LENGTH:{index:7,label:"PREFIX_LENGTH"},TABLESPACE_NAME:{index:8,label:"TABLESPACE_NAME"},STATUS:{index:9,label:C},LAST_ANALYZED:{index:10,label:O},OBJECT_ID:{index:11,hidden:!0,canHide:!1}})},{subId:r,headingKey:"INDEX_COLUMNS",hasSize:!1,columns:y({COLUMN_NAME:{index:0,heading:"COLUMN_NAME",usedAsRowHeader:!0,width:ee},COLUMN_EXPRESSION:{index:1,heading:"COLUMN_EXPRESSION",width:240,canSort:!1,canFilter:!1},COLUMN_POSITION:{index:2,heading:"COLUMN_POSITION",alignment:"end",width:ie}})}],actions:[{name:"index-disable",label:p("DISABLE"),icon:"icon-ob-disable",action:function(){V()}},{name:"index-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},{name:"index-rebuild",label:p("REBUILD"),icon:"icon-ob-rebuild",action:function(){K("rebuild")}}]},{id:I,type:k,shape:x,modelEditable:!0,columns:B({NUM_ROWS:{index:0,label:"NUM_ROWS"},COMPRESSION:{index:1,label:"COMPRESSION"},LAST_ANALYZED:{index:2,label:O}}),actions:[{name:"index-gather-stats",label:p("GET_STATS"),icon:"icon-ob-stats",action:function(){H("STATS","LAST_ANALYZED")}}]},Ne]}),t("SEQUENCE",{icon:"icon-ob-sequence",views:[{labelKey:h,id:S,type:k,shape:x,modelEditable:!0,columns:B({MIN_VALUE:{index:0,label:"MIN_VALUE"},MAX_VALUE:{index:1,label:"MAX_VALUE"},INCREMENT_BY:{index:2,label:"INCREMENT_BY"},CYCLE_FLAG:{index:3,label:"CYCLE_FLAG"},ORDER_FLAG:{index:4,label:"ORDER_FLAG"},CACHE_SIZE:{index:5,label:"CACHE_SIZE"},LAST_NUMBER:{index:6,label:"LAST_NUMBER"}}),actions:[{name:"sequence-alter",label:p("ALTER"),icon:"icon-ob-edit",action:function(){const e=o(),n=e.models.get("DETAILS"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:n};return E("dialogAlterSequence",i)}},{name:"sequence-drop",icon:"icon-ob-drop",label:p(u),action:function(){return Y()}}]},re,he,Ne]}),t("TYPE",{icon:"icon-ob-type",views:[{labelKey:h,id:S,type:k,shape:x,columns:B({OWNER:{index:0,label:"OWNER"},TYPE_NAME:{index:1,label:"TYPE_NAME"},TYPE_OID:{index:2,label:"TYPE_OID"},TYPECODE:{index:3,label:"OBJ_COL"},ATTRIBUTES:{index:4,label:"ATTRIBUTES"},METHODS:{index:5,label:"METHODS"},PREDEFINED:{index:6,label:"PREDEFINED"},INCOMPLETE:{index:7,label:"COMPLETE"},FINAL:{index:8,label:"FINAL"},INSTANTIABLE:{index:9,label:"INSTANTIABLE"},SUPERTYPE_OWNER:{index:10,label:"SUPERTYPE_OWNER"},SUPERTYPE_NAME:{index:11,label:"SUPERTYPE_NAME"},LOCAL_ATTRIBUTES:{index:12,label:"LOCAL_ATTRIBUTES"},LOCAL_METHODS:{index:13,label:"LOCAL_METHODS"}}),actions:[{name:"type-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}}]},ue,re,Ne]}),t("PACKAGE",{icon:"icon-ob-package",views:[{labelKey:"SPECIFICATION",id:"SPEC",type:Z,language:M,readOnly:!1,actions:[{name:"code-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},"download-text","code-save-compile"]},{id:"BODY",type:Z,language:M,readOnly:!1,actions:["code-drop","download-text","code-save-compile"]},he,{id:R,type:q,fixedRowHeight:!1,noDataMessage:Ie,columns:y({LOC:{index:0,heading:"LOCATION",width:de},LINE:{index:1,heading:"LINE",alignment:"end",width:ne},POSITION:{index:2,heading:"POSITION",alignment:"end",width:ne},TEXT:{index:3,heading:"TEXT",noStretch:!1,cellTemplate:f("{case LOC/}{when PACKAGE/}SPEC{otherwise/}BODY{endcase/}")}})},re]}),t("PROCEDURE",{icon:"icon-ob-procedure",views:Ce}),t("FUNCTION",{icon:"icon-ob-function",views:Ce}),t("TRIGGER",{icon:"icon-ob-trigger",views:[{id:_,type:Z,language:M,readOnly:!1,actions:["code-drop","download-text","code-save-compile"]},me,{labelKey:h,id:S,type:k,shape:x,columns:B({OBJECT_STATUS:{index:0,label:"OBJECT_STATUS"},TRIGGER_STATUS:{index:1,label:"TRIGGER_STATUS"},TRIGGER_TYPE:{index:2,label:"TRIGGER_TYPE"},TRIGGERING_EVENT:{index:3,label:"TRIGGERING_EVENT"},BASE_OBJECT_TYPE:{index:4,label:"BASE_TYPE"},TABLE_OWNER:{index:5,label:"BASE_OWNER"},TABLE_NAME:{index:6,label:"BASE_NAME",cellTemplate:G("&TABLE_OWNER.","&TABLE_NAME.","TABLE")},COLUMN_NAME:{index:7,label:"COLUMN_NAME"},REFERENCING_NAMES:{index:8,label:"REFERENCING_NAMES"},WHEN_CLAUSE:{index:9,label:"WHEN_CLAUSE"},DESCRIPTION:{index:10,label:"DESCRIPTION"},ACTION_TYPE:{index:11,label:"ACTION_TYPE"},OBJECT_ID:{index:12,hidden:!0,canHide:!1}}),updateActions:function(e){const n=e.models.get("DETAILS_TRG");if(n&&n.getRecord()){"ENABLED"===n.getValue("TRIGGER_STATUS")?(a.hide("trigger-enable"),a.show("trigger-disable")):(a.show("trigger-enable"),a.hide("trigger-disable"))}},actions:[{name:"trigger-compile",label:p("COMPILE"),icon:"icon-ob-compile",action:function(){F()}},{name:"trigger-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},{name:"trigger-enable",label:p("ENABLE"),icon:"icon-ob-enable",action:function(){K("enable")}},{name:"trigger-disable",label:p("DISABLE"),icon:"icon-ob-disable",action:function(){V()}}]},Ne]}),t("DATABASE_LINK",{icon:"icon-ob-database-link",views:[{labelKey:h,id:S,type:k,shape:x,columns:B({OWNER:{index:0,label:"OWNER"},DB_LINK:{index:1,label:"DB_LINK"},USERNAME:{index:2,label:"USERNAME"},HOST:{index:3,label:"HOST"},CREATED:{index:4,label:"CREATED"}}),actions:[{name:"dblink-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},{name:"dblink-test",label:p("TEST"),icon:"icon-ob-test",action:function(){const e=o();let n={id:e.id,owner:e.owner,schema:e.schema,name:e.name};return E("dialogDBLinkTest",n)}}]},ue,Ne]}),t("MATERIALIZED_VIEW",{icon:"icon-ob-materialized-view",views:[{labelKey:"MATERIALIZED_VIEW",id:s,type:Q,subViews:[{subId:b,headingKey:L,modelEditable:!0,hidden:!0,shape:x,columns:Te},{subId:r,headingKey:D,modelEditable:!0,identityField:"COLUMN_ID",noDataMessage:oe,columns:(e=>{let n,i=T(!0,{},e);return n=i.IDENTITY,n.hidden=!0,n.canHide=!1,delete i.INVISIBLE,i})(ce)}],actions:[{name:"materialized-view-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}},"comment"]},{id:A,type:q,noDataMessage:le,columns:null,actions:["choose-columns","filter","count-rows","download-excel"]},{id:S,type:k,shape:x,columns:B({OWNER:{index:0,label:"OWNER"},NAME:{index:1,label:"NAME"},TABLE_NAME:{index:2,label:"TABLE_NAME"},MASTER_VIEW:{index:3,label:"MASTER_VIEW"},MASTER_OWNER:{index:4,label:"MASTER_OWNER"},MASTER:{index:5,label:"MASTER"},MASTER_LINK:{index:6,label:"MASTER_LINK"},CAN_USE_LOG:{index:7,label:"USE_LOG"},UPDATABLE:{index:8,label:"UPDATABLE"},REFRESH_METHOD:{index:9,label:"REFRESH_METHOD"},LAST_REFRESH:{index:10,label:"LAST_REFRESH"},ERROR:{index:11,label:"ERROR"},FR_OPERATIONS:{index:12,label:"FR_OPERATIONS"},CR_OPERATIONS:{index:13,label:"CR_OPERATIONS"},TYPE:{index:14,label:"TYPE"},NEXT:{index:15,label:"NEXT"},START_WITH:{index:16,label:"START_WITH"},REFRESH_GROUP:{index:17,label:"REFRESH_GROUP"},UPDATE_TRIG:{index:18,label:"UPDATE_TRIGGER"},UPDATE_LOG:{index:19,label:"UPDATE_LOG"},QUERY:{index:20,label:"QUERY"},MASTER_ROLLBACK_SEG:{index:21,label:"MASTER_ROLLBACK"},STATUS:{index:22,label:C},REFRESH_MODE:{index:23,label:"REFRESH_MODE"},PREBUILT:{index:24,label:"PREBUILT"}})},re,he,Ne]}),t("SYNONYM",{icon:"icon-ob-synonym",views:[{labelKey:h,id:S,type:k,shape:x,columns:B({SYNONYM_OWNER:{index:0,label:"SYNONYM_OWNER"},SYNONYM_NAME:{index:1,label:"SYNONYM_NAME"},OBJECT_OWNER:{index:2,label:"OBJECT_OWNER"},OBJECT_NAME:{index:3,label:"OBJECT_NAME",cellTemplate:G("&OBJECT_OWNER.","&OBJECT_NAME.","&OBJECT_TYPE.")},OBJECT_TYPE:{index:4,label:"OBJECT_TYPE"},STATUS:{index:5,label:C},OBJECT_ID:{index:6,hidden:!0,canHide:!1}}),actions:[{name:"synonym-drop",label:p(u),icon:"icon-ob-drop",action:function(){return Y()}}]}]}),t("SODA_COLLECTION",{icon:"icon-ob-soda",views:[{labelKey:"COL_CONTENTS",id:S,type:Q,subViews:[{subId:b,headingKey:L,shape:x,columns:B({DOCUMENT_COUNT:{index:0,label:"DOCUMENT_COUNT"}})},{subId:"CONTENTS",headingKey:"CONTENTS",hasSize:!1,columns:y({KEY:{index:0,heading:"KEY",usedAsRowHeader:!0,width:280},CONTENT:{index:1,heading:"CONTENT",width:280},CONTENT_SIZE:{index:2,heading:"SIZE",headingAlignment:"end",alignment:"end",width:ie},CREATED:{index:3,heading:"CREATED",headingAlignment:"center",alignment:"center",width:te},LAST_MODIFIED:{index:4,heading:"LAST_MODIFIED",headingAlignment:"center",alignment:"center",width:te}})}],actions:[{name:"soda-load-data",label:p("LOAD_DATA"),icon:"icon-ob-load-data",action:function(e,n){const i=o();if("SODA_COLLECTION"===i.type&&"DETAILS"===i.currentViewId)return l(n,"LOAD_SODA_COLLECTION",{TABLE_NAME:i.name,PARSING_SCHEMA:i.schema})}},{name:"soda-drop",label:p(u),icon:"icon-ob-drop",action:function(){const e=o();let n={id:e.id,owner:e.owner,schema:e.schema,name:e.name};return E("dialogDropSODA",n)}}]},{id:"GUIDE",type:z,subViews:[{subId:"GUIDE_SUMMARY",headingKey:L,shape:x,columns:B({SEARCH_INDEX:{index:0,label:"SEARCH_INDEX"},STATUS:{index:1,label:C},VIEWS:{index:2,label:"RELATIONAL_VIEWS",cellTemplate:"{loop VIEWS/}\n<a href='#action$open-object?id=&APEX$ITEM%id.&owner=&\"owner\".&label=&APEX$ITEM%name.&type=VIEW'>&APEX$ITEM%name.</a>\n{endloop/}"}})},{subId:"GUIDE_JSON",headingKey:"DATA_GUIDE",language:w,readOnly:!0}],updateActions:function(e){const n=e.models.get("GUIDE_GUIDE_SUMMARY");let i=!1;n&&n.getRecord()&&(i=n.getValue("SEARCH_INDEX")),i?(a.hide("soda-create-search"),a.show("soda-drop-search"),a.enable("soda-create-view")):(a.show("soda-create-search"),a.hide("soda-drop-search"),a.disable("soda-create-view"))},actions:[{name:"soda-create-search",label:p("CREATE_SEARCH_INDEX"),icon:"icon-ob-add",action:function(){const e=o();let n=e.models.get("GUIDE_GUIDE_SUMMARY"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:n};return E("dialogSODAIndex",i)}},{name:"soda-drop-search",label:p("DROP_SEARCH_INDEX"),icon:"icon-ob-drop",action:function(){const e=o(),n=e.models.get("GUIDE_GUIDE_SUMMARY").getValue("SEARCH_INDEX");c(e.schema,e.owner,"drop_soda_index",{objectId:this.objId,objectName:e.name,objectType:"SODA_COLLECTION",indexName:n},e.tabPanel$).then((({success:e})=>{e&&(a.invoke("refresh-view"),a.invoke("objects-refresh"))}))}},{name:"soda-create-view",label:p("CREATE_RELATIONAL_VIEW"),icon:"icon-ob-add",action:function(){const e=o();let n=e.models.get("GUIDE_GUIDE_SUMMARY"),i={id:e.id,owner:e.owner,schema:e.schema,name:e.name,model:n};return E("dialogSODAView",i)}}]},{id:"META",type:z,subViews:[{subId:"METADATA_SUMMARY",headingKey:L,shape:x,columns:B({ENDPOINT:{index:0,label:"ENDPOINT",cellTemplate:'<a href="&ENDPOINT!ATTR." target="_blank">&ENDPOINT.</a>'}})},{subId:"METADATA_JSON",headingKey:"META_DATA",language:w,readOnly:!0}]}]}),t("MLE_ENVIRONMENT",{icon:"icon-ob-mle-env",views:Le}),t("MLE_MODULE",{icon:"icon-ob-mle-module",views:De})}(apex.jQuery,objectBrowser,apex.lang,apex.actions,apex.message);