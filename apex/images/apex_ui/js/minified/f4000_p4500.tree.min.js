/*!
 * Copyright (c) 2013, 2024, Oracle and/or its affiliates.
 */
!function(e,t,n,i,o,a){"use strict";var r={IS_HEADER:"is-header",IS_EVENT_VIEW:"is-event-view",IS_NOT_IMPORTANT:"is-not-important",IS_POPULATED:"is-populated",IS_RUN_ON_INIT:"is-run-on-init"},_="CHECK$01",P=15,p=[{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:s("NAVIGATION_BAR_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:s("TAB_SET"),typeId:e.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:e.COMP_TYPE.LOV,type:"lov"},{typeId:e.COMP_TYPE.LIST,type:"list"},{typeId:e.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:e.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:e.COMP_TYPE.AI_CONFIG,type:"ai_config"},{typeId:e.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:e.COMP_TYPE.DATA_LOAD_DEF,type:"data_load_definition"},{typeId:e.COMP_TYPE.EMAIL_TEMPLATE,type:"email_template"},{typeId:e.COMP_TYPE.WS_REF,type:"web_service"},{typeId:e.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{typeId:e.COMP_TYPE.SEARCH_CONFIG,type:"search_config"},{typeId:e.COMP_TYPE.REPORT_QUERY,type:"report_query"},{title:s("TEMPLATES"),type:"template",children:[{titleTypeId:e.COMP_TYPE.PAGE,typeId:e.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:e.COMP_TYPE.PAGE_ITEM,typeId:e.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:e.COMP_TYPE.BUTTON,typeId:e.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:e.COMP_TYPE.REGION,typeId:e.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:e.COMP_TYPE.LIST,typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:s("CLASSIC_REPORT"),typeId:e.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:e.COMP_TYPE.BREADCRUMB,typeId:e.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:s("LEGACY_CALENDAR"),typeId:e.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];const E=n.hasOwnProperty;function s(e){return o.getMessage("PD.TREE."+e)}function l(e){var t=[s(e)].concat(Array.prototype.slice.call(arguments,1));return o.formatNoEscape.apply(this,t)}function c(e,t,n){return n?function(e){var t=[o.getMessage(e)].concat(Array.prototype.slice.call(arguments,1));return o.formatNoEscape.apply(this,t)}(e,t):t}function O(e,t){var n=d(e,a.extend({isHeader:!0},t));return n.children=[],n.state={},t.isOpen&&(n.state={opened:!0}),t.omitIfEmpty&&(n.commands.omitIfEmpty=!0),t.showHasComponents&&(n.commands.showHasComponents=!0),n}function d(n,i){var o={type:i.type,label:i.title,classes:"",data:{},commands:{}};return i.component instanceof e.Component?(o.data={typeId:i.component.typeId,componentId:i.component.id,isPlain:i.isPlain},i.isPlain||(t.isNever(i.component)?o.classes=t.CSS.IS_NEVER:t.isConditional(i.component)&&(o.classes=t.CSS.IS_CONDITIONAL),i.component.hasChanged()&&(o.classes+=" "+t.CSS.IS_CHANGED),i.component.hasErrors()&&(o.classes+=" "+t.CSS.IS_ERROR,o.commands.openAllParents=!0),i.component.hasWarnings()&&(o.classes+=" "+t.CSS.IS_WARNING),i.component.typeId===e.COMP_TYPE.DA_ACTION&&"Y"===i.component.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()&&(o.classes+=" "+r.IS_RUN_ON_INIT)),i.title||(o.label=i.component.getDisplayTitle())):(i.hasWarnings&&(o.classes+=" "+t.CSS.IS_WARNING),i.hasErrors&&(o.classes+=" "+t.CSS.IS_ERROR,o.commands.openAllParents=!0)),i.isNotImportant&&(o.classes+=" "+r.IS_NOT_IMPORTANT),E(i,"id")?o.id=i.id:i.component instanceof e.Component?(o.id=o.type+"_"+i.component.typeId+"_"+i.component.id,0!==o.type.indexOf("inline_")&&0!==o.type.indexOf("page_load_da_")||(o.id=n.id+"_"+o.id)):(o.id=i.type,i.idPostfix&&(o.id+=i.idPostfix),n&&(o.id=n.id+"_"+o.id)),i.tooltip&&(o.tooltip=i.tooltip),E(i,"icon")&&(!1===i.icon?o.icon=null:o.icon=i.icon),i.openAllParents&&(o.commands.openAllParents=!0),n&&n.children.push(o),o}function T(e,t){var n,i;if((t=a.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},t)).isHeader=!0,t.isNotImportant=!0,n=O(e,t),t.filter)if("parent"===t.filter.setFilter)for(i=0;i<t.filter.properties.length;i++)e.data[t.filter.properties[i].id]=t.filter.properties[i].value;else if(t.filter.properties)for(i=0;i<t.filter.properties.length;i++)n.data[t.filter.properties[i].id]=t.filter.properties[i].value;if(t.data)for(var o in t.data)E(t.data,o)&&(n.data[o]=t.data[o]);return n}function I(t){if(t.children){for(var n=0;n<t.children.length;)I(t.children[n])?t.children.splice(n,1):(t.children[n].commands.openAllParents&&(t.state.opened||(t.state.opened=!0),t.commands.openAllParents||(t.commands.openAllParents=!0)),(t.children[n].state&&t.children[n].state.hasComponents||E(t.children[n].data,"componentId")&&!e.getComponents(t.children[n].data.typeId,{id:t.children[n].data.componentId})[0].isOnGlobalPage())&&(t.state.hasComponents||(t.state.hasComponents=!0,t.commands.showHasComponents&&(t.classes+=" "+r.IS_POPULATED))),n+=1);return 0===t.children.length&&delete t.state,t.commands.omitIfEmpty&&(t.children&&0===t.children.length||!t.children)}return delete t.state,!1}function C(n,i){var o,a,r,_,P,p,E=i.setFilter,s=[],l={};if(void 0===E&&(E="parent"),!1===i.header){if(_=n,"parent"===E)for(p=0;p<i.component.filter.properties.length;p++)n.data[i.component.filter.properties[p].id]=i.component.filter.properties[p].value}else{if(o=i.header.component instanceof e.Component?i.header.component.getDisplayTitle():i.header.title?i.header.title:e.getComponentType(i.component.typeId).title.plural,E)if(r={setFilter:E,properties:[]},Array.isArray(i.component))for(p=0;p<i.component.length;p++)r.properties=r.properties.concat(i.component[p].filter.properties);else i.component.filter.properties&&(r.properties=i.component.filter.properties);_=T(n,{title:o,type:i.header.type,id:i.header.id,idPostfix:i.header.idPostfix,isPlain:i.header.isPlain,hasWarnings:i.header.hasWarnings,hasErrors:i.header.hasErrors,isOpen:i.header.isOpen,openAllParents:i.header.openAllParents,omitIfEmpty:i.header.omitIfEmpty,component:i.header.component,filter:r})}if(Array.isArray(i.component))for(p=0;p<i.component.length;p++)s[p]={typeId:i.component[p].typeId,filter:i.component[p].filter},l[i.component[p].typeId]=i.component[p];else s[0]={typeId:i.component.typeId,filter:i.component.filter},l[i.component.typeId]=i.component;for(a=e.getComponentsAdvanced(s),p=0;p<a.length;p++)t.isDisplayed(a[p])&&(l[a[p].typeId].addSubComponents?(P=O(_,{title:a[p].getDisplayTitle(),type:l[a[p].typeId].type,component:a[p],isHeader:!1,isPlain:l[a[p].typeId].isPlain,isOpen:l[a[p].typeId].isOpen,openAllParents:!a[p].isOnGlobalPage()&&l[a[p].typeId].openAllParents,omitIfEmpty:l[a[p].typeId].omitIfEmpty}),l[a[p].typeId].addSubComponents(P,a[p])):d(_,{title:a[p].getDisplayTitle(),type:l[a[p].typeId].type,isPlain:l[a[p].typeId].isPlain,component:a[p],openAllParents:!a[p].isOnGlobalPage()&&l[a[p].typeId].openAllParents}))}function R(t,n){var i;return t===e.COMP_TYPE.BRANCH?i=e.PROP.BRANCH_POINT:t===e.COMP_TYPE.PAGE_COMPUTATION?i=e.PROP.COMPUTATION_POINT:t===e.COMP_TYPE.PAGE_PROCESS&&(i=e.PROP.PROCESS_POINT),e.getLovTitle(t,i,n)}function u(t,n,i){C(t,{header:{type:"branches",isOpen:!0,omitIfEmpty:i},component:{type:"branch",typeId:e.COMP_TYPE.BRANCH,filter:{properties:[{id:e.PROP.BRANCH_POINT,value:n.processPoint}]},openAllParents:!0}})}function A(t,n,i){var o,a,r,_="inline_",P={isOpen:!0,omitIfEmpty:i};E(n,"regionColumn")?(r=n.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue(),o=function(){var t;return this.getProperty(e.PROP.VALIDATION_REGION).getValue()===n.region.id&&((t=this.getProperty(e.PROP.REGION_VAL_COLUMN))&&t.getValue()===r||this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()===r)}):E(n,"region")?(P.isOpen=!1,o=function(){return!(this.getProperty(e.PROP.VALIDATION_REGION).getValue()!==n.region.id||""!==this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(e.PROP.REGION_VAL_COLUMN))}):E(n,"item")?(a=n.item.getProperty(e.PROP.ITEM_NAME).getValue(),o=function(){var t;return""===this.getProperty(e.PROP.VALIDATION_REGION).getValue()&&(t=this.getProperty(e.PROP.VAL_ITEM),this.getProperty(e.PROP.ASSOCIATED_ITEM).getValue()===n.item.id||t&&t.getValue()===a)}):(_="",P.isOpen=!0,P.openAllParents=!0),P.type=_+"validations",C(t,{header:P,setFilter:!1,component:{type:_+"validation",typeId:e.COMP_TYPE.VALIDATION,filter:{properties:[],filterFunction:o}}})}function m(t,n,i,o){var a,r=E(n,"item")?"inline_":"",_={type:r+"computations",isOpen:!0,omitIfEmpty:i};E(n,"processPoint")?a={id:e.PROP.COMPUTATION_POINT,value:n.processPoint}:E(n,"item")&&(a={id:e.PROP.COMPUTATION_ITEM_NAME,value:n.item.getProperty(e.PROP.ITEM_NAME).getValue()}),C(t,{header:_,component:{type:r+"computation",typeId:e.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[a]},openAllParents:o}})}function N(t,n,i,o){var a,r,_=E(n,"region")?"inline_":"";r="ON_DEMAND"!==n.processPoint&&{type:_+"processes",isOpen:!0,omitIfEmpty:i},E(n,"processPoint")?a={id:e.PROP.PROCESS_POINT,value:n.processPoint}:E(n,"region")&&(a={id:e.PROP.PROCESS_REGION,value:n.region.id},r.isOpen=!1),C(t,{header:r,component:{type:_+"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[a]},addSubComponents:function t(n,i){var o=i.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue();"NATIVE_CREATE_TASK"===o&&C(n,{header:{type:"task_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"task_param",typeId:e.COMP_TYPE.PAGE_PROCESS_TASK_PARAM,filter:{parentId:i.id}}}),"NATIVE_WORKFLOW"===o&&"START"===i.getProperty(e.getPluginProperty(i.typeId,o,1).id).getValue()&&C(n,{header:{type:"workflow_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"workflow_param",typeId:e.COMP_TYPE.PAGE_PROCESS_WF_PARAM,filter:{parentId:i.id}}}),"NATIVE_INVOKE_API"===o?(C(n,{header:{type:"api_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"api_param",typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM,filter:{parentId:i.id}}}),C(n,{header:{type:"api_ws_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"api_ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_PARAM,filter:{parentId:i.id}}})):["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"].includes(o)&&(C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:i.id}}}),"ITEMS"===i.getProperty(e.getPluginProperty(e.COMP_TYPE.PAGE_PROCESS,o,2).id).getValue()&&C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:i.id}}}),C(n,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:i.id}}})),"NATIVE_EXECUTION_CHAIN"===o&&C(n,{header:{type:"processes",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[{id:e.PROP.PARENT_PROCESS,value:i.id}]},addSubComponents:t}})},openAllParents:o}})}function g(t,i){function o(t,n,i,o){C(t,{header:{title:o,type:"da_actions_"+i,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:e.COMP_TYPE.DA_ACTION,filter:{parentId:n.id,properties:[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}]}}})}var a,r=!1,_=[],P={title:s("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};a="inline_",E(i,"regionColumn")?(_.push({id:e.PROP.WHEN_IG_REGION,value:i.region.id}),_.push({id:e.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):E(i,"region")?(_.push({id:e.PROP.WHEN_TYPE,value:"REGION"}),_.push({id:e.PROP.WHEN_REGION,value:i.region.id}),P.isOpen=!1):E(i,"item")?_.push({id:e.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.item.getProperty(e.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):E(i,"button")?_.push({id:e.PROP.WHEN_BUTTON,value:i.button.id}):E(i,"event")&&(_.push({id:e.PROP.EVENT,value:i.event}),a="",r="header",""===i.event?P.title=s("UNDEFINED_EVENT"):P.title=e.getLovTitle(e.COMP_TYPE.DA_EVENT,e.PROP.EVENT,i.event),P.idPostfix="_"+i.event,P.omitIfEmpty=!1),P.type=a+"da_events",C(t,{header:P,setFilter:r,component:{type:a+"da_event",typeId:e.COMP_TYPE.DA_EVENT,filter:{properties:_},addSubComponents:function(e,t){o(e,t,"true",s("TRUE")),o(e,t,"false",s("FALSE"))}}})}function y(t,n){function i(t){let i={properties:[]};return E(n,"processPoint")?(i.properties.push({id:t,value:""}),i.properties.push({id:e.PROP.SLOT_PLACEHOLDER,value:n.processPoint.id})):E(n,"slot")?(n.region?i.properties.push({id:t,value:n.region.id}):i.properties.push({id:t,value:""}),i.properties.push({id:e.PROP.SLOT_PLACEHOLDER,value:n.slot.placeholder})):E(n,"validSlots")&&(n.region?i.properties.push({id:t,value:n.region.id}):i.properties.push({id:t,value:""}),i.filterFunction=function(){const t=this.getPropertyValue(e.PROP.SLOT_PLACEHOLDER);return!!t&&!n.validSlots.find((e=>e.placeholder===t))}),i}C(t,{header:function(){let t={isOpen:!1,omitIfEmpty:!0};return E(n,"processPoint")?(t.title=n.processPoint.name,t.type="process_point",t.id=n.processPoint.id,t.omitIfEmpty=!n.processPoint.isQuickPick):E(n,"slot")?(t.title=c("MODEL.POSTFIX.LEGACY",n.slot.name,n.slot.isLegacy),n.region?(t.type="region_slot",t.id=`region_${e.COMP_TYPE.REGION}_${n.region.id}_slot_${n.slot.placeholder}`):(t.type="page_slot",t.id=`page_${e.COMP_TYPE.PAGE}_slot_${n.slot.placeholder}`,t.omitIfEmpty=!n.slot.isQuickPick)):E(n,"validSlots")&&(t.title=s("INVALID_SLOT"),t.hasWarnings=!0,n.region?(t.type="region_slot",t.id=`region_${e.COMP_TYPE.REGION}_${n.region.id}_invalid_slot`):(t.type="page_slot",t.id=`page_${e.COMP_TYPE.PAGE}_invalid_slot`)),t}(),setFilter:"header",component:[{type:"region",typeId:e.COMP_TYPE.REGION,filter:i(e.PROP.PARENT_REGION),addSubComponents:function(t,n){var i={NATIVE_CARDS:f,NATIVE_MAP_REGION:M,NATIVE_IR:S,NATIVE_IG:v,NATIVE_SQL_REPORT:Y,NATIVE_FNC_REPORT:Y,NATIVE_TABFORM:L,NATIVE_JET_CHART:V,NATIVE_FACETED_SEARCH:D,NATIVE_SEARCH_REGION:G,NATIVE_SMART_FILTERS:b};const o=n.getProperty(e.PROP.REGION_TYPE).getValue();if(n.isOnGlobalPage()||(E(i,o)?i[o](t,n):/^(TMPL)/.test(o)?function(t,n){n.getProperty(e.PROP.SOURCE_LOCATION)?.getValue()&&C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_tmpl_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_tmpl_column",typeId:e.COMP_TYPE.REGION_TMPL_COLUMN,filter:{parentId:n.id}}});h({headerNode:t,component:n,pluginName:n.getProperty(e.PROP.REGION_TYPE).getValue(),nodePrefix:"region",actionCompTypeId:e.COMP_TYPE.REGION_ACTION,menuEntryCompTypeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,parentMenuPropId:e.PROP.REGION_ACTION_PARENT_MENU})}(t,n):U(t,n)),n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:e.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:n.id}}}),A(t,{region:n},!0),g(t,{region:n}),n){const i=e.getSlots({regionId:n.id});for(const e of i)y(t,{region:n,slot:e});y(t,{region:n,validSlots:i})}},isOpen:!0,openAllParents:!0,omitIfEmpty:!1},{type:"item",typeId:e.COMP_TYPE.PAGE_ITEM,filter:i(e.PROP.REGION),addSubComponents:function(e,t){A(e,{item:t},!0),g(e,{item:t}),m(e,{item:t},!0)},isOpen:!1,openAllParents:!0},{type:"button",typeId:e.COMP_TYPE.BUTTON,filter:i(e.PROP.REGION),addSubComponents:function(e,t){g(e,{button:t})},isOpen:!1,openAllParents:!0}]})}function M(t,n){var i=e.getComponents(e.COMP_TYPE.MAP_REGION,{parentId:n.id})[0];C(t,{header:{type:"map_layers",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_layer",typeId:e.COMP_TYPE.MAP_LAYER,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"map_layer_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"map_layer_web_src_param",typeId:e.COMP_TYPE.MAP_LAYER_WS_PARAM,filter:{parentId:n.id}}})}}})}function f(t,n){var i=e.getComponents(e.COMP_TYPE.CARD,{parentId:n.id})[0];C(t,{header:{type:"card_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"card_action",typeId:e.COMP_TYPE.CARD_ACTION,filter:{parentId:i.id}}})}function h(t){e.hasPluginActions(t.component.typeId,t.pluginName)&&C(t.headerNode,{header:{type:t.nodePrefix+"_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action",typeId:t.actionCompTypeId,filter:{parentId:t.component.id},addSubComponents:function(n,i){"MENU"===e.getActionPositionType(i)&&C(n,{header:{type:t.nodePrefix+"_action_menu_entries",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action_menu_entry",typeId:t.menuEntryCompTypeId,filter:{parentId:i.id,properties:[{id:t.parentMenuPropId,value:""}]},addSubComponents:function n(i,o){"SUB_MENU"===o.getProperty(e.PROP.MENU_ENTRY_TYPE).getValue()&&C(i,{header:{type:t.nodePrefix+"_action_menu_entries",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:t.nodePrefix+"_action_menu_entry",typeId:t.menuEntryCompTypeId,filter:{properties:[{id:t.parentMenuPropId,value:o.id}]},addSubComponents:n}})}}})}}})}function S(t,n){let i=e.getComponents(e.COMP_TYPE.IR_ATTRIBUTES,{parentId:n.id})[0];C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:e.COMP_TYPE.IR_COLUMN,filter:{parentId:i.id},addSubComponents:function(t,n){let i=n.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue();/^(TMPL)/.test(i)&&h({headerNode:t,component:n,pluginName:i,nodePrefix:"ir_column",actionCompTypeId:e.COMP_TYPE.IR_COLUMN_ACTION,menuEntryCompTypeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,parentMenuPropId:e.PROP.IR_COLUMN_ACTION_PARENT_MENU})}}}),C(t,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:e.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:i.id}}}),C(t,{header:{type:"ir_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:e.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:i.id}}})}function v(t,n){var i=e.getComponents(e.COMP_TYPE.IG_ATTRIBUTES,{parentId:n.id})[0];C(t,{header:{title:s("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:e.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){A(e,{region:n,regionColumn:t},!0),g(e,{region:n,regionColumn:t})}}}),C(t,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:e.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:n.id}}}),C(t,{header:{type:"ig_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_saved_report",typeId:e.COMP_TYPE.IG_SAVED_REPORT,filter:{parentId:i.id}}})}function Y(t,n){C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:e.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:n.id}}})}function L(t,n){C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:e.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){A(e,{region:n,regionColumn:t},!0)}}})}function D(t,n){C(t,{header:{title:s("FACETS"),type:"facets",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"facet",typeId:e.COMP_TYPE.FACET,isOpen:!1,filter:{parentId:n.id}},{type:"facet_group",typeId:e.COMP_TYPE.FACET_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){C(t,{header:{type:"facet_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"facet_group_item",typeId:e.COMP_TYPE.FACET_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),U(t,n)}function G(t,n){C(t,{header:{title:s("SEARCH_SOURCES"),type:"search_sources",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"search_source",typeId:e.COMP_TYPE.SEARCH_REGION_SOURCE,isOpen:!1,filter:{parentId:n.id}}]}),U(t,n)}function b(t,n){C(t,{header:{title:s("SFILTERS"),type:"sfilters",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"sfilter",typeId:e.COMP_TYPE.SFILTER,isOpen:!1,filter:{parentId:n.id}},{type:"sfilter_group",typeId:e.COMP_TYPE.SFILTER_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){C(t,{header:{type:"sfilter_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"sfilter_group_item",typeId:e.COMP_TYPE.SFILTER_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),U(t,n)}function V(t,n){var i=e.getComponents(e.COMP_TYPE.JET_CHART,{parentId:n.id})[0],o=i.getProperty(e.PROP.JET_CHART_TYPE).getValue();C(t,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:e.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&C(t,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:e.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:n.id}}})}}}),o in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,gantt:1,line:1,lineWithArea:1,polar:1,radar:1,range:1,scatter:1,stock:1}&&C(t,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:e.COMP_TYPE.JET_CHART_AXES,filter:{parentId:i.id}}})}function U(t,n){var i=e.getComponentType(e.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins,o=n.getProperty(e.PROP.REGION_TYPE).getValue();-1!==a.inArray("COLUMNS",i[o].features)&&C(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:e.COMP_TYPE.REGION_COLUMN,filter:{parentId:n.id}}})}function F(){var t,n;return(t=O(void 0,{component:(n=e.getComponents(e.COMP_TYPE.PAGE))[0],type:"page",title:l("PAGE_TITLE",n[0].id,n[0].getDisplayTitle()),isHeader:!1,isOpen:!0})).data[e.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",t.data[e.PROP.PROCESS_POINT]="AFTER_HEADER",t.data[e.PROP.BRANCH_POINT]="BEFORE_HEADER",t.data[e.PROP.SLOT_PLACEHOLDER]="BODY",function(t){var n,i,o,a=e.getPageTemplate(),r=e.isGlobalPage();n=T(t,{title:s("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),r||(m(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),{processPoint:"ON_NEW_INSTANCE"},!0),N(o,{processPoint:"ON_NEW_INSTANCE"},!0),u(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),{processPoint:"BEFORE_HEADER"},!0),m(o,{processPoint:"BEFORE_HEADER"},!0),N(o,{processPoint:"BEFORE_HEADER"},!0));e.hasMetaTags()&&C(n,{header:{type:"meta_tags",omitIfEmpty:!0},component:{type:"meta_tag",typeId:e.COMP_TYPE.META_TAG,filter:{properties:[]},openAllParents:!0}});o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:r}),r||(m(o,{processPoint:"AFTER_HEADER"},!0),N(o,{processPoint:"AFTER_HEADER"},!0));y(o,{processPoint:{id:"AFTER_HEADER",name:c("MODEL.POSTFIX.LEGACY",s("COMPONENTS"),!0)}}),r||(m(o=T(n,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),{processPoint:"BEFORE_BOX_BODY"},!0),N(o,{processPoint:"BEFORE_BOX_BODY"},!0));o=T(t,{title:s("COMPONENTS"),type:"components",isOpen:!0});for(const e of a.slots)["AFTER_HEADER","BEFORE_FOOTER"].includes(e.placeholder)||y(o,{slot:e});y(o,{validSlots:a.slots}),i=T(t,{title:s("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),r||(m(o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),{processPoint:"AFTER_BOX_BODY"},!0),N(o,{processPoint:"AFTER_BOX_BODY"},!0));o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),r||(m(o,{processPoint:"BEFORE_FOOTER"},!0),N(o,{processPoint:"BEFORE_FOOTER"},!0));y(o,{processPoint:{id:"BEFORE_FOOTER",name:c("MODEL.POSTFIX.LEGACY",s("COMPONENTS"),!0)}}),r||(m(o=T(i,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),{processPoint:"AFTER_FOOTER"},!0),N(o,{processPoint:"AFTER_FOOTER"},!0))}(t),I(t),t}function H(){var t,n,i={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},o={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};function a(t,n,i,o){var a=[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}];"ready"!==n.getProperty(e.PROP.EVENT).getValue()&&a.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),C(t,{header:{title:o,type:"page_load_da_actions_"+i,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:e.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:n.id,properties:a}}})}C(i,{header:{title:s("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:e.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var t=!0;return"ready"!==this.getProperty(e.PROP.EVENT).getValue()&&(t=this.getChilds(e.COMP_TYPE.DA_ACTION,{properties:[{id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),t}},addSubComponents:function(e,t){a(e,t,"true",s("TRUE")),a(e,t,"false",s("FALSE"))}}}),t=T(i,{title:s("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:e.PROP.EVENT,value:""}]}}),n=e.getComponents(e.COMP_TYPE.DA_EVENT,{});for(var r=0;r<n.length;r++)o[n[r].getProperty(e.PROP.EVENT).getValue()]=!0;for(var _ in o)E(o,_)&&g(t,{event:_});return I(i),i}function x(){var t={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return function(t){var n;if(e.isGlobalPage())return;N(n=T(t,{title:R(e.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),{processPoint:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),u(n,{processPoint:"BEFORE_COMPUTATION"},!0),m(n,{processPoint:"AFTER_SUBMIT"},!0,!0),u(n=T(t,{title:R(e.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),{processPoint:"BEFORE_VALIDATION"},!0),A(n,{},!0),u(n=T(t,{title:R(e.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),{processPoint:"BEFORE_PROCESSING"},!0),N(n,{processPoint:"AFTER_SUBMIT"},!0,!0),u(n=T(t,{title:R(e.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),{processPoint:"AFTER_PROCESSING"},!0),N(n=T(t,{title:R(e.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),{processPoint:"ON_DEMAND"},!1,!0)}(t),I(t),t}function B(){function t(t,n,i){var o,r,_,P,p,s,c,O=e.getComponentType(n.typeId);c=T(t,{title:n.title||(n.titleTypeId?e.getComponentType(n.titleTypeId).title.singular:O.title.plural),type:n.type+"s",isOpen:!1,omitIfEmpty:i,data:{typeId:n.typeId}}),o=w(n.typeId),s={};for(var d=0;d<o.length;d++){r=e.getComponents(o[d].typeId,{});for(var I=0;I<r.length;I++)p=!1,o[d].typeId===e.COMP_TYPE.PAGE&&-1!==a.inArray(o[d].propertyId,[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.NAVIGATION_LIST,e.PROP.TAB_SET])?!r[I].getProperty(o[d].propertyId)||o[d].propertyId!==e.PROP.PAGE_TEMPLATE&&o[d].propertyId!==e.PROP.DIALOG_TEMPLATE||(p=!0,P=e.getPageTemplate().id):(_=r[I].getProperty(o[d].propertyId))&&""!==(P=_.getValue())&&(n.typeId!==e.COMP_TYPE.BUILD_OPTION&&n.typeId!==e.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(P)||(P=P.substr(1)),p=!0),p&&""!==P&&(E(s,P)||(s[P]={}),E(s[P],o[d].typeId)||(s[P][o[d].typeId]=[]),s[P][o[d].typeId].push(r[I]))}for(var R in s)E(s,R)&&C(c,{header:!1,component:{type:n.type,typeId:n.typeId,isOpen:!1,filter:{id:R,properties:[]},addSubComponents:function(t){var n,i;for(var o in s[R])if(E(s[R],o)){n=e.getComponentType(o),i=T(t,{title:l("REFERENCED_BY",1===s[R][n.id].length?n.title.singular:n.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var a=0;a<s[R][n.id].length;a++)C(i,{header:!1,component:{type:"referenced_by",typeId:n.id,isPlain:!0,filter:{id:s[R][n.id][a].id,properties:[]}}})}}}});return c}var n={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return function n(i,o,r){for(var _,P,p=!1,s=0;s<o.length;s++)-1!==a.inArray(o[s].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])?("navigation_menu_list"===o[s].type?(P=e.getNavListId(),p=!0):"navigation_bar_list"===o[s].type?(P=e.getNavBarListId(),p=!0):"nav_list_template"===o[s].type?P=e.getNavListTemplateId():"tab_set"===o[s].type&&(P=e.getTabSetId()),P&&C(i,{header:{title:o[s].title,type:o[s].type+"s",isOpen:p,omitIfEmpty:!0,data:{typeId:o[s].typeId}},component:{type:o[s].type,typeId:o[s].typeId,isOpen:!1,filter:{id:P,properties:[]}}})):_=E(o[s],"typeId")?t(i,o[s],r):T(i,{title:o[s].title,type:o[s].type+"s",isOpen:!0,omitIfEmpty:r}),o[s].children&&n(_,o[s].children,!0)}(n,p,!1),I(n),n}function w(t){for(var n,i,o=e.getComponentType(t),a=[],r=0;r<o.refByProperties.length;r++){n=e.getProperty(o.refByProperties[r]);for(var _=0;_<n.refByComponentTypes.length;_++)((i=e.getComponentType(n.refByComponentTypes[_])).isPageComponent||i.id===e.COMP_TYPE.PAGE)&&a.push({typeId:i.id,propertyId:n.id})}return a}function W(t){function n(e){var n;E(e,"value")?i.push({id:e.id,value:e.value}):e.typeId?(n=K(e.typeId,t._parent),i.push({id:e.id,value:n?n.id:""})):e.id&&i.push({id:e.id,value:Z(e.id,t._parent)+""})}var i=[];switch(t.type){case"region":"page_slot"===t._parent.type?(n({id:e.PROP.PARENT_REGION,value:""}),n({id:e.PROP.SLOT_PLACEHOLDER})):"region"===t._parent.type?(n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER,value:""})):(n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER}));break;case"item":case"button":"page_slot"===t._parent.type?(n({id:e.PROP.REGION,value:""}),n({id:e.PROP.SLOT_PLACEHOLDER})):"region"===t._parent.type?(n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER,value:""})):(n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.SLOT_PLACEHOLDER}));break;case"da_action":n({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),n({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":n({id:e.PROP.COMPUTATION_POINT});break;case"process":"processes"===t._parent.type&&"process"===t._parent._parent.type?n({id:e.PROP.PARENT_PROCESS,typeId:e.COMP_TYPE.PAGE_PROCESS}):n({id:e.PROP.PROCESS_POINT});break;case"branch":n({id:e.PROP.BRANCH_POINT});break;case"facet_group_item":n({id:e.PROP.FACET_GROUP,typeId:e.COMP_TYPE.FACET_GROUP}),n({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"sfilter_group_item":n({id:e.PROP.SFILTER_GROUP,typeId:e.COMP_TYPE.SFILTER_GROUP}),n({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"region_action_menu_entry":n({id:e.PROP.REGION_ACTION_PARENT_MENU,typeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY});break;case"ir_column_action_menu_entry":n({id:e.PROP.IR_COLUMN_ACTION_PARENT_MENU,typeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY})}return i}function k(e,t,n,i){var o,r,_=[],P=a(),p=n;if(n||"PDdynamicActionTree"!==t[0].id||(p="da_da_events"),i){for(r=0;r<e.length;r++)P=P.add(X(e[r],t,p));t.treeView("setSelection",P)}else{for(r=0;r<e.length;r++)(o=J(e[r],t,p))&&_.push(o);t.treeView("setSelectedNodes",_,!1,!0)}}function $(t,n,i,o){var r,P,p,l,c,O,d,T,I,C,R=Q(t),u=[];function A(e){var n;E(e,"value")?u.push({id:e.id,value:e.value}):e.typeId?(n=K(e.typeId,t),u.push({id:e.id,value:n?n.id:""})):e.id&&u.push({id:e.id,value:Z(e.id,t)+""})}if(i===e.COMP_TYPE.REGION){if("SUB_REGION"===o)A({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER,value:"SUB_REGIONS"});else if("REGION_DEFAULT_SLOT"===o){const n=K(e.COMP_TYPE.REGION,t),o=e.getSlot({component:n,componentTypeId:i}).placeholder;A({id:e.PROP.PARENT_REGION,value:n.id}),A({id:e.PROP.SLOT_PLACEHOLDER,value:o})}else if("page_slot"===t.type)A({id:e.PROP.PARENT_REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region_slot"===t.type)A({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region"===t.type)A({id:e.PROP.PARENT_REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if(["item","button"].includes(t.type)){const t=R.getProperty(e.PROP.REGION).getValue();A({id:e.PROP.PARENT_REGION,value:t}),A({id:e.PROP.SLOT_PLACEHOLDER})}else A({id:e.PROP.PARENT_REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});const n=u.find((t=>t.id===e.PROP.PARENT_REGION))?.value,a=e.getComponents(e.COMP_TYPE.REGION,{id:n})[0],r=u.find((t=>t.id===e.PROP.SLOT_PLACEHOLDER))?.value;if(a&&r){const t=e.getSlot({componentTypeId:i,component:a,slotPlaceholder:r});t&&Array.isArray(t.supportedRegionTypes)&&A({id:e.PROP.REGION_TYPE,value:t.supportedRegionTypes[0]})}}else if([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON].includes(i)){if(r=(P=K([e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE],t)).id,"page_slot"===t.type)A({id:e.PROP.REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region_slot"===t.type)A({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else if("region"===t.type)if("BELOW"===o)A({id:e.PROP.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER});else{A({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});const t=e.getSlot({component:P,componentTypeId:i}).placeholder;A({id:e.PROP.SLOT_PLACEHOLDER,value:t})}else["item","button"].includes(t.type)?(A({id:e.PROP.REGION}),A({id:e.PROP.SLOT_PLACEHOLDER})):(A({id:e.PROP.REGION,value:""}),A({id:e.PROP.SLOT_PLACEHOLDER}));if(i===e.COMP_TYPE.PAGE_ITEM){const t=u.find((t=>t.id===e.PROP.REGION))?.value,n=e.getComponents(e.COMP_TYPE.REGION,{id:t})[0],o=u.find((t=>t.id===e.PROP.SLOT_PLACEHOLDER))?.value;if(n&&o){const t=e.getSlot({componentTypeId:i,component:n,slotPlaceholder:o});t&&Array.isArray(t.supportedItemTypes)&&A({id:e.PROP.ITEM_TYPE,value:t.supportedItemTypes[0]})}}}else if(i===e.COMP_TYPE.PAGE_COMPUTATION)(P=K(e.COMP_TYPE.PAGE_ITEM,t))?(A({id:e.PROP.COMPUTATION_ITEM_NAME,value:P.getProperty(e.PROP.ITEM_NAME).getValue()}),A({id:e.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):A({id:e.PROP.COMPUTATION_POINT});else if(i===e.COMP_TYPE.PAGE_PROCESS)(P=K(e.COMP_TYPE.PAGE_PROCESS,t))&&"NATIVE_EXECUTION_CHAIN"===P.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()?A({id:e.PROP.PARENT_PROCESS,value:P.id}):A({id:e.PROP.PROCESS_POINT});else if(i===e.COMP_TYPE.VALIDATION){if(P=K([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.REGION,e.COMP_TYPE.TAB_FORM_COLUMN,e.COMP_TYPE.IG_COLUMN],t))switch(P.typeId){case e.COMP_TYPE.PAGE_ITEM:A({id:e.PROP.ASSOCIATED_ITEM,value:P.id});break;case e.COMP_TYPE.REGION:A({id:e.PROP.VALIDATION_REGION,value:P.id});break;case e.COMP_TYPE.TAB_FORM_COLUMN:case e.COMP_TYPE.IG_COLUMN:l=P.getProperty(e.PROP.COLUMN_NAME).getValue(),A({id:e.PROP.VALIDATION_REGION,value:P.parentId}),A({id:e.PROP.ASSOCIATED_COLUMN,value:l}),A({id:e.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),A({id:e.PROP.REGION_VAL_COLUMN,value:l}),A({id:e.PROP.ERROR_MESSAGE,value:s("COLUMN_NOT_NULL_VALIDATION")})}}else if(i===e.COMP_TYPE.BRANCH)A({id:e.PROP.BRANCH_POINT});else if(i===e.COMP_TYPE.DA_EVENT)if(P=K([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE,e.COMP_TYPE.IG_COLUMN],t))switch(P.typeId){case e.COMP_TYPE.PAGE_ITEM:A({id:e.PROP.EVENT,value:"change"}),A({id:e.PROP.WHEN_TYPE,value:"ITEM"}),A({id:e.PROP.WHEN_ITEMS,value:P.getProperty(e.PROP.ITEM_NAME).getValue()});break;case e.COMP_TYPE.BUTTON:-1!==a.inArray(P.getProperty(e.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])?(A({id:e.PROP.EVENT,value:"apexafterclosedialog"}),p=P.getProperty(e.PROP.REGION).getValue()):A({id:e.PROP.EVENT,value:"click"}),A({id:e.PROP.WHEN_TYPE,value:"BUTTON"}),A({id:e.PROP.WHEN_BUTTON,value:P.id});break;case e.COMP_TYPE.REGION:A({id:e.PROP.EVENT,value:(()=>{let t=P.getProperty(e.PROP.REGION_TYPE).getValue();return"NATIVE_CARDS"===t?"NATIVE_CARDS|REGION TYPE|tablemodelviewpagechange":"NATIVE_IG"===t?"NATIVE_IG|REGION TYPE|interactivegridselectionchange":t.startsWith("TMPL")?(p=P.id,"apexafterclosedialog"):"apexafterrefresh"})()}),A({id:e.PROP.WHEN_TYPE,value:"REGION"}),A({id:e.PROP.WHEN_REGION,value:P.id});break;case e.COMP_TYPE.PAGE:A({id:e.PROP.EVENT,value:"ready"});break;case e.COMP_TYPE.IG_COLUMN:A({id:e.PROP.EVENT,value:"change"}),A({id:e.PROP.WHEN_TYPE,value:"COLUMN"}),A({id:e.PROP.WHEN_IG_REGION,value:P.parentId}),A({id:e.PROP.WHEN_COLUMNS,value:P.getProperty(e.PROP.COLUMN_NAME).getValue()})}else A({id:e.PROP.EVENT});else i===e.COMP_TYPE.DA_ACTION?(A({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),A(void 0!==o?{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:o}:{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS})):i===e.COMP_TYPE.TAB_FORM_COLUMN||i===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,c=P.getChilds(i),A({id:e.PROP.QUERY_COLUMN_ID,value:c.length+1}),A({id:e.PROP.DERIVED_COLUMN,value:"Y"}),A({id:e.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===o?(A({id:e.PROP.COLUMN_NAME,value:_}),A({id:e.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),A({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===o&&(c=P.getChilds(i,{properties:[{id:e.PROP.DERIVED_COLUMN,value:"Y"}]},(function(t,n){return t.getProperty(e.PROP.COLUMN_NAME).getValue()>n.getProperty(e.PROP.COLUMN_NAME).getValue()?1:-1})),A({id:e.PROP.COLUMN_NAME,value:"DERIVED$"+(c.length<8?"0":"")+(c.length+1)}),A({id:i===e.COMP_TYPE.TAB_FORM_COLUMN?e.PROP.TAB_FORM_COLUMN_TYPE:e.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),A({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"}))):i===e.COMP_TYPE.IG_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),A({id:e.PROP.COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.REGION_TMPL_COLUMN?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.CARD_ACTION?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CARD)[0].id:i===e.COMP_TYPE.REGION_ACTION?(r=(P=K(e.COMP_TYPE.REGION,t)).id,A({id:e.PROP.HIDDEN_PLUGIN_NAME,value:P.getProperty(e.PROP.REGION_TYPE).getValue()})):i===e.COMP_TYPE.REGION_ACTION_MENU_ENTRY?(r=K(e.COMP_TYPE.REGION_ACTION,t).id,["region_action_menu_entries","region_action_menu_entry"].includes(t._parent._parent.type)&&A({id:e.PROP.REGION_ACTION_PARENT_MENU,value:K(e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,t._parent).id})):i===e.COMP_TYPE.IR_COLUMN_ACTION?(r=(P=K(e.COMP_TYPE.IR_COLUMN,t)).id,A({id:e.PROP.HIDDEN_PLUGIN_NAME,value:P.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue()})):i===e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY?(r=K(e.COMP_TYPE.IR_COLUMN_ACTION,t).id,["ir_column_action_menu_entries","ir_column_action_menu_entry"].includes(t._parent._parent.type)&&A({id:e.PROP.IR_COLUMN_ACTION_PARENT_MENU,value:K(e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,t._parent).id})):i===e.COMP_TYPE.MAP_LAYER?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.MAP_REGION)[0].id:i===e.COMP_TYPE.SEARCH_REGION_SOURCE?r=K(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.IR_COLUMN_GROUP?r=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.IR_ATTRIBUTES)[0].id:i===e.COMP_TYPE.IG_COLUMN_GROUP?r=K(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.JET_CHART_SERIES?(r=(P=K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0]).id,A({id:e.PROP.SERIES_CHART_TYPE,value:P.getProperty(e.PROP.JET_CHART_TYPE).getValue()})):-1!==a.inArray(i,[e.COMP_TYPE.FACET,e.COMP_TYPE.FACET_GROUP,e.COMP_TYPE.SFILTER,e.COMP_TYPE.SFILTER_GROUP])?r=(P=K(e.COMP_TYPE.REGION,t)).id:-1!==a.inArray(i,[e.COMP_TYPE.FACET_GROUP_ITEM,e.COMP_TYPE.SFILTER_GROUP_ITEM])?(r=(P=K(i===e.COMP_TYPE.FACET_GROUP_ITEM?e.COMP_TYPE.FACET_GROUP:e.COMP_TYPE.SFILTER_GROUP,t)).id,A({id:e.PROP.HIDDEN_PARENT_REGION,typeId:e.COMP_TYPE.REGION})):(i===e.COMP_TYPE.PAGE_PROC_API_PARAM||i===e.COMP_TYPE.PAGE_PROC_WS_PARAM)&&(r=(P=K(e.COMP_TYPE.PAGE_PROCESS,t)).id);R&&(O=t._parent.id),I=i===e.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===o?void 0:[e.COMP_TYPE.DA_EVENT,e.COMP_TYPE.PAGE_PROCESS].includes(i)?"last":R||"last",C=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:i}),d=e.transaction.start("",C),T=new e.Component({previousComponent:I,typeId:i,parentId:r,values:u}),i===e.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===T.getProperty(e.PROP.EVENT).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:e.PROP.AFFECTED_TYPE,value:"REGION"},{id:e.PROP.AFFECTED_REGION,value:p||""}]}):T.getProperty(e.PROP.WHEN_TYPE)&&"COLUMN"===T.getProperty(e.PROP.WHEN_TYPE).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:e.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:T.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:e.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(d),k([T],n,O,!0)}function j(t){for(var n=t.treeView("getSelectedNodes"),i=[],o=0;o<n.length;o++)n[o].data&&E(n[o].data,"componentId")&&i.push(e.getComponents(n[o].data.typeId,{id:n[o].data.componentId})[0]);return i}function X(e,t,n){var i;return n&&(i=t.treeView("find",{depth:-1,match:function(e){return e.id===n}})),t.treeView("find",{parentNodeContent$:i,depth:-1,findAll:!0,match:function(t){return t.data.typeId===e.typeId&&t.data.componentId===e.id}})}function J(e,t,n){return t.treeView("getNodes",X(e,t,n))[0]}function Q(t,n){var i,o=[];return(i=t instanceof jQuery?n.treeView("getNodes",t)[0]:t).data&&i.data.typeId&&i.data.componentId&&(o=e.getComponents(i.data.typeId,{id:i.data.componentId})),1===o.length?o[0]:void 0}function K(e,t){var n,i=Array.isArray(e)?e:[e];return t&&(void 0===(n=Q(t))||n&&-1===a.inArray(n.typeId,i))&&(n=K(i,t._parent)),n}function Z(e,t){return t?E(t.data,e)?t.data[e]:Z(e,t._parent):""}function z(e,t,n){X(e,t).each((function(){var e=a(this);n.call(function(e,t){return t.treeView("getNodes",e)}(e,t)[0]),t.treeView("update",e)}))}function q(t){return a.inArray(t.typeId,e.NO_NODE_COMP_TYPES)>-1?q(t.getParent()):t}function ee(e,t,n){z(q(e),n,(function(){this.data&&this.data.isPlain||(this.classes+=" "+t)}))}function te(e,t,n){z(q(e),n,(function(){this.classes=a.grep(this.classes.split(" "),(function(e){return e!==t})).join(" ")}))}function ne({pTree$:t,componentsToExpand:n}){let i=[];for(const t in n)if(E(n,t)){const o=n[t]?e.getParentRegionId(n[t]):null,a=n[t]?n[t].getPropertyValue(e.PROP.SLOT_PLACEHOLDER):null;let r;r=o?`region_${e.COMP_TYPE.REGION}_${o}_slot_${a}`:`page_${e.COMP_TYPE.PAGE}_slot_${a}`,i.push(r)}t.trigger("refresh",JSON.stringify(i))}function ie(n,i){function o(e,t){let n;if(e){if(e.typeId===t)return e;n=e.getParent(),n?.typeId!==t&&(n=o(n,t))}return n}var r=n(),P=a.apex.treeView.makeDefaultNodeAdapter(r,function(){function t(t){var n=Q(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1}function n(t){return Q(t).getProperty(e.PROP.COLUMN_NAME).getValue()!==_}function i(t){return-1===a.inArray(K(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0].getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])}function o(t){return"NATIVE_SEARCH"!==Q(t).getProperty(e.PROP.ITEM_TYPE).getValue()}function r(t,n,i){let o;if(Array.isArray(n)){const a=n.map((e=>e.type)),r=e.getSlot({componentTypes:a,regionId:i,slotPlaceholder:t.data[e.PROP.SLOT_PLACEHOLDER]});o=a.every((e=>["region","item","button"].includes(e))),o&&r&&!r.hasRegionSupport&&(o=!n.some((e=>"region"===e.type))),o&&r&&!r.hasItemSupport&&(o=!n.some((e=>"item"===e.type))),o&&r&&!r.hasButtonSupport&&(o=!n.some((e=>"button"===e.type)))}else o=!1;return o}return{default:{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["process"]},api_params:{operations:{canAdd:!0},validChildren:["api_param"]},api_param:{operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},api_ws_params:{validChildren:["api_ws_param"]},api_ws_param:{},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},meta_tags:{operations:{canAdd:!0},validChildren:["meta_tag"]},meta_tag:{icon:"icon-tree-meta-tag",operations:{canDuplicate:!0,canRename:!0,canDelete:!0}},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},components:{operations:{canAdd:!0},validChildren:["page_slot"]},page_slot:{operations:{canAdd:!0},validChildren:function(e,t){return r(e,t,"")}},region_slot:{operations:{canAdd:!0},validChildren:function(e,t){return r(e,t,e._parent.data.componentId)}},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["region_slot","region","item","button","inline_da_events","svg_chart_series","jet_chart_series","jet_chart_axes","facets","search_sources","sfilters","region_columns","ir_column_groups","ir_saved_reports","ig_column_groups","ig_saved_reports","ig_columns","region_tmpl_columns","map_layers"]},item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:t,canDrag:n,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},map_layers:{operations:{canAdd:!0},validChildren:["map_layer"]},map_layer:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:function(t){return e.getComponents(e.COMP_TYPE.MAP_LAYER,{parentId:Q(t).parentId}).length>1}}},card_actions:{operations:{canAdd:!0},validChildren:["card_action"]},card_action:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},region_actions:{operations:{canAdd:!0},validChildren:["region_action"]},region_action:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0},validChildren:["region_action_menu_entries"]},region_action_menu_entries:{operations:{canAdd:!0},validChildren:["region_action_menu_entry"]},region_action_menu_entry:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_column_actions:{operations:{canAdd:!0},validChildren:["ir_column_action"]},ir_column_action:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0},validChildren:["ir_column_menu_entries"]},ir_column_action_menu_entries:{operations:{canAdd:!0},validChildren:["ir_column_action_menu_entry"]},ir_column_action_menu_entry:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:t,canDrag:!0},validChildren:["ir_column_actions"]},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:n,canDelete:function(t){return"Y"===Q(t).getProperty(e.PROP.DERIVED_COLUMN).getValue()}}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},region_tmpl_columns:{operations:{canAdd:!0},validChildren:["region_tmpl_column"]},region_tmpl_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},search_sources:{operations:{canAdd:!0},validChildren:["search_source"]},search_source:{icon:"icon-search",operations:{canAdd:!1,canDuplicate:!1,canDrag:!0,canRename:!1,canDelete:function(t){var n=Q(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1},canSearch:!0}},facets:{operations:{canAdd:!0},validChildren:["facet","facet_group"]},facet:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:o,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},facet_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["facet_group_items"]},facet_group_items:{operations:{canAdd:!0},validChildren:["facet_group_item"]},facet_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},sfilters:{operations:{canAdd:!0},validChildren:["sfilter","sfilter_group"]},sfilter:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:o,canDrag:!0,canRename:!1,canDelete:function(t){return"NATIVE_SEARCH"!==Q(t).getProperty(e.PROP.ITEM_TYPE).getValue()},canSearch:!0}},sfilter_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["sfilter_group_items"]},sfilter_group_items:{operations:{canAdd:!0},validChildren:["sfilter_group_item"]},sfilter_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},jet_chart_series:{operations:{canAdd:i},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:i,canDuplicate:function(t){return-1===a.inArray(Q(t).getParent().getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.JET_CHART_SERIES,{parentId:Q(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},map_layer_web_src_params:{validChildren:["map_layer_web_src_param"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},task_params:{validChildren:["task_param"]},task_param:{},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},ai_configs:{},ai_config:{icon:"icon-tree-ai-config",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},data_load_definitions:{},data_load_definition:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},email_templates:{},email_template:{icon:"icon-tree-email",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}},report_queries:{},report_query:{icon:"icon-tree-report-layout",operations:{canExtEdit:!0}}}}(),!0,function(e){var t=[];function n(e){return!(!i||!0!==i[e.id])||!(!e.state||!e.state.opened||i&&!1===i[e.id])}return n(e)&&t.push(e.id),function e(i){for(var o=0;o<i.length;o++)n(i[o])&&t.push(i[o].id),i[o].children&&e(i[o].children)}(e.children),t}(r));return P.getCollapsedNodes=function({expandedState:e}){const t=this._state.PDrenderingTree_?.nodeMap,n=new Set,i=new Set;!function e(t){if(t)if((t.children?.length||0)>0)for(const n of t.children)e(n);else n.add(t.id)}(this.data);for(const o in t)e[o]&&!1!==e[o]||n.has(o)||i.add(o);return i},P.sortCompare=null,P.defaultGetIcon=P.getIcon,P.getIcon=function(n){const i=Q(n);if(n.data&&i){if(n.data.typeId===e.COMP_TYPE.REGION){const n=i.getProperty(e.PROP.REGION_TYPE).getValue(),o=e.getTemplateComponentType(i);return t.getComponentIconClass("region",n,o)}if(n.data.typeId===e.COMP_TYPE.PAGE_ITEM)return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue());if(-1!==a.inArray(n.data.typeId,[e.COMP_TYPE.FACET,e.COMP_TYPE.FACET_GROUP_ITEM,e.COMP_TYPE.SFILTER,e.COMP_TYPE.SFILTER_GROUP_ITEM]))return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.BUTTON)return t.getComponentIconClass("button","Y"===i.getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(n.data.typeId===e.COMP_TYPE.DA_ACTION)return t.getComponentIconClass("dynamic-action",i.getProperty(e.PROP.DA_ACTION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CARD_ACTION)return t.getComponentIconClass("card-action",i.getProperty(e.PROP.CARD_ACTION_TYPE).getValue());if([e.COMP_TYPE.REGION_ACTION,e.COMP_TYPE.IR_COLUMN_ACTION].includes(n.data.typeId)){const n=e.getActionPositionType(i);return t.getComponentIconClass("component-action","template"===n?"button":n)}if([e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY].includes(n.data.typeId))return t.getComponentIconClass("menu",i.getProperty(e.PROP.MENU_ENTRY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CLASSIC_RPT_COLUMN)return t.getComponentIconClass("col",i.getProperty(e.PROP.CLASSIC_REPORT_COLUMN_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IR_COLUMN)return t.getComponentIconClass("col",i.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IG_COLUMN){if("Y"===i.getParent().getChilds(e.COMP_TYPE.IG_ATTRIBUTES,{})[0].getProperty(e.PROP.IS_EDITABLE).getValue())return t.getComponentIconClass("item",i.getProperty(e.PROP.ITEM_TYPE).getValue())}else{if(n.data.typeId===e.COMP_TYPE.JET_CHART_AXES)return"icon-"+i.getProperty(e.PROP.NAME).getValue().toLowerCase()+"-axis";if(n.data.typeId===e.COMP_TYPE.PAGE_PROCESS&&"NATIVE_EXECUTION_CHAIN"===i.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue())return"icon-tree-process-chain"}}return this.defaultGetIcon(n)},P.extraCheck=function(t,n,i,r,_){var P,p;if(t){if(-1!==a.inArray(n,["canDelete","canRename","canDrag","canDuplicate"]))return(P=Q(i))&&!P.isReadOnly()&&!e.isPageReadOnly();if("canAdd"===n&&e.isPageReadOnly())return!1;if("canAdd"===n&&"move"===r&&["region_columns","region_tmpl_columns","ig_columns","ir_column_groups","ig_column_groups","facets","search_sources","sfilters","jet_chart_series","map_layers","jet_chart_axes","api_params","api_ws_params","processes","region_actions","ir_column_actions"].includes(i.type)&&_){for(p=0;p<_.length;p++)if(_[p]._parent&&_[p]._parent!==i)return!1}else if("canAdd"!==n||"move"!==r||"facet_group_items"!==i.type&&"sfilter_group_items"!==i.type||!_)if("canAdd"!==n||"move"!==r||"region_action_menu_entries"!==i.type&&"ir_column_action_menu_entries"!==i.type||!_){if("canAdd"===n&&"move"===r&&"region_slot"===i.type&&_){const t=Q(i._parent),n=e.getSlot({component:t,slotPlaceholder:i.data[e.PROP.SLOT_PLACEHOLDER]}),o=n.supportedRegionTypes,a=n.supportedItemTypes;for(const t of _){const n=Q(t);if(n.typeId===e.COMP_TYPE.REGION&&o)return o.includes(n.getPropertyValue(e.PROP.REGION_TYPE));if(n.typeId===e.COMP_TYPE.PAGE_ITEM&&a)return a.includes(n.getPropertyValue(e.PROP.ITEM_TYPE))}}}else{let t="region_action_menu_entries"===i.type?e.COMP_TYPE.REGION_ACTION:e.COMP_TYPE.IR_COLUMN_ACTION,n=o(Q(i._parent),t);for(p=0;p<_.length;p++)if(n?.id!==Q(_[p])?.parentId)return!1}else for(p=0;p<_.length;p++)if(_[p]._parent&&_[p]._parent._parent._parent!==i._parent._parent)return!1}return t},P.renderNodeContent=function(e,n,i,o){var a,r,_;i.nodeSelector>0&&n.markup('<span class="u-selector"></span>'),null!==(a=this.getIcon(e))&&n.markup("<span").attr("class","a-Icon "+a).attr("aria-hidden","true").markup("></span>"),(r=this.getClasses(e))&&(r.indexOf(t.CSS.IS_ERROR)>=0?_="icon-error":r.indexOf(t.CSS.IS_WARNING)>=0&&(_="icon-warning")),n.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",o.level).optionalAttr("aria-selected",o.selected?"true":"false").optionalAttr("aria-disabled",o.disabled?"true":null).optionalAttr("aria-expanded",!1===o.hasChildren?null:o.expanded?"true":"false").optionalAttr("aria-owns",o.owns).markup(">"),_&&n.markup("<span class='a-Icon ").attr(_).markup("'></span>"),n.content(this.getLabel(e)).markup("</span>")},function(){return P}}function oe(n,o,r){var _=n[0].id+"Menu";n.treeView({getNodeAdapter:ie(o),showRoot:r,collapsibleRoot:!1,expandRoot:!1,contextMenu:re(n),contextMenuId:_,multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(e,n){var i=Q(n);if(i)return t.tooltipContentForComponent(i)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var e,t=this.id;e=j(a(this)),i.trace("%s: trigger event selectionChanged",t,e),a(document).trigger("selectionChanged",[t,e])},added:function(){},moved:function(t,i){!function(t,n){var i,o,a,r=[];const _=Q(t.items[0].toNode);if(t.items.length>0){o=e.transaction.message({action:e.MESSAGE_ACTION.MOVE,component:_,count:t.items.length}),a=e.transaction.start("",o);for(var P=0;P<t.items.length;P++)r[P]=Q(t.items[P].toNode),0===t.items[P].toIndex?i=null:(i=Q(t.parentNode.children[t.items[P].toIndex-1]))||(i="last"),r[P].move({previousComponent:i,values:W(t.items[P].toNode)});apex.commandHistory.execute(a),ne({pTree$:n,componentsToExpand:[_]})}}(i,n)},copied:function(t,i){!function(t,n){var i,o,a,r,_=[];if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:Q(t.items[0].toNode),count:t.items.length}),r=e.transaction.start("",a);for(var P=0;P<t.items.length;P++)i=Q(t.items[P].toNode),0===t.items[P].toIndex?o=null:(o=Q(t.parentNode.children[t.items[P].toIndex-1]))||(o="last"),_[P]=i.duplicate(),_[P].move({previousComponent:o,values:W(t.items[P].toNode)});apex.commandHistory.execute(r),k(_,n,t.items[0].toNode._parent.id,!0)}}(i,n)},deleted:function(t,i){!function(t,n){let i,o,a,r;const _=["region_slot","page_slot","branches","processes","validations","computations"];if(t.items.length>0){r=n.treeView("getSelectedNodes");for(let e=0;e<r.length;e++)_.includes(r[e].type)&&r[e].children.length<1&&(r[e]=r[e]._parent);o=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:Q(t.items[0].node),count:t.items.length}),a=e.transaction.start("",o);for(let e=0;e<t.items.length;e++)i=Q(t.items[e].node),i&&i.remove()}apex.commandHistory.execute(a),n.treeView("setSelectedNodes",r,!0,!0)}(i,n)}}),a("#"+_).on("menubeforeopen",(function(){0===n.treeView("getSelection").length&&n.treeView("setSelection",a("[aria-level='1']",n).first().parent())})),n.on("refresh",(function(e,t){let a=n.treeView("getExpandedState"),r=n.treeView("getNodeAdapter").getCollapsedNodes({expandedState:a});for(const e of r)a[e]=!1;if(t)try{const e=JSON.parse(t);for(const t in e)E(e,t)&&(a[e[t]]=!0)}catch(e){}i.trace("%s: refresh tree",n[0].id),n.treeView("option","getNodeAdapter",ie(o,a))})),function(n){var o,r=n[0].id,_=null,P=[];function s(e){for(var t,n=0;n<e.length;n++){if(E(e[n],"typeId")){o[e[n].typeId]=!0,t=w(e[n].typeId);for(var i=0;i<t.length;i++)_.push({typeId:t[i].typeId}),P.push(t[i].propertyId)}e[n].children&&s(e[n].children)}}"PDrenderingTree"===r?(_=null,o=null):"PDdynamicActionTree"===r?_=[{typeId:e.COMP_TYPE.DA_EVENT},{typeId:e.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===r?_=[{typeId:e.COMP_TYPE.BRANCH},{typeId:e.COMP_TYPE.PAGE_COMPUTATION},{typeId:e.COMP_TYPE.PAGE_PROCESS},{typeId:e.COMP_TYPE.VALIDATION},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A},{typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM},{typeId:e.COMP_TYPE.PAGE_PROC_WS_PARAM},{typeId:e.COMP_TYPE.PAGE_PROCESS_TASK_PARAM},{typeId:e.COMP_TYPE.PAGE_PROCESS_WF_PARAM}]:"PDsharedCompTree"===r&&(_=[],o={},s(p));if(void 0===o){o={};for(var l=0;l<_.length;l++)o[_[l].typeId]=!0}e.observer(r,{components:_,events:[e.EVENT.DISPLAY_TITLE]},(function(e){i.trace("%s: DISPLAY_TITLE component notification received",r,e),z(e.component,n,(function(){this.label=e.component.getDisplayTitle()}))})),e.observer(r,{components:_,events:[e.EVENT.CREATE,e.EVENT.DELETE]},(function(e){i.trace("%s: CREATE/DELETE component notification received",r,e),ne({pTree$:n})}),!0),"PDsharedCompTree"===r?e.observer(r,{components:_,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:P},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",r,e),ne({pTree$:n})}),!0):(e.observer(r,{components:_,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.REGION_TEMPLATE,e.PROP.PAGE_AUTHENTICATION,e.PROP.ENABLE_META_TAGS,e.PROP.EXECUTION_SEQUENCE,e.PROP.DISPLAY_SEQUENCE,e.PROP.BRANCH_POINT,e.PROP.PROCESS_POINT,e.PROP.PARENT_PROCESS,e.PROP.COMPUTATION_POINT,e.PROP.REGION,e.PROP.PARENT_REGION,e.PROP.SLOT_PLACEHOLDER,e.PROP.VALIDATION_REGION,e.PROP.VAL_ITEM,e.PROP.REGION_VAL_COLUMN,e.PROP.REGION_TYPE,e.PROP.ASSOCIATED_ITEM,e.PROP.ASSOCIATED_COLUMN,e.PROP.COMPUTATION_ITEM_NAME,e.PROP.EVENT,e.PROP.DA_EVENT,e.PROP.DA_ACTION_TYPE,e.PROP.FIRE_WHEN_EVENT_RESULT_IS,e.PROP.FIRE_ON_PAGE_LOAD,e.PROP.FACET_GROUP,e.PROP.SFILTER_GROUP,e.PROP.HIDDEN_TEMPLATE_ID,e.PROP.REGION_ACTION_PARENT_MENU,e.PROP.IR_COLUMN_DISPLAY_TYPE,e.PROP.IR_COLUMN_ACTION_PARENT_MENU,e.PROP.MENU_ENTRY_TYPE,e.PROP.WHEN_REGION,e.PROP.WHEN_IG_REGION,e.PROP.WHEN_ITEMS,e.PROP.WHEN_COLUMNS,e.PROP.WHEN_BUTTON,e.PROP.SOURCE_LOCATION,e.PROP.TEMPLATE_COMPONENT_TYPE]},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",r,e);let t=[];for(const n in e)E(e,n)&&t.push(e[n].component);ne({pTree$:n,componentsToExpand:t})}),!0),e.observer(r,{components:_,events:[e.EVENT.CHANGE]},(function(e){e.component.hasChanged()?ee(e.component,t.CSS.IS_CHANGED,n):te(e.component,t.CSS.IS_CHANGED,n)})),e.observer(r,{components:_,events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS]},(function(e){e.component.hasErrors()?ee(e.component,t.CSS.IS_ERROR,n):te(e.component,t.CSS.IS_ERROR,n)})),e.observer(r,{components:_,events:[e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){e.component.hasWarnings()?ee(e.component,t.CSS.IS_WARNING,n):te(e.component,t.CSS.IS_WARNING,n)})),t.observerIsConditional(r,_,(function(e){te(e.component,t.CSS.IS_CONDITIONAL,n),te(e.component,t.CSS.IS_NEVER,n),t.isNever(e.component)?ee(e.component,t.CSS.IS_NEVER,n):t.isConditional(e.component)&&ee(e.component,t.CSS.IS_CONDITIONAL,n)})));a(document).on("selectionChanged."+r,(function(e,t,a){t!==r&&(i.trace("%s: selectionChanged event received from %s",r,t,a),(0===a.length||null===o||E(o,a[0].typeId))&&k(a,n,null,!1))}))}(n)}function ae(t){var n=t[0].id;e.unobserver(n,{}),a(document).off("selectionChanged."+n),t.off("refresh"),t.treeView("destroy")}function re(n){let i=[],r=0;function p(e){return e.call(n.treeView("getSelectedNodes"))}function c(t,n){return 1===t.length&&-1!==a.inArray(t[0].type,n)&&!e.isPageReadOnly()}function O(t,n){return!e.isGlobalPage()&&c(t,n)}function d(t,n){var i=K(e.COMP_TYPE.REGION,t);return-1!==a.inArray(i.getProperty(e.PROP.REGION_TYPE).getValue(),n)}function T(t,n){var i;return-1!==a.inArray(t.type,["region","ig_column"])&&"NATIVE_IG"===(i=K(e.COMP_TYPE.REGION,t)).getProperty(e.PROP.REGION_TYPE).getValue()?"Y"===i.getChilds(e.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(e.PROP.IS_EDITABLE).getValue():n}function I(t,n){apex.navigation.redirect(t.replace(/\\u002525/g,"%").replace(/%2525/g,"%").replace(/%25/g,"%").replace(/%session%/g,apex.env.APP_SESSION).replace(/%pk_value%/g,n).replace(/%application_id%/g,e.getCurrentAppId()).replace(/%page_id%/g,e.getCurrentPageId()))}function C(t,n){var i=Q(t,n);I(e.getComponentType(i.typeId).copyUrl,i.id)}function R(t,n){var i,o,r=Q(t,n),_=r.getProperty(e.PROP.BRANCH_TYPE).getValue(),P=null;return"REDIRECT_URL"===_?(i=r.getProperty(e.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(i)&&("&FLOW_ID."!==(o=RegExp.$1)&&"&APP_ID."!==o&&o!==e.getCurrentAppId()||(P=RegExp.$2))):-1!==a.inArray(_,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])&&(P=r.getProperty(e.PROP.BRANCH_PAGE_NUMBER).getValue()),P}function u(t,i="INSIDE",o){let a;if("region"===t.type&&"INSIDE"===i){const i=Q(t,n);a=e.getSlot({componentTypeId:o,component:i})}else if(["region","item","button"].includes(t.type)){const i=Q(t,n),r=e.getParentRegionId(i),_=i.getPropertyValue(e.PROP.SLOT_PLACEHOLDER);a=e.getSlot({componentTypeId:o,regionId:r,slotPlaceholder:_})}else if("page_slot"===t.type){const n=t.data[e.PROP.SLOT_PLACEHOLDER];a=e.getSlot({componentTypeId:o,slotPlaceholder:n})}else if("region_slot"===t.type){const i=Q(t._parent,n),r=t.data[e.PROP.SLOT_PLACEHOLDER];a=e.getSlot({componentTypeId:o,component:i,slotPlaceholder:r})}else"components"===t.type&&(a=e.getSlot({componentTypeId:o,slotPlaceholder:"BODY"}));return!!a}function A(t){let o,a,_={label:t.label,accelerator:t.accelerator,type:t.type};var P;r+=1,_.id=n[0].id+"_ctx_"+r,_.type||(_.type="action",o=t.action),t.typeId&&(t.label||(_.label=(P=t.typeId,l("CREATE",e.getComponentType(P).title.singular))),o||(o=function(){$(this[0],n,t.typeId)})),_.action=function(){return p(o)},t.visible&&(a="function"==typeof t.visible?t.visible:Array.isArray(t.visible)?function(){return c(this,t.visible)}:!1===t.visible.global?function(){return O(this,t.visible.types)}:function(){return c(this,t.visible.types)},_.hide=function(){return!p(a)}),t.disabled&&(_.disabled=function(){return p(t.disabled)}),i.push(_)}function m(i){if(!this.every((e=>E(e.data,"componentId"))))return!1;let o=this.map((e=>Q(e,n)));return!!o.every((t=>!t.isOnGlobalPage()&&!t.isReadOnly()&&t.getProperty(e.PROP.BUILD_OPTION)))&&(i?o.some((n=>n.getProperty(e.PROP.BUILD_OPTION).getValue()!==t.COMMENTED_OUT_ID)):o.some((n=>n.getProperty(e.PROP.BUILD_OPTION).getValue()===t.COMMENTED_OUT_ID)))}function N(n=[],i=""){if(!n.length)return;let o=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,count:n.length,component:n[0],property:n[0].getProperty(e.PROP.BUILD_OPTION)}),a=e.transaction.start("",o);n.forEach((n=>{let o=n.getProperty(e.PROP.BUILD_OPTION);o&&(i||o.getValue()===t.COMMENTED_OUT_ID)&&o.setValue(i)})),apex.commandHistory.execute(a)}function g(t,n){A({label:t,action:function(){var t,n,i,o;t=K(e.COMP_TYPE.REGION,this[0]),n=e.getSourceLocationProperty(t),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),o=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(o)},visible:function(){var t,i;return!(e.isPageReadOnly()||!O(this,["region","ig_columns","region_columns","region_tmpl_columns"]))&&(i=(t=K(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue(),e.getSourceLocationProperty(t)&&(!n&&"NATIVE_FORM"!==i||i===n))}})}function y(t,n,i){const o=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION),a=e.getRegionColumns(o),r="NATIVE_INPUT",_=e.getPluginProperty(i,r,"user_can_choose_operator").id;let P,p;P=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,count:2}),p=e.transaction.start("",P),a.forEach((o=>{n.some((t=>o.name===t.getProperty(e.PROP.SOURCE_DB_COLUMN)?.getValue()))||new e.Component({previousComponent:"last",typeId:i,parentId:t.id,values:[{id:e.PROP.ITEM_NAME,value:`P${e.getCurrentPageId()}_${o.name}`},{id:e.PROP.ITEM_TYPE,value:r},{id:e.PROP.ITEM_LABEL,value:o.label||o.name},{id:e.PROP.SOURCE_DB_COLUMN,value:o.name},{id:e.PROP.DATA_TYPE,value:o.dataType||"VARCHAR2"},{id:_,value:"Y"}]})})),apex.commandHistory.execute(p)}return A({label:s("DUPLICATE"),action:function(){!function(t,n){var i,o,a=[];if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:Q(t[0]),count:t.length}),o=e.transaction.start("",i);for(var r=0;r<t.length;r++)a.push(Q(t[r]).duplicate());apex.commandHistory.execute(o),k(a,n,t[0]._parent.id,!0)}}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({type:"separator",visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({label:l("CREATE",s("SUB_REGION")),action:function(){$(this[0],n,e.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){const t=Q(this[0],n);if(t&&t.typeId===e.COMP_TYPE.REGION&&!t.isOnGlobalPage()){const n=e.getSlot({componentTypeId:e.COMP_TYPE.REGION,component:t,slotPlaceholder:"SUB_REGIONS"});return c(this,["region"])&&n}return!1}}),A({typeId:e.COMP_TYPE.REGION,action:function(){$(this[0],n,e.COMP_TYPE.REGION,"REGION_DEFAULT_SLOT")},visible:function(){const t=Q(this[0],n);if(t&&t.typeId===e.COMP_TYPE.REGION&&!t.isOnGlobalPage()){const n=e.getSlot({componentTypeId:e.COMP_TYPE.REGION,component:t,slotPlaceholder:"SUB_REGIONS"});return c(this,["region"])&&u(this[0],"INSIDE",e.COMP_TYPE.REGION)&&!n}return!1}}),A({typeId:e.COMP_TYPE.REGION,visible:function(){return!!c(this,["components","page_slot","region_slot"])&&u(this[0],"INSIDE",e.COMP_TYPE.REGION)}}),A({typeId:e.COMP_TYPE.PAGE_ITEM,visible:function(){return!!c(this,["components","page_slot","region_slot","region"])&&u(this[0],"INSIDE",e.COMP_TYPE.PAGE_ITEM)}}),A({typeId:e.COMP_TYPE.BUTTON,visible:function(){return!!c(this,["components","page_slot","region_slot","region"])&&u(this[0],"INSIDE",e.COMP_TYPE.BUTTON)}}),A({typeId:e.COMP_TYPE.DA_EVENT,visible:function(){return!!c(this,["da_events","da_event","inline_da_events","inline_da_event","region","item","ig_column","button"])&&("ig_column"!==this[0].type||T(this[0],!1))}}),A({typeId:e.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","item"]}}),A({typeId:e.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["processes","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),A({typeId:e.COMP_TYPE.PAGE_PROCESS,label:s("ADD_CHILD_PROCESS"),visible:function(){return!(e.isPageReadOnly()||!O(this,["process"]))&&"NATIVE_EXECUTION_CHAIN"===K(e.COMP_TYPE.PAGE_PROCESS,this[0]).getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()}}),A({typeId:e.COMP_TYPE.VALIDATION,visible:function(){return!!O(this,["validation","validations","validating","inline_validations","inline_validation","item"])||O(this,["region","tabform_column","ig_column"])&&(d(this[0],["NATIVE_TABFORM"])||T(this[0],!1))}}),A({typeId:e.COMP_TYPE.BRANCH,visible:{global:!1,types:["branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),A({typeId:e.COMP_TYPE.META_TAG,visible:{global:!1,types:["header","meta_tags","meta_tag"]}}),A({typeId:e.COMP_TYPE.DA_ACTION,visible:["da_action"]}),A({label:l("CREATE",s("TRUE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){$(this[0],n,e.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),A({label:l("CREATE",s("FALSE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){$(this[0],n,e.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),A({label:l("CREATE",s("OPPOSITE_DYNAMIC_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){!function(t,n){var i,o,a,r,_,p,s,l={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},c=[],O=[];p=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:Q(t[0]),count:t.length}),s=e.transaction.start("",p);for(var d=0;d<t.length;d++){if(o=(i=Q(t[d])).getProperty(e.PROP.DA_ACTION_TYPE).getValue(),E(l,o)){for(c.push({id:e.PROP.DA_ACTION_TYPE,value:l[o]}),a=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,o,a);r&&i.getProperty(r.id)&&a<=P;)c.push({id:e.getPluginProperty(e.COMP_TYPE.DA_ACTION,l[o],a).id,value:i.getProperty(r.id).getValue()}),a+=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,o,a);c.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:i.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()})}_="TRUE"===i.getProperty(e.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",c.push({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:_}),O.push(i.duplicate(c)),O[O.length-1].move({previousComponent:"last"})}apex.commandHistory.execute(s),k(O,n,t[0]._parent._parent.id,!0)}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if("da_action"!==this[e].type||!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),A({label:l("CREATE",s("VIRTUAL_COLUMN")),action:function(){d(this[0],["NATIVE_TABFORM"])?$(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):$(this[0],n,e.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return c(this,["region_columns","classic_report_column","tabform_column"])&&d(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),A({label:l("CREATE",s("ROW_SELECTOR")),action:function(){$(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var t;return!(!c(this,["region_columns","tabform_column"])||"NATIVE_TABFORM"!==(t=K(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue())&&0===t.getChilds(e.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:e.PROP.COLUMN_NAME,value:_}]}).length}}),A({typeId:e.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),A({typeId:e.COMP_TYPE.REGION_TMPL_COLUMN,visible:["region_tmpl_columns","region_tmpl_column"]}),A({typeId:e.COMP_TYPE.FACET,visible:["facets","facet","facet_group"]}),A({typeId:e.COMP_TYPE.FACET_GROUP,visible:["facets","facet","facet_group"]}),A({typeId:e.COMP_TYPE.FACET_GROUP_ITEM,visible:["facet_group","facet_group_items","facet_group_item"]}),A({typeId:e.COMP_TYPE.SFILTER,visible:["sfilters","sfilter","sfilter_group"]}),A({typeId:e.COMP_TYPE.SEARCH_REGION_SOURCE,visible:["search_sources","search_source"]}),A({typeId:e.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!c(this,["jet_chart_series","jet_chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),A({typeId:e.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_column_groups","ir_column_group"]}),A({typeId:e.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_column_groups","ig_column_group"]}),A({typeId:e.COMP_TYPE.CARD_ACTION,visible:["card_actions","card_action"]}),A({typeId:e.COMP_TYPE.REGION_ACTION,visible:["region_actions","region_action"]}),A({typeId:e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,visible:["region_action_menu_entries","region_action_menu_entry"]}),A({typeId:e.COMP_TYPE.IR_COLUMN_ACTION,visible:["ir_column_actions","ir_column_action"]}),A({typeId:e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY,visible:["ir_column_action_menu_entries","ir_column_action_menu_entry"]}),A({typeId:e.COMP_TYPE.MAP_LAYER,visible:["map_layers","map_layer"]}),A({typeId:e.COMP_TYPE.PAGE_PROC_API_PARAM,visible:["api_params","api_param"]}),A({type:"separator"}),g(s("SYNCHRONIZE_COLUMNS")),g(s("SYNCHRONIZE_PAGE_ITEMS"),"NATIVE_FORM"),A({label:s("SYNCHRONIZE_API_PARAMS"),action:function(){let t,n,i,o;t=K(e.COMP_TYPE.PAGE_PROCESS,this[0]),n=t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",4).id),n||(n=t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",5).id)),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),o=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(o)},visible:function(){var t;return!(e.isPageReadOnly()||!O(this,["process","api_params"]))&&("NATIVE_INVOKE_API"===(t=K(e.COMP_TYPE.PAGE_PROCESS,this[0])).getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue()?"WEB_SOURCE"!==t.getProperty(e.getPluginProperty(t.typeId,"NATIVE_INVOKE_API",1).id).getValue():void 0)}}),A({label:s("SYNCHRONIZE_FACETS"),action:function(){const t=K(e.COMP_TYPE.REGION,this[0]),n=t.getChilds(e.COMP_TYPE.FACET_GROUP);let i=t.getChilds(e.COMP_TYPE.FACET);n.forEach((t=>{i=i.concat(t.getChilds(e.COMP_TYPE.FACET_GROUP_ITEM))})),y(t,i,e.COMP_TYPE.FACET)},visible:function(){if(!e.isPageReadOnly()&&["region","facets"].includes(this[0].type)){const t=K(e.COMP_TYPE.REGION,this[0]);if("NATIVE_FACETED_SEARCH"===t.getProperty(e.PROP.REGION_TYPE).getValue()){const n=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION);if(e.getRegionColumns(n).length>0)return!0}}return!1}}),A({label:s("SYNCHRONIZE_FILTERS"),action:function(){const t=K(e.COMP_TYPE.REGION,this[0]),n=t.getChilds(e.COMP_TYPE.SFILTER_GROUP);let i=t.getChilds(e.COMP_TYPE.SFILTER);n.forEach((t=>{i=i.concat(t.getChilds(e.COMP_TYPE.SFILTER_GROUP_ITEM))})),y(t,i,e.COMP_TYPE.SFILTER)},visible:function(){if(!e.isPageReadOnly()&&["region","sfilters"].includes(this[0].type)){const t=K(e.COMP_TYPE.REGION,this[0]);if("NATIVE_SMART_FILTERS"===t.getProperty(e.PROP.REGION_TYPE).getValue()){const n=t.getPropertyValue(e.PROP.SOURCE_FILTERED_REGION);if(e.getRegionColumns(n).length>0)return!0}}return!1}}),A({type:"separator"}),A({label:o.getMessage("PD.TREE.CREATE.REGION.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.REGION,"BELOW")},typeId:e.COMP_TYPE.REGION,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.REGION)}}),A({label:o.getMessage("PD.TREE.CREATE.ITEM.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.PAGE_ITEM,"BELOW")},typeId:e.COMP_TYPE.PAGE_ITEM,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.PAGE_ITEM)}}),A({label:o.getMessage("PD.TREE.CREATE.BUTTON.BELOW"),action:function(){$(this[0],n,e.COMP_TYPE.BUTTON,"BELOW")},typeId:e.COMP_TYPE.BUTTON,visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW",e.COMP_TYPE.BUTTON)}}),A({type:"separator",visible:function(){return!!c(this,["region","item","button"])&&u(this[0],"BELOW")}}),A({label:s("COPY_TO_PAGE"),action:function(){C(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&e.getComponentType(Q(this[0]).typeId).isPageComponent&&!Q(this[0]).isOnGlobalPage()}}),A({label:s("EDIT_SHARED_COMPONENT"),action:function(){!function(t,n){var i=Q(t,n);I(e.getComponentType(i.typeId).editUrl,i.id)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!e.getComponentType(Q(this[0],n).typeId).isPageComponent}}),A({label:s("COPY_SHARED_COMPONENT"),action:function(){C(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!e.getComponentType(Q(this[0],n).typeId).isPageComponent}}),A({label:s("CREATE_SHARED_COMPONENT"),action:function(){!function(t,n){var i;i=Q(t,n)?Q(t,n).typeId:t.data.typeId,I(e.getComponentType(i).createUrl)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),A({label:s("PAGE_SEARCH"),action:function(){a(document).trigger("pageSearch",[Q(this[0],n).getDisplayTitle()])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canSearch",this[0])}}),A({label:s("GOTO_TARGET_PAGE"),action:function(){t.goToPage(R(this[0],n))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===R(this[0],n)}}),A({type:"separator"}),A({label:s("EXPAND_ALL_BELOW"),action:function(){n.treeView("expandAll",n.treeView("getSelection"))}}),A({label:s("COLLAPSE_ALL_BELOW"),action:function(){n.treeView("collapseAll",n.treeView("getSelection"))}}),A({type:"separator"}),t.COMMENTED_OUT_ID&&(A({label:s("COMMENT_OUT"),action:function(){N(this.map((e=>Q(e,n))),t.COMMENTED_OUT_ID)},visible:function(){return!e.isPageReadOnly()&&m.call(this,!0)}}),A({label:s("UNCOMMENT"),action:function(){N(this.map((e=>Q(e,n))))},visible:function(){return!e.isPageReadOnly()&&m.call(this)}})),A({label:s("DELETE"),accelerator:"Del",action:function(){var e=n.treeView("getSelection");n.treeView("deleteNodes",e)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").allowDelete(this[e]))return!1;return!0}}),{items:i}}a((function(){const e=a("#sp_main_content"),t=a("#PDrenderingTree"),n=a("#PDdynamicActionTree"),o=a("#PDprocessingTree"),r=a("#PDsharedCompTree");e.on("tabsactivate",(function(e,t){let n,o=t.newPanel.find(".a-TreeView");o.length>0&&(n=j(o),n.length>0&&(i.trace("%s: trigger event selectionChanged",o[0].id,n),a(document).trigger("selectionChanged",[o[0].id,n])))})),a(document).on("modelReady",(function(){oe(t,F,!0),oe(n,H,!1),oe(o,x,!1),oe(r,B,!1),a(document).one("modelCleared",(function(){ae(t),ae(n),ae(o),ae(r)}))}))}))}(window.pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);