/*!
 * Copyright (c) 2013, 2024, Oracle and/or its affiliates.
 */
window.pageDesigner={},function(e,t,n,a,o,i,r,s,l,P,O,_){"use strict";let p,c,d=t("#peMain"),E=null,u={},T={},N=t("#pdMessagesDialog");const g="9600"===i.APP_PAGE_ID,I="is-processing",C="aria-controls",R="aria-label",A="option",f="active",m="refresh",S="disable",L="enable",h="pd-undo",y="pd-redo",b="pd-save-page",D="pd-save-run-page",M="pd-expand-restore",V="pd-goto-help",G="pd-page-search",Y="pd-goto-messages",B="pd-goto-next-page",U="pd-goto-prev-page",v="pd-advisor",F="pd-create-page",w="pd-create-copy-page",H="pd-create-shared-component",x="pd-create-breadcrumb-region",W="pd-two-column",k="pd-three-column",J="TAB_LAYOUT_2",X="TAB_LAYOUT_3",K="TWO_COLUMN_MODE",Q="ENABLE_TOOLTIPS",$=g?"grid_diagram":"grid_layout",j=["#trees","#editor_tabs","#peTabs"],z=".a-TabsContainer",q=t("#createMenu_menu"),Z=t("#button-lock"),ee=t("#runDialogOpenMsg"),te=t("#runDialogFocusMsg"),ne=t("#pdShowMessagesBtn"),ae=t.ui.keyCode,oe=l.hasOwnProperty;function ie(e){setTimeout((()=>{t(document).find(":data(ui-tooltip):not(.a-Gallery,.a-ControlBar)").tooltip("option","disabled",!e)}),0)}function re(){j.forEach((function(e){let n=t(e),a=n.find(".ui-tabs-nav").first(),o=a.children(),i=n.width(),r=T[e];void 0===r&&function(e,n){let a=0;n.each((function(){let e=t(this),n=e.find(".a-Tabs-label"),o=e.find(".a-Icon"),i=n.length>0?n.width():0,r=o.length>0?o.width():0;a+=i+r})),T[e]=a}(e,o),a.toggleClass("ui-tabs--iconOnly",r>i).toggleClass("ui-tabs--single",1===o.length)}))}function se(){let e,n="";return u={},j.forEach((function(a,o){t(a).find(".ui-tabs-nav").first().children().each((function(i,r){e=t(r).attr(C),u[e]={tabs:a,index:i},n&&(n+=","),n+=o+":"+e}))})),re(),n}function le(){let e,n=t("#sp_main_content"),a=se();e=n.hasClass("a-Splitter")?X:J,r.savePreference(e,a)}function Pe(e,n){let a,o,i,s,P=[],O=t(),_=t("#sp_main_content"),p={};for(e||(e=r.getTabsDefaultConfig()),j.forEach((function(e){let n=t(e),a=n.children().first().children(".ui-tabs-nav");P.push({tabs:a,panels:n,activeName:a.children().eq(n.tabs(A,f)).attr(C)}),O=O.add(a.children())})),O.each((function(){let e=t(this),n=e.attr(C),a=t("#"+l.escapeCSS(n));e.remove().removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus").removeAttr("role"),a.detach().removeClass("ui-tabs-panel").removeAttr("role"),p[n]={t:e,p:a}})),s=e.indexOf("0:")>=0,s&&!_.hasClass("a-Splitter")&&E?(t("#left_col").show(),_.splitter(E)):!s&&_.hasClass("a-Splitter")&&(E=t("#sp_main_content").splitter(A),t("#left_col").hide(),_.splitter("destroy").addClass("resize").trigger("resize"),P[1].activeName=P[0].activeName),o=e.split(","),a=0;a<o.length;a++)i=o[a].split(":"),p[i[1]]&&(P[i[0]].tabs.append(p[i[1]].t),P[i[0]].panels.append(p[i[1]].p));P.forEach((function(e){let t=0;e.panels.tabs(m),n||(e.activeName&&e.panels.children("#"+l.escapeCSS(e.activeName)).length&&(t=e.tabs.children("[aria-controls="+l.escapeCSS(e.activeName)+"]").index()),e.panels.tabs(A,f,t))})),se()}function Oe(e){let n=u[e];n.tabs===j[0]?ce("sp_main_content"):n.tabs===j[2]&&ce("sp_right_content"),t(n.tabs).tabs(A,f,n.index)}function _e(a){let o=t("#a_PageDesigner"),i=[h,y,b,D];l.delayLinger.start("main",(function(){c=l.showSpinner(o),o.addClass(I)})),i.forEach((function(e){n.disable(e)})),g?(t(".a-TreeView").designerTree(S),t("#app")[0].diagramBuilder?.setReadOnly(!0)):(t(".a-TreeView").treeView(S),t("#glv").gridlayout(S)),d.propertyEditor(S),e.saveChanges((function(e){i.forEach((function(e){n.enable(e)})),g?(t(".a-TreeView").designerTree(L),t("#app")[0].diagramBuilder?.setReadOnly(!1)):(t(".a-TreeView").treeView(L),t("#glv").gridlayout(L)),d.propertyEditor(L),l.delayLinger.finish("main",(function(){c.remove(),o.removeClass(I)})),a(e)})),d.find("."+r.CSS.IS_CHANGED).removeClass(r.CSS.IS_CHANGED)}function pe(t){let a;for(let o=0;o<t.length;o++)oe(t[o],"menu")?pe(t[o].menu.items):(a=t[o],"string"==typeof a.action&&(a=n.lookup(a.action)),a.action=function(){return e.hasChanged()?window.confirm(r.msg("BEFORE_AJAX_UNSAVED_CHANGES"))?(O.redirect(this.href),!0):void 0:(O.redirect(this.href),!0)})}function ce(e){let n=t("#"+l.escapeCSS(e)+".a-Splitter");n.length&&n.splitter(A,"collapsed")&&n.splitter(A,"collapsed",!1)}function de(e,n){let a,o,i=t(e.target),r=i.closest(".ui-tabs");n.item.removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus"),n.sender&&(a=t("#"+l.escapeCSS(n.item.attr(C))),o=n.item.prev(),n.item.remove(),o.length?o.after(n.item):i.prepend(n.item),r.append(a),n.sender.closest(".ui-tabs").tabs(m)),r.tabs(m),r.tabs(A,f,n.item.index()),le()}function Ee(e){let n,a,o,i,r,s,P,O,_=null,p=null,c=e.which;if(e.shiftKey&&(c===ae.UP||c===ae.LEFT?p=-1:c!==ae.DOWN&&c!==ae.RIGHT||(p=1),p)){if(i=t(e.target),a=i.closest(".ui-tabs-nav"),n=a.children().length,o=a.closest(".ui-tabs"),r=j.indexOf("#"+l.escapeCSS(o[0].id)),s=i.index(),s+=p,s>=0&&s<n)p>0?i.next().after(i):i.prev().before(i);else{if(r+=p,!(r>=0&&r<j.length))return;_=t(j[r]).find(".ui-tabs-nav").first(),O=_.closest(".ui-tabs"),P=t("#"+l.escapeCSS(i.attr(C))),i.remove(),p<0?_.append(i):_.prepend(i),s=i.index(),O.append(P),o.tabs(m),o=O}return o.tabs(m),o.tabs(A,f,s),i.trigger("focus"),le(),!1}}function ue(){N.dialog({modal:!1,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:r.msg("MESSAGES"),buttons:[{text:r.msg("OK"),click:function(){N.dialog("close")}}]}),t("#pdMessages").find(".a-AlertMessages-message").first().each((function(){this.focus()}))}function Te(){n.add([{name:M,onLabel:r.msg("RESTORE"),offLabel:r.msg("EXPAND"),get:function(){return this.isCenterExpanded},set:function(e){this.isCenterExpanded=e,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").splitter(A,"collapsed",this.isCenterExpanded)},isCenterExpanded:!1,updateState:function(){let e=this;this.isCenterExpanded=!0,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").each((function(){if(!t(this).splitter(A,"collapsed"))return e.isCenterExpanded=!1,!1})),this.icon=this.isCenterExpanded?"icon-restore":"icon-maximize",n.update(this.name)}},{name:V,label:r.msg("ACTION.GOTO_HELP"),action:function(){return Oe("help"),t("#help-container")[0].focus(),!0}},{name:Y,label:r.msg("ACTION.GOTO_MSGS"),action:function(){return ue(),!0}},{name:G,label:r.msg("ACTION.PAGE_SEARCH"),action:function(e){let n=t(e.target).closest(".a-PropertyEditor");return n.length?n.parent().find(".a-Property-field--filter").trigger("focus"):(Oe("search"),t("#P4500_LOCAL_SEARCH").trigger("focus")),!0}},{name:h,label:null,title:null,icon:"icon-undo",action:function(){P.undo()}},{name:y,label:null,title:null,icon:"icon-redo",action:function(){P.redo()}},{name:W,action:function(){let e=r.getPreference(J);e||(e=r.getTabsDefaultConfig().replace(/0:/g,"1:")),r.loadTabsLayout(e),r.saveBoolPref(K,!0),n.disable(W),n.enable(k)}},{name:k,action:function(){let e=r.getPreference(X);e||(e=r.getTabsDefaultConfig()),e.indexOf("0:")<0&&(e=e.replace(/^1:/,"0:")),r.loadTabsLayout(e),r.saveBoolPref(K,!1),n.disable(k),n.enable(W)}},{name:"pd-reset-tab-layout",action:function(){r.loadTabsLayout(r.getTabsDefaultConfig()),r.saveBoolPref(K,!1),r.savePreference(J,""),r.savePreference(X,""),n.disable(k),n.enable(W),ce("sp_main_content"),ce("sp_right_content"),ce("sp_glv_content"),t("#sp_main_content").splitter("option","position",290),t("#sp_right_content").splitter("option","position",290),t("#sp_glv_content").splitter("option","position",200),r.activateTab("peComponentProperties"),r.activateTab(g?"grid_diagram":$),r.activateTab(g?"workflowTree_container":"renderTree_container")}},{name:"pd-enable-tooltips",set:function(e){r.saveBoolPref(Q,e),ie(e)},get:function(){return r.getBoolPref(Q,!1)}},{name:b,label:null,disabled:!0,action:function(e,n,a){const o=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},a);t(e.target).closest(".a-Property").length&&d.propertyEditor("saveProperty"),_e((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&r.showError(e.error):o.suppressSuccessMessage||r.showSuccess(r.msg("CHANGES_SAVED")),o.afterSaveCallback&&o.afterSaveCallback(e)}))}},{name:D,label:null,title:null,icon:"icon-run-page",disabled:!0,action:function(n,a,o){const i=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},o);let _,p=e.getCurrentAppId(),c=e.getCurrentPageId(),E=null;function u(){return l.makeApplicationUrl({pageId:"RUN_PAGE",request:"BRANCH_TO_PAGE_ACCEPT",debug:"NO",itemNames:["FB_FLOW_ID","FB_FLOW_PAGE_ID","F4000_P1_FLOW"],itemValues:[p,c,p]})}function T(e,n){e.dialog({modal:!0,title:n?r.msg("FOCUS_PAGE"):r.msg("RUN_PAGE"),closeText:s.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerAlert",width:400,height:240,minWidth:400,minHeight:240,position:{my:"right top",at:"right-20 bottom+20",of:a},create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:[{text:r.msg("TRY_AGAIN"),class:"a-Button--hot",click:function(){e.dialog("close"),n?O.openInNewWindow("",apex.builder.getAppUnderTestWindowName(p)):N()}}]})}function N(){let n=e.getComponents(e.COMP_TYPE.PAGE)[0],a={},o=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";e.isGlobalPage()?r.showSuccess(r.msg("CHANGES_SAVED_GLOBAL_PAGE")):"NORMAL"===n.getProperty(e.PROP.PAGE_MODE).getValue()?"NONE"===o||/^4\d\d\d$/.test(p)?O.redirect(u()):("BROWSER"===o?a.favorTabbedBrowsing=!0:(_=!1,t(window).on("blur.runcheck",(function(){t(window).off(".runcheck"),_=!0})),E=setTimeout((function(){E=null,_||T(te,!0),t(window).off(".runcheck")}),800)),apex.builder.launchAppUnderTest(u(),p,a)||(clearTimeout(E),t(window).off(".runcheck"),T(ee))):r.showSuccess(r.msg("CHANGES_SAVED_DIALOG_PAGE"))}t(n.target).closest(".a-Property").length&&d.propertyEditor("saveProperty"),e.hasChanged()?_e((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&r.showError(e.error):N(),i.afterSaveCallback&&i.afterSaveCallback(e)})):N()}}])}t.widget("ui.tabs",t.ui.tabs,{_isLocal:()=>!0}),r.checkDisplayCurrentPage=function(){e.getCurrentPageId()!==t("#go_to_page").val().trim()&&t("#go_to_page").val(e.getCurrentPageId())},r.CSS={IS_ERROR:"is-error",IS_WARNING:"is-warning",IS_CONDITIONAL:"is-conditional",IS_NEVER:"is-never",DIALOG_FLUSH_BODY:"ui-dialog-flushBody",IS_CHANGED:"is-changed"},r.SETTINGS={COMPONENT_TITLE:{LABEL:"l",NAME:"n"}},r.settingsState={componentTitle:r.SETTINGS.COMPONENT_TITLE.NAME},r.LINK_TYPE={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},r.splitApexUrl=function(e,n,a){let o,i,s,l,P,O,_,p,c,d,E="LINK."+(n?"GOTO_":""),u=a||[],T={type:r.LINK_TYPE.PAGE_IN_THIS_APP,display:"",appId:"",pageId:"",session:"&SESSION.",request:"",debug:"&DEBUG.",clearCache:"",clearAction:"NONE",itemNames:"",itemValues:"",printerFriendly:"NO",url:"",successMessage:"Y",anchor:""},N=/#([^#]*)#|#([^#]*)/g,g=/([\w]+![\w]+)/g,I=/f\?p=([^:]*):?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?(\\.+\\*|[^:]*)?/i;if(e)if(0===e.toLowerCase().indexOf("f?p=")){for(o=e.toLowerCase().indexOf("&success_msg=#success_msg#"),o>-1?(s=e.substr(0,o),T.successMessage="Y"):(s=e,T.successMessage="N");!l&&(O=N.exec(s));){for(_=!1,P=0;P<u.length;P++)if(O[1]===u[P]||g.test(O[1])){_=!0;break}_||(l=O.index,T.anchor=s.substr(l+1),s=s.substr(0,l))}if(i=I.exec(s),i&&(T.appId=i[1],T.pageId=i[2],T.session=i[3],T.request=i[4],T.debug=i[5],T.clearCache=i[6],T.itemNames=i[7],T.itemValues=i[8],T.printerFriendly=i[9]),T.clearCache){for(c=T.clearCache.split(","),p=0;p<c.length;p++)d=c[p],t.inArray(d,["NONE","CR","RR","RP"])>-1&&(T.clearAction=d,c.splice(p,1));T.clearCache=c.join(",")}T.itemNames&&(T.itemNames=T.itemNames.split(",")),T.itemValues&&(T.itemValues=T.itemValues.match(/(\\[^\\]*\\)|[^,]*/g).filter((function(e,t,n){return""!==e||0===t||t>0&&""===n[t-1]})).map((function(e){return e.replace(/(^\\(.*)\\$)/,"$1")}))),T.appId&&(0===T.appId.toLowerCase().indexOf("&flow_id.")||0===T.appId.toLowerCase().indexOf("&app_id.")||0===T.appId.toLowerCase().indexOf("#flow_id#")||0===T.appId.toLowerCase().indexOf("#app_id#")?(T.type=r.LINK_TYPE.PAGE_IN_THIS_APP,T.display=r.formatNoEscape(E+"PAGE_N",T.pageId)):T.appId&&(T.type=r.LINK_TYPE.PAGE_IN_DIFF_APP,T.display=r.formatNoEscape(E+"APPLICATION_N",T.appId,T.pageId)))}else T.url=e,T.type=r.LINK_TYPE.URL,T.display=e.replace(/^(https?:\/\/)(www.)?/i,""),n&&(T.display=r.formatNoEscape(E+"URL",T.display));return T},r.msg=function(e){return s.getMessage("PD."+e)},r.format=function(e){let t=[r.msg(e)].concat(Array.prototype.slice.call(arguments,1));return s.format.apply(this,t)},r.formatNoEscape=function(e){let t=[r.msg(e)].concat(Array.prototype.slice.call(arguments,1));return s.formatNoEscape.apply(this,t)},r.tooltipContentForComponent=function(t){let n,a=t.typeId,o=l.htmlBuilder();function i(e,n,a){let o=t.getProperty(e),i=a;!o||void 0!==n&&o.getValue()===n||(i||(i=o.getDisplayValue()),""!==i&&s(o.getMetaData().prompt,i))}function s(e,t){o.markup("<li><span class='tt-label'>").content(e).markup(": </span><span class='tt-value'>").content(t).markup("</span></li>")}function P(){i(e.PROP.GRID_NEW_GRID,"N"),i(e.PROP.GRID_NEW_ROW,"N"),i(e.PROP.GRID_COLUMN,""),i(e.PROP.GRID_NEW_COLUMN,"N"),i(e.PROP.GRID_COLUMN_SPAN,"")}function O(){let n=t.getProperty(e.PROP.JS_CONDITION);n&&""!==n.getValue()?(i(e.PROP.JS_CONDITION),i(e.PROP.JS_CONDITION_ITEM),i(e.PROP.JS_COND_VALUE),i(e.PROP.JS_COND_LIST)):(n=t.getProperty(e.PROP.JS_CONDITION_WHEN_IG),n&&""!==n.getValue()&&(i(e.PROP.JS_CONDITION_WHEN_IG),i(e.PROP.JS_CONDITION_ITEM_WHEN_IG),i(e.PROP.JS_CONDITION_COLUMN_WHEN_IG),i(e.PROP.JS_COND_VALUE_WHEN_IG),i(e.PROP.JS_COND_LIST_WHEN_IG)))}if(a===e.COMP_TYPE.PAGE)i(e.PROP.TITLE);else if(a===e.COMP_TYPE.REGION)i(e.PROP.REGION_TYPE),P();else if(a===e.COMP_TYPE.PAGE_ITEM)i(e.PROP.ITEM_LABEL),i(e.PROP.ITEM_TYPE),P();else if(a===e.COMP_TYPE.BUTTON)i(e.PROP.BUTTON_LABEL),n=t.getProperty(e.PROP.BUTTON_TARGET),n?i(e.PROP.BUTTON_TARGET,"",r.splitApexUrl(n.getValue()).display):i(e.PROP.BUTTON_ACTION),P();else if(a===e.COMP_TYPE.DA_EVENT)!function(){let n=t.getProperty(e.PROP.WHEN_TYPE);i(e.PROP.EVENT),i(e.PROP.CUSTOM_EVENT),n&&""!==n.getValue()&&(i(e.PROP.WHEN_REGION),i(e.PROP.WHEN_IG_REGION),i(e.PROP.WHEN_COLUMNS),i(e.PROP.WHEN_BUTTON),i(e.PROP.WHEN_ITEMS),i(e.PROP.WHEN_DOM_OBJECT),i(e.PROP.WHEN_JQUERY_SELECTOR),i(e.PROP.WHEN_JAVASCRIPT_EXPRESSION)),O()}();else if(a===e.COMP_TYPE.DA_ACTION)!function(){let n=t.getProperty(e.PROP.AFFECTED_TYPE);n&&""!==n.getValue()&&(i(e.PROP.AFFECTED_REGION),i(e.PROP.AFFECTED_BUTTON),i(e.PROP.AFFECTED_ITEMS),i(e.PROP.AFFECTED_COLUMNS),i(e.PROP.AFFECTED_DOM_OBJECT),i(e.PROP.AFFECTED_JQUERY_SELECTOR),i(e.PROP.AFFECTED_JAVASCRIPT_EXPRESSION),"TRIGGERING_ELEMENT"!==n.getValue()&&"EVENT_SOURCE"!==n.getValue()||i(e.PROP.AFFECTED_TYPE)),i(e.PROP.FIRE_ON_PAGE_LOAD),O()}();else if(a===e.COMP_TYPE.VALIDATION)""===t.getProperty(e.PROP.VALIDATION_REGION).getValue()?(i(e.PROP.VALIDATION_TYPE),i(e.PROP.VAL_SQL_STATEMENT),i(e.PROP.VAL_ITEM),i(e.PROP.VAL_VALUE),i(e.PROP.VAL_REGULAR_EXPRESSION),i(e.PROP.VAL_PLSQL_FUNC_BODY_ERROR),i(e.PROP.VAL_JS_FUNC_BODY_ERROR),i(e.PROP.VAL_JAVA_FUNC_BODY_ERROR),i(e.PROP.VAL_PYTHON_FUNC_BODY_ERROR),i(e.PROP.VAL_PLSQL),i(e.PROP.VAL_SQL_EXPRESSION_BOOLEAN),i(e.PROP.VAL_PLSQL_EXPRESSION_BOOLEAN),i(e.PROP.VAL_JS_EXPRESSION_BOOLEAN),i(e.PROP.VAL_JAVA_EXPRESSION_BOOLEAN),i(e.PROP.VAL_PYTHON_EXPRESSION_BOOLEAN),i(e.PROP.VAL_FUNC_BODY_LANG),i(e.PROP.VAL_PLSQL_FUNC_BODY_BOOLEAN),i(e.PROP.VAL_JS_FUNC_BODY_BOOLEAN),i(e.PROP.VAL_JAVA_FUNC_BODY_BOOLEAN),i(e.PROP.VAL_PYTHON_FUNC_BODY_BOOLEAN)):(i(e.PROP.VALIDATION_REGION),i(e.PROP.REGION_VALIDATION_TYPE),i(e.PROP.REGION_VAL_SQL_STATEMENT),i(e.PROP.REGION_VAL_COLUMN),i(e.PROP.REGION_VAL_VALUE),i(e.PROP.REGION_VAL_REGULAR_EXPRESSION),i(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_ERROR),i(e.PROP.REGION_VAL_JS_FUNC_BODY_ERROR),i(e.PROP.REGION_VAL_JAVA_FUNC_BODY_ERROR),i(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_ERROR),i(e.PROP.REGION_VAL_PLSQL),i(e.PROP.REGION_VAL_SQL_EXPRESSION_BOOLEAN),i(e.PROP.REGION_VAL_PLSQL_EXPRESSION_BOOLEAN),i(e.PROP.REGION_VAL_JS_EXPRESSION_BOOLEAN),i(e.PROP.REGION_VAL_JAVA_EXPRESSION_BOOLEAN),i(e.PROP.REGION_VAL_PYTHON_EXPRESSION_BOOLEAN),i(e.PROP.REGION_VAL_FUNC_BODY_LANG),i(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN),i(e.PROP.REGION_VAL_JS_FUNC_BODY_BOOLEAN),i(e.PROP.REGION_VAL_JAVA_FUNC_BODY_BOOLEAN),i(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN)),i(e.PROP.ALWAYS_EXECUTE);else if(a===e.COMP_TYPE.PAGE_PROCESS)i(e.PROP.PAGE_PROCESS_TYPE);else if(a===e.COMP_TYPE.PAGE_COMPUTATION)i(e.PROP.COMPUTATION_STATIC_VALUE),i(e.PROP.COMPUTATION_SQL_STATEMENT),i(e.PROP.COMPUTATION_SQL_COLON),i(e.PROP.COMPUTATION_SQL_EXPRESSION_VARCHAR2),i(e.PROP.COMPUTATION_PLSQL_EXPRESSION_VARCHAR2),i(e.PROP.COMPUTATION_JS_EXPRESSION_VARCHAR2),i(e.PROP.COMPUTATION_JAVA_EXPRESSION_VARCHAR2),i(e.PROP.COMPUTATION_PYTHON_EXPRESSION_VARCHAR2),i(e.PROP.COMPUTATION_FUNC_BODY_LANG),i(e.PROP.COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2),i(e.PROP.COMPUTATION_JS_FUNC_BODY_VARCHAR2),i(e.PROP.COMPUTATION_JAVA_FUNC_BODY_VARCHAR2),i(e.PROP.COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2),i(e.PROP.COMPUTATION_ITEM_VALUE),i(e.PROP.COMPUTATION_PREFERENCE_VALUE);else if(a===e.COMP_TYPE.BRANCH)i(e.PROP.BRANCH_TYPE),n=t.getProperty(e.PROP.TARGET),n?i(e.PROP.TARGET,"",r.splitApexUrl(n.getValue()).display):(i(e.PROP.BRANCH_PAGE_NUMBER),i(e.PROP.BRANCH_ACCEPT_REQUEST),i(e.PROP.BRANCH_ITEM));else if(a===e.COMP_TYPE.IR_COLUMN)i(e.PROP.COLUMN_HEADING),i(e.PROP.IR_COLUMN_DISPLAY_TYPE);else if(a===e.COMP_TYPE.CLASSIC_RPT_COLUMN)i(e.PROP.COLUMN_HEADING),i(e.PROP.CLASSIC_REPORT_COLUMN_TYPE);else if(a===e.COMP_TYPE.TAB_FORM_COLUMN)i(e.PROP.COLUMN_HEADING),i(e.PROP.TAB_FORM_COLUMN_TYPE);else if(a===e.COMP_TYPE.WORKFLOW_ACTIVITY)i(e.PROP.PAGE_PROCESS_TYPE);else if(a===e.COMP_TYPE.WORKFLOW_TRANS||a===e.COMP_TYPE.WORKFLOW_BRANCH){i(e.PROP.TRANSITION_TYPE);let n,o="",l=t.getParent(),P=t.getProperty(e.PROP.TO_WORKFLOW_ACTIVITY).getValue();if(P&&(n=e.getComponents(e.COMP_TYPE.WORKFLOW_ACTIVITY,{id:P})[0],n&&(o=n.getProperty(e.PROP.NAME).getValue())),s(r.msg("WF.FROM"),l.getProperty(e.PROP.NAME).getValue()),s(r.msg("WF.TO"),o),a===e.COMP_TYPE.WORKFLOW_BRANCH){let t=e.getPluginProperty(e.COMP_TYPE.PAGE_PROCESS,"NATIVE_WORKFLOW_SWITCH",1).id,n=l.getProperty(t).getValue();s(r.msg("WF.CONDITION_TYPE"),n)}}return function(){let n=t.getProperty(e.PROP.CONDITION_TYPE);i(e.PROP.WHEN_BUTTON_PRESSED),n&&""!==n.getValue()&&(i(e.PROP.CONDITION_TYPE),i(e.PROP.CONDITION_SQL_STATEMENT),i(e.PROP.CONDITION_VALUE1),i(e.PROP.CONDITION_ITEM1),i(e.PROP.CONDITION_LIST),i(e.PROP.CONDITION_PREFERENCE),i(e.PROP.CONDITION_PAGE),i(e.PROP.CONDITION_PAGES),i(e.PROP.CONDITION_TEXT),i(e.PROP.CONDITION_VALUE2),i(e.PROP.CONDITION_ITEM2),i(e.PROP.CONDITION_TEXT2),i(e.PROP.CONDITION_SQL_EXPRESSION_BOOLEAN),i(e.PROP.CONDITION_PLSQL_EXPRESSION_BOOLEAN),i(e.PROP.CONDITION_JS_EXPRESSION_BOOLEAN),i(e.PROP.CONDITION_JAVA_EXPRESSION_BOOLEAN),i(e.PROP.CONDITION_PYTHON_EXPRESSION_BOOLEAN),i(e.PROP.CONDITION_PLSQL_FUNC_BODY_BOOLEAN),i(e.PROP.CONDITION_JS_FUNC_BODY_BOOLEAN),i(e.PROP.CONDITION_JAVA_FUNC_BODY_BOOLEAN),i(e.PROP.CONDITION_PYTHON_FUNC_BODY_BOOLEAN)),i(e.PROP.AUTHORIZATION_SCHEME),i(e.PROP.PAGE_AUTHENTICATION),i(e.PROP.ENABLE_META_TAGS),i(e.PROP.BUILD_OPTION)}(),o.toString()?"<ul class='tt-list'>"+o.toString()+"</ul>":null},r.getComponentIconClass=function(e,t,n){let a;return t.startsWith("PLUGIN_")?a="icon-"+e+"-plugin icon-"+e+"-":t.startsWith("TMPL")?(a="icon-"+e,t=t.replace(/^TMPL_THEME(_[\d]+)\$/,"TMPL_THEME-"),a+=n?"-tmpl-"+n.toLowerCase().replaceAll("_","-")+" icon-":"-tmpl icon-"):a="icon-"+e+"-",a+t.toLowerCase().replaceAll("_","-")},r.isNever=function(t){let n=t.getProperty(e.PROP.CONDITION_TYPE);return n&&"NEVER"===n.getValue()},r.isConditional=function(t){function n(e){let n=t.getProperty(e);return n&&""!==n.getValue()}return n(e.PROP.CONDITION_TYPE)||n(e.PROP.AUTHORIZATION_SCHEME)||n(e.PROP.BUILD_OPTION)||n(e.PROP.WHEN_BUTTON_PRESSED)},r.observerIsConditional=function(t,n,a){e.observer(t,{components:n,events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.WHEN_BUTTON_PRESSED,e.PROP.STATE]},a)},r.goToComponent=function(n,a,o){let i=e.getComponents(n,{id:a});return 1===i.length&&(t(document).trigger("selectionChanged",["controller",i,o]),t("#workflowTree, #PDrenderingTree, #PDdynamicActionTree, #PDprocessingTree, #PDsharedCompTree").each((function(){let e,n=t(this);if(e=n.designerTree("getSelectedNodes")[0],e&&e.data.componentId===a)return Oe(n.closest(".ui-tabs-panel")[0].id),n.designerTree("setSelectedNodes",[e],void 0===o,!0),!1})),!0)},r.showSuccess=function(e){t("#pdNotificationState").addClass("is-success"),t("#pdNotificationIcon").addClass("icon-check").attr(R,s.getMessage("APEXDEV.ICON_LABEL.SUCCESS")),t("#pdNotificationTitle").html(s.getMessage("APEX.SUCCESS_MESSAGE_HEADING")),r.showNotification(e)},r.showError=function(e){t("#pdNotificationState").addClass("is-error"),t("#pdNotificationIcon").addClass("icon-error").attr(R,s.getMessage("APEXDEV.ICON_LABEL.WARNING")),t("#pdNotificationTitle").html(s.getMessage("APEX.ERROR_MESSAGE_HEADING")),r.showNotification(e)},r.showNotification=function(n){let a=t("#pdNotificationMessage");n&&a.text(n),t("#pdNotification").addClass("is-displayed").fadeIn("slow"),t(document).on("commandHistoryChange.forMsg",(function(){e.hasChanged()&&r.hideNotification()})).on("modelCleared.forMsg",(function(e,t){t.preventHideNotification||r.hideNotification()}))},r.hideNotification=function(){t("#pdNotification").removeClass("is-displayed").fadeOut("slow",(function(){t("#pdNotificationMessage").text(""),t("#pdNotificationState").removeClass("is-error is-success"),t("#pdNotificationIcon").removeClass("icon-error icon-check")})),t(document).off(".forMsg")},r.setHelpText=function(e){t("#help-container").html(e)},r.clearHelpText=function(){let e=t("#help-container"),n=r.msg("HELP.DEFAULT");e.html(n)},r.getPreference=function(e){let t=(g?"WD_":"PD_")+e;return oe(window.gPreferences,t)?window.gPreferences[t]:null},r.savePreference=function(e,t){let n=(g?"WD_":"PD_")+e,a=window.gPreferences[n];window.gPreferences[n]=t,a!==t&&function(e,t,n){t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=g?[$v("P9600_CURRENT_APP")]:[$v("P4500_CURRENT_APP")],o.process(e,t,n)}("setPreference",{x01:n,x02:t},{dataType:""})},r.saveBoolPref=function(e,t){r.savePreference(e,t?"Y":"N")},r.getBoolPref=function(e,t){let n=r.getPreference(e);return n=null===n?t:"Y"===n,n},r.getTab=function(e){let n=u[e]||{};return t(n.tabs).find(".ui-tabs-nav").first().children().eq(n.index)},r.getTabsDefaultConfig=function(){return g?"0:workflowTree_container,0:sharedComp_container,1:grid_diagram,1:search,1:help,2:peComponentProperties":"0:renderTree_container,0:dynActTree_container,0:procTree_container,0:sharedComp_container,1:grid_layout,1:search,1:help,2:peComponentProperties,2:peAttributesTabPanel,2:pePrintingTabPanel"},r.addBinding=function(e,t){return{name:e,shortcut:t,type:"global"}},r.getRefByCompProps=function(t){let n,a,o=e.getComponentType(t),i=[];for(let t=0;t<o.refByProperties.length;t++){n=e.getProperty(o.refByProperties[t]);for(let t=0;t<n.refByComponentTypes.length;t++)a=e.getComponentType(n.refByComponentTypes[t]),(a.isPageComponent||a.isSharedDesignerComponent||a.id===e.COMP_TYPE.PAGE)&&i.push({typeId:a.id,propertyId:n.id})}return i},r.getTreeNodeAdapter=function(n,a,o){let i=n(),s=t.apex.treeView.makeDefaultNodeAdapter(i,o,!0,function(e){let t=[];function n(e){return!(!a||!0!==a[e.id])||!(!e.state||!e.state.opened||a&&!1===a[e.id])}return n(e)&&t.push(e.id),function e(a){for(let o=0;o<a.length;o++)n(a[o])&&t.push(a[o].id),a[o].children&&e(a[o].children)}(e.children),t}(i));return s.sortCompare=null,s.defaultGetIcon=s.getIcon,s.getIcon=function(n){let a;if(n.data&&n.data.typeId&&n.data.componentId){const t=e.getComponents(n.data.typeId,{id:n.data.componentId});1===t.length&&(a=t[0])}if(n.data&&a){if(n.data.typeId===e.COMP_TYPE.REGION){const t=a.getProperty(e.PROP.REGION_TYPE).getValue(),n=e.getTemplateComponentType(a);return r.getComponentIconClass("region",t,n)}if(n.data.typeId===e.COMP_TYPE.PAGE_ITEM)return r.getComponentIconClass("item",a.getProperty(e.PROP.ITEM_TYPE).getValue());if(-1!==t.inArray(n.data.typeId,[e.COMP_TYPE.FACET,e.COMP_TYPE.FACET_GROUP_ITEM,e.COMP_TYPE.SFILTER,e.COMP_TYPE.SFILTER_GROUP_ITEM]))return r.getComponentIconClass("item",a.getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.BUTTON)return r.getComponentIconClass("button","Y"===a.getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(n.data.typeId===e.COMP_TYPE.DA_ACTION)return r.getComponentIconClass("dynamic-action",a.getProperty(e.PROP.DA_ACTION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CARD_ACTION)return r.getComponentIconClass("card-action",a.getProperty(e.PROP.CARD_ACTION_TYPE).getValue());if([e.COMP_TYPE.REGION_ACTION,e.COMP_TYPE.IR_COLUMN_ACTION].includes(n.data.typeId)){const t=e.getActionPositionType(a);return r.getComponentIconClass("component-action","template"===t?"button":t)}if([e.COMP_TYPE.REGION_ACTION_MENU_ENTRY,e.COMP_TYPE.IR_COL_ACTION_MENU_ENTRY].includes(n.data.typeId))return r.getComponentIconClass("menu",a.getProperty(e.PROP.MENU_ENTRY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CLASSIC_RPT_COLUMN)return r.getComponentIconClass("col",a.getProperty(e.PROP.CLASSIC_REPORT_COLUMN_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IR_COLUMN)return r.getComponentIconClass("col",a.getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IG_COLUMN){if("Y"===a.getParent().getChilds(e.COMP_TYPE.IG_ATTRIBUTES,{})[0].getProperty(e.PROP.IS_EDITABLE).getValue())return r.getComponentIconClass("item",a.getProperty(e.PROP.ITEM_TYPE).getValue())}else{if(n.data.typeId===e.COMP_TYPE.JET_CHART_AXES)return"icon-"+a.getProperty(e.PROP.NAME).getValue().toLowerCase()+"-axis";if(n.data.typeId===e.COMP_TYPE.PAGE_PROCESS&&"NATIVE_EXECUTION_CHAIN"===a.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue())return"icon-tree-process-chain";if(n.data.typeId===e.COMP_TYPE.WORKFLOW_ACTIVITY)return r.getComponentIconClass("activity",a.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue());if([e.COMP_TYPE.WORKFLOW_BRANCH,e.COMP_TYPE.WORKFLOW_TRANS].includes(n.data.typeId)){let t=e.getComponents(e.COMP_TYPE.WORKFLOW_ACTIVITY,{id:a.parentId})[0],o=e.getComponents(e.COMP_TYPE.WORKFLOW_ACTIVITY,{id:n._parent._parent.data.componentId})[0];return t?.id===o?.id?"icon-up-arrow":"icon-down-arrow"}}}return this.defaultGetIcon(n)},s.extraCheck=function(n,a,o,i,s){let l,P,O;if(n){if(-1!==t.inArray(a,["canDelete","canRename","canDrag","canDuplicate"]))return o.data&&o.data.typeId&&o.data.componentId&&(l=e.getComponents(o.data.typeId,{id:o.data.componentId}),1===l.length&&(P=l[0])),P&&!e.isPageReadOnly();if("canAdd"===a&&e.isPageReadOnly())return!1;if("canAdd"===a&&"move"===i&&-1!==t.inArray(o.type,[r.WF_TREE_NODE_TYPE.WF_TRANSITIONS,r.WF_TREE_NODE_TYPE.WF_OUTGOING_LINKS,r.WF_TREE_NODE_TYPE.WF_ACTIVITIES])&&s){for(O=0;O<s.length;O++)if(s[O]._parent&&s[O]._parent!==o)return!1}else if("canAdd"===a&&"move"===i&&("facet_group_items"===o.type||"sfilter_group_items"===o.type)&&s)for(O=0;O<s.length;O++)if(s[O]._parent&&s[O]._parent._parent._parent!==o._parent._parent)return!1}return n},s.renderNodeContent=function(e,t,n,a){let o,i,s;n.nodeSelector>0&&t.markup("<span class='u-selector'></span>"),o=this.getIcon(e),null!==o&&t.markup("<span").attr("class","a-Icon "+o).markup("></span>"),i=this.getClasses(e),i&&(i.indexOf(r.CSS.IS_ERROR)>=0?s="icon-error":i.indexOf(r.CSS.IS_WARNING)>=0&&(s="icon-warning")),t.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",a.level).optionalAttr("aria-selected",a.selected?"true":"false").optionalAttr("aria-disabled",a.disabled?"true":null).optionalAttr("aria-expanded",!1===a.hasChildren?null:a.expanded?"true":"false").optionalAttr("aria-owns",a.owns).markup(">"),s&&t.markup("<span class='a-Icon ").attr(s).markup("'></span>"),t.content(this.getLabel(e)).markup("</span>")},function(){return s}},r.getSharedData=function(n){let a=t.apex.designerTree.addNode,o=t.apex.designerTree.addHeaderNode;function i(e){let t=function(e){return s.getMessage("PD.TREE."+e)}(e),n=[t].concat(Array.prototype.slice.call(arguments,1));return s.formatNoEscape.apply(this,n)}function l(n,s,l){let P,O,_,p,c,d,E,u=e.getComponentType(s.typeId);E=o(n,{title:s.title||(s.titleTypeId?e.getComponentType(s.titleTypeId).title.singular:u.title.plural),type:s.type+"s",isOpen:!1,omitIfEmpty:l,data:{typeId:s.typeId}}),P=r.getRefByCompProps(s.typeId),d={};for(let n=0;n<P.length;n++){O=e.getComponents(P[n].typeId,{});for(let a=0;a<O.length;a++)c=!1,P[n].typeId===e.COMP_TYPE.PAGE&&-1!==t.inArray(P[n].propertyId,[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.NAVIGATION_LIST,e.PROP.TAB_SET])?!O[a].getProperty(P[n].propertyId)||P[n].propertyId!==e.PROP.PAGE_TEMPLATE&&P[n].propertyId!==e.PROP.DIALOG_TEMPLATE||(c=!0,p=e.getPageTemplate().id):(_=O[a].getProperty(P[n].propertyId),_&&(p=_.getValue(),""!==p&&(s.typeId!==e.COMP_TYPE.BUILD_OPTION&&s.typeId!==e.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(p)||(p=p.substr(1)),c=!0))),c&&""!==p&&(Object.prototype.hasOwnProperty.call(d,p)||(d[p]={}),Object.prototype.hasOwnProperty.call(d[p],P[n].typeId)||(d[p][P[n].typeId]=[]),d[p][P[n].typeId].push(O[a]))}for(let t in d)Object.prototype.hasOwnProperty.call(d,t)&&a(E,{header:!1,component:{type:s.type,typeId:s.typeId,isOpen:!1,filter:{id:t,properties:[]},addSubComponents:function(n){let r,s;for(let l in d[t])if(Object.prototype.hasOwnProperty.call(d[t],l)){r=e.getComponentType(l),s=o(n,{title:i("REFERENCED_BY",1===d[t][r.id].length?r.title.singular:r.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(let e=0;e<d[t][r.id].length;e++)a(s,{header:!1,component:{type:"referenced_by",typeId:r.id,isPlain:!0,filter:{id:d[t][r.id][e].id,properties:[]}}})}}}});return E}let P={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return function n(i,r,s){let P,O,_=!1;for(let p=0;p<r.length;p++)-1!==t.inArray(r[p].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])?("navigation_menu_list"===r[p].type?(O=e.getNavListId(),_=!0):"navigation_bar_list"===r[p].type?(O=e.getNavBarListId(),_=!0):"nav_list_template"===r[p].type?O=e.getNavListTemplateId():"tab_set"===r[p].type&&(O=e.getTabSetId()),O&&a(i,{header:{title:r[p].title,type:r[p].type+"s",isOpen:_,omitIfEmpty:!0,data:{typeId:r[p].typeId}},component:{type:r[p].type,typeId:r[p].typeId,isOpen:!1,filter:{id:O,properties:[]}}})):P=Object.prototype.hasOwnProperty.call(r[p],"typeId")?l(i,r[p],s):o(i,{title:r[p].title,type:r[p].type+"s",isOpen:!0,omitIfEmpty:s}),r[p].children&&n(P,r[p].children,!0)}(P,n,!1),t.apex.designerTree.postProcessNodes(P),P},r.getTabsLayout=se,r.storeTabsLayout=le,r.loadTabsLayout=Pe,r.activateTab=Oe,r.parseSelectionHash=function(e){let t,n=null;"#"===e.charAt(0)&&(e=e.substring(1));/^[0-9:]+$/.test(e)&&(t=e.split(":"),2===t.length&&(n={typeId:t[0],componentId:t[1]}));return n},r.getShortcutsMenuListMarkup=function(e,n){let a=l.htmlBuilder();a.markup("<div").attr("id","shortcutDlg").markup("<ul class='a-AVPList a-AVPList--shortcuts'>");for(let t=0;t<e.length;t++){let o=n[e[t]];a.markup("<li class='a-AVPList-item'><span class='a-AVPList-label'>").content(o.actionLabel).markup("</span><span class='a-AVPList-value'>");let i=o.shortcuts;for(let e=0;e<i.length;e++)a.markup(i[e]);a.markup("</span></li>")}a.markup("</ul></div>"),t(a.toString()).dialog({modal:!0,closeText:s.getMessage("APEX.DIALOG.CLOSE"),minWidth:300,width:550,height:380,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){t(this).dialog("destroy").remove()},open:function(){this.focus()},buttons:[{text:r.msg("OK"),click:function(){t(this).dialog("close")}}]})},t((function(){let a=_.getScopedSessionStorage({useAppId:!1,prefix:"ORA_WWV_apex.builder.pageDesigner"}),o=null;p=r.getTabsDefaultConfig(),t("#sp_main").show(),Te(),P.setErrorHandler((function(e,t){r.showError(r.format({execute:"CMD.EXECUTE_FAILED",undo:"CMD.UNDO_FAILED",redo:"CMD.REDO_FAILED"}[e],t.label()))})),t(document).on("commandHistoryChange",(function(){let e,t;t=n.lookup(h),t.origLabel||(t.origLabel=t.label),t.disabled=!P.canUndo(),P.canUndo()?(e=s.formatMessageNoEscape("PD.UNDO",P.undoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,n.update(h),t=n.lookup(y),t.origLabel||(t.origLabel=t.label),t.disabled=!P.canRedo(),P.canRedo()?(e=s.formatMessageNoEscape("PD.REDO",P.redoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,n.update(y)})).trigger("commandHistoryChange"),ne.on("click",ue),t("#pdMessages").peMessagesView({badge:ne.find("span.a-Button-badge"),button:ne,noMsgHandler:function(){N.hasClass("ui-dialog-content")&&N.dialog("close")}}),q.on("menucreate",(function(){let e=q.menu("find","teamDev");e&&(e.hide=!gTeamDevEnabled),pe(q.menu(A).items)})),r.clearHelpText(),t("body").on("splitterchange splittercreate",(function(){let e=n.lookup(M);o||(o=setTimeout((function(){o=null,e.updateState()}),100))})),t(z).tabs({heightStyle:"fill",activate:function(e,t){t.newPanel.is(".resize")&&t.newPanel.resize();let n=t.newTab.parents(".ui-tabs"),o=n.attr("id"),i=n.tabs(A,f);a.setItem(o,i)}}).on("resize",(function(){re()})),t(".ui-tabs").each((function(){let e,n=t(this).data("ui-tabs");e=n._handlePageNav,n._handlePageNav=function(t){return!!t.shiftKey||e.call(n,t)}})),se(),setTimeout((function(){let e;r.getBoolPref(K,!1)||r.getPreference(X)?(r.getBoolPref(K,!1)?(e=r.getPreference(J),e&&e.indexOf("2:")<0&&(e=p.replace(/0:/g,"1:")),e||(e=p.replace(/0:/g,"1:")),n.disable(W)):(e=r.getPreference(X),e&&e.indexOf("2:")<0&&(e=p),e||(e=p),n.disable(k)),!g&&(e.indexOf(":peAttributesTabPanel")<0||e.indexOf(":pePrintingTabPanel")<0)&&(e=p),Pe(e,!0)):n.disable(k),t(z).each((function(){let e=t(this),n=e.attr("id"),o=a.getItem(n);o?e.tabs(A,f,o):"editor_tabs"===n&&Oe($)}))}),1),t("#editor_tabs").find(".ui-tabs-nav").first().sortable({axis:"x",connectWith:"#trees > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:de}).on("dblclick",(function(){n.toggle(M)})).on("keydown",Ee),t("#trees").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:de}).on("keydown",Ee),t("#peTabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #trees > .a-Tabs-toolbar > .ui-tabs-nav",update:de}).on("keydown",Ee),t("#editor_tabs [aria-controls=help]").addClass("ui-tabs-helpTab"),t(window).on("beforeunload",(function(){if(e.hasChanged())return r.msg("BEFORE_PAGE_UNLOAD_UNSAVED_CHANGES")})),t("#pdNotificationClose").on("click",(function(){r.hideNotification()})),apex.theme.pageResizeInit(),t(document.body).append("<div id='apexActionKeyDisplay' style='display:none;'></div>"),n.partialShortcutInput=function(e){e=e||"",setTimeout((function(){t("#apexActionKeyDisplay").text(e)[e?"show":"hide"]()}),e?1:800)},apex.gPageContext$.on("apexafterclosedialog",(function(e,t){t.FB_FLOW_ID&&t.FB_FLOW_PAGE_ID&&(t.successMessage?r.showSuccess(t.successMessage.text):r.hideNotification(),r.goToPage(t.FB_FLOW_PAGE_ID,t.successMessage))}));let i,l=[r.addBinding("spotlight-search","Ctrl+Quote"),r.addBinding(h,"Ctrl+Z"),r.addBinding(y,"Ctrl+Y"),r.addBinding(b,"Alt+F7"),r.addBinding(M,"Alt+F11"),r.addBinding(V,"Alt+F1"),r.addBinding(Y,"Ctrl+/,M"),r.addBinding(G,"Ctrl+/,F"),r.addBinding(v,"Ctrl+/,U,A")];[h,y].forEach((function(e){let t=n.lookup(e);t.contextLabel=t.label})),i=t("#menu-create").attr(R),[F,w,H,x,v].forEach((function(e){let t=n.lookup(e);t&&(t.contextLabel=i+": "+t.label)})),i=t("#menu-utilities").attr(R),n.setShortcutKeyBindings(l),t(document).on("modelReady",(function(){[b,D].forEach((function(e){n.enable(e)})),t(document).one("modelCleared",(function(){P.clear(),t(document).trigger("commandHistoryChange"),Z.attr("disabled",!0),[B,U,b,D].forEach((function(e){n.disable(e)}))})),t(".a-ControlBar,.a-PageDesigner").tooltip({item:"button[title]",show:apex.tooltipManager.defaultShowOption()}),ie(r.getBoolPref(Q,!1))}))}))}(pe,apex.jQuery,apex.actions,apex.item,apex.server,apex.env,window.pageDesigner,apex.lang,apex.util,apex.commandHistory,apex.navigation,apex.storage);