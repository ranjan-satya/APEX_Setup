/*!
 * Copyright (c) 2024, Oracle and/or its affiliates.
 */
!function(){"use strict";const{ai:e,item:i,$:t}=apex;window.aiItemPlugin={init:n=>{let s,o,{pluginOptions:a,chatOptions:l,viewOptions:c}=n;a.initJsFunc&&({chatOptions:l,viewOptions:c}=a.initJsFunc({chatOptions:l,viewOptions:c})),"dialog"===a.displayMode?t("#"+a.elemId).on("click",(()=>{e.getUserConsent().then((i=>{i&&(s&&o?o.show():(s||(s=new e.Chat(l)),o=s.createDialogView(c),a.initialMessage&&setTimeout((()=>{s.addAiMessage({content:a.initialMessage,excludeFromCommits:!0})}),1),"close"===a.closeMode&&o.one("dialogclose",(()=>{s.destroy(),s=void 0,o=void 0}))))}))})):"inline"===a.displayMode&&e.getUserConsent().then((i=>{i&&(s=new e.Chat(l),o=s.createInlineView({el:document.getElementById(a.elemId),...c}),a.initialMessage&&setTimeout((()=>{s.addAiMessage({content:a.initialMessage,excludeFromCommits:!0})}),1))})),i.create(a.itemName,{item_type:"AI_CHAT",getChat:()=>s,getChatView:()=>o})}}}();