/*!
 * Copyright (c) 2013, 2023, Oracle and/or its affiliates.
 */
!function(n,e,i,t,o){"use strict";const a="APEX_BUILDER",s=".a-Region--hideShow";e.getAppUnderTestWindowName=function(n){let e="APEX_AUT_";return"Y"===$v("P0_WINDOW_MGMT_SHARE_WINDOW")||(e+=n),e},e.launchAppUnderTest=function(n,i,o){let a="",s=apex.navigation.openInNewWindow("",e.getAppUnderTestWindowName(i),o);return s&&s.$v&&(a=s.$v("pdebug")||""),n.includes("f?p")&&n.includes(":")&&("BRANCH_TO_PAGE_ACCEPT"===(n=n.split(":"))[3]?(n[6]=n[6]+",P1000_DEBUG",n[7]=n[7]+","+a):n[4]=a,n=n.join(":")),t.openInNewWindow(n,e.getAppUnderTestWindowName(i),o)},e.nameBuilderWindow=function(){window.name&&0!==window.name.indexOf(a)||(window.name=a+"_"+apex.env.APP_SESSION)},e.initWizardModal=function(){const e=".a-Dialog-body",i=".a-Dialog-wizardSteps",t=".a-Dialog-footer";let a=function(){let o=n(i).height(),a=n(t).height();n(e).css({top:o,bottom:a})};n(window).on("apexwindowresized",(function(){a()})),a(),o.modalAutoSize({observeClass:e,sections:[e,i,t]})},e.initStickyHeader=function(e){const i=n("#"+e);if(i[0]){const e=i.outerHeight(),t=i.parent(),o=i.offset().top;n(window).on("scroll",(function(){n(window).scrollTop()>o?(i.addClass("is-fixed"),t.css("margin-top",e)):(i.removeClass("is-fixed"),t.css("margin-top","0"))}))}},e.initWizardProgressBar=function(){o.initWizardProgressBar("a-WizardSteps")},n((function(){function i(){t.openInNewWindow(this.href,"_blank",{favorTabbedBrowsing:!0})}n(".a-Header-tabsContainer").menu({menubar:!0,behaveLikeTabs:!0}).show(),function(e){let i,t,o,a,s=n("#"+e);if(s.length)for(o=s.children("ul").children("li"),a=s.menu("option").items,i=0;i<a.length;i++)t=a[i].id,t&&o.eq(i).addClass(t)}("a_Header_menu"),n("#helpMenu_menu").on("menucreate",(function(){const e=this;["helpLinkNewWindow","helpLinkForum","helpLinkOTN","helpLinkDocLib"].forEach((function(t){const o=n(e).menu("find",t);o&&(o.action=i)}))})),n(s).each((function(){n(this).collapsible({content:n(this).find(".a-Region-body").first(),collapsed:n(this).hasClass("is-collapsed")})})),n("body").on("click","button.launch-aut",(function(){const i=n(this).attr("data-link"),o={},a=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";let s;if(i.includes("?p=")){const n=i.substring(i.indexOf("?p=")+3).split(":");if(n.length>=8&&"BRANCH_TO_PAGE_ACCEPT"===n[3]){const e=n[6].split(","),i=n[7].split(",");for(let n=0;n<e.length&&n<i.length;n++)if("FB_FLOW_ID"===e[n]){s=i[n];break}}else s=n[0]}if(!s)try{s=new URL(window.location.origin+i).searchParams.get("fb_flow_id")}catch(n){}if(!s)try{s=new URL(window.location.href).searchParams.get("fb_flow_id")}catch(n){}if(!s)try{s=new URL(i).pathname.split("/").slice(0,-1).join("/")}catch(n){}s&&("NONE"===a||/^4\d\d\d$/.test(s)?t.redirect(i):("BROWSER"===a&&(o.favorTabbedBrowsing=!0),e.launchAppUnderTest(i,s,o)))})),n("button.launch-aut").each((function(){let e,i=n(this),t=i.attr("data-link");t||(e=/['"]((ws|f)\?p=.*)['"]/.exec(i.attr("onclick")),e||(e=/[apex.navigation.redirect(]'(.*)'/.exec(i.attr("onclick"))),e&&e.length>1&&(t=JSON.parse(`"${e[1]}"`),i.removeAttr("onclick"),i.attr("data-link",t)))})),n("#accountMenu_menu").menu({customContent:!0,tabBehavior:"NEXT"}),n(document.body).on("dialogopen dialogresizestop",".a-DialogRegion",(function(){!function(n){const e=n.find(".a-DialogRegion-buttons").height();n.find(".a-DialogRegion-body").css("bottom",e)}(n(this))}))}))}(apex.jQuery,apex.builder,apex.util,apex.navigation,apex.theme);