/*!
 * Copyright (c) 2013, 2024, Oracle and/or its affiliates.
 */
!function(t,e,a,r,i){"use strict";const n="a-PropertyEditor",s=n+"-wrapper",o="."+s,l=n+"--stacked",p=n+"-propertyGroup",u="."+p,d=n+"-message",c=n+"-messageText",h=n+"-editParent",m=n+"-filter",f="a-Button--stickyFilter",y="has-active-filter",v=p+"-header",g="."+v,k=p+"-button",b=p+"-title",D=p+"-body",C="a-Property",_=C+"-notFound",E=C+"--stacked",P=C+"-buttonContainer",x=P+"--comboBox",S=C+"-labelContainer",O=C+"-label",T=O+"--withIcon",V=C+"-radioGroup",I=V+"--buttonSet",N=C+"-radio",L=N+"-label",A=N+"-input",R=C+"-checkboxGroup",B=C+"-checkbox",w=B+"-label",F=B+"-input",G=C+"-fieldContainer",M=G+"--comboBox",H=G+"--radioGroup",K=G+"--checkboxGroup",U=G+"--colorPicker",q=G+"--switch",X=C+"-field",Q=X+"--readOnly",j=X+"--text",Y=X+"--textarea",$=X+"--select",W=X+"--filter",z=C+"-unitContainer",J=C+"-unit",Z=C+"--scrollable",tt="js-showAll",et="a-Button",at=et+"--full",rt=et+"--primary",it=et+" "+(et+"--small")+" "+(et+"--noLabel")+" "+(et+"--withIcon"),nt="is-active",st="is-focused",ot="is-expanded",lt="is-variable",pt="is-empty",ut="is-changed",dt="is-disabled",ct="a-Icon",ht=ct+" icon-down-arrow",mt=ct+" icon-right-arrow",ft=ct+" icon-required",yt=ct+" icon-error",vt=ct+" icon-warning",gt=ct+" icon-popup-lov",kt=ct+" icon-variable",bt=ct+" icon-quick-pick",Dt=ct+" icon-color-preview",Ct=ct+" "+(ct+"--large")+" icon-warning",_t=ct+" icon-open-in-dialog",Et="u-vh",Pt="u-hidden",xt="a-Property-highlight",St="aria-label",Ot="aria-hidden",Tt="data-property-id",Vt="data-group-id",It={COMBOBOX:"COMBOBOX",NUMBER:"NUMBER",INTEGER:"INTEGER",SELECT_LIST:"SELECT LIST",TEXT:"TEXT",TEXTAREA:"TEXTAREA",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",CHECKBOXES:"CHECKBOXES",RADIOS:"RADIOS",COLOR:"COLOR",POPUP_LOV:"POPUP LOV",STATIC_LOV_GRID:"STATIC LOV VALUES",STATIC_LOV_BTN:"STATIC LOV",TPL_OPTIONS_BTN:"TEMPLATE OPTIONS",LINK_TARGET_BTN:"LINK",LINK_ITEMS_GRID:"LINK SET ITEMS"};var Nt={};let Lt="PE.";const At=e.hasOwnProperty;function Rt(t){return i.getMessage(Lt+t)}function Bt(t){var e=[Rt(t)].concat(Array.prototype.slice.call(arguments,1));return i.format.apply(this,e)}function wt(t){var e=[Rt(t)].concat(Array.prototype.slice.call(arguments,1));return i.formatNoEscape.apply(this,e)}function Ft(e,a){var r=t.extend({class:"",style:""},a);e.markup("<div"),r.class&&e.attr("class",Array.isArray(r.class)?r.class.join(" "):r.class),r.style&&e.attr("style",r.style),e.markup(">")}function Gt(t){t.markup("</div>")}function Mt(t,e,a){t.markup("<span").attr("class",e).attr(Ot,!0).markup("></span>"),a&&t.markup("<span").attr("class",Et).markup(">").content(a).markup("</span>")}function Ht(t){var e={},a=t.metaData;return a&&a.multiSelectData&&a.multiSelectData.indeterminateMap&&(e=a.multiSelectData.indeterminateMap),e}function Kt(t){var e,a=!1,r=t.value;return r.constructor===Object&&0===Object.keys(r).length?a=!0:(e=Ht(t),At(e,r)&&(a=e[r])),a}function Ut(t){return"["+Vt+"='"+e.escapeCSS(t)+"']"}function qt(t){return"["+Tt+"='"+e.escapeCSS(t)+"']"}function Xt({event:t,type:e}){let a=[8,9,13,27,35,36,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,189];if(e===It.NUMBER){const t=r.getDecimalSeparator();"."===t?(a.push(190),a.push(110)):","===t&&a.push(188)}return a.includes(t.which)||(t.ctrlKey||t.metaKey)&&[65,67,86,88].includes(t.which)}var Qt={},jt={renderDivOpen:Ft,renderDivClose:Gt,renderIcon:Mt,stacked:!1,noLabel:!1,labelVisible:!0,render:function(){},init:function(t,e){this.addKeyboardHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e)},destroy:function(t){t.closest("div."+C).off()},validate:function(){},setValue:function(t,e,a){t.val(a)},addValue:function(t,e,a){var r,i=!1,n=t.val(),s=n?n.split(e.metaData.multiValueDelimiter):[];for(r=0;r<s.length;r++)if(a===s[r]){i=!0;break}i||s.push(a),t.val(s.join(e.metaData.multiValueDelimiter))},getValue:function(t){var e=t.find("["+Tt+"]").val();return t.hasClass(lt)&&""===e&&(e=Nt),e},getDisplayValue:function(t){return t.value},setFocus:function(t){t[0].focus()},renderCommonAttributes:function(t,e,a){t.attr("id",e).attr(Tt,a.propertyName).optionalAttr("aria-required",a.metaData.isRequired?"true":null).optionalAttr("aria-invalid",a.errors.length>0?"true":null)},commonAttributes:function(t){var e={};return e[Tt]=t.propertyName,e["aria-required"]=t.metaData.isRequired,e["aria-invalid"]=t.errors.length>0,e},renderBase:function(e,a){var r,i,n=t.extend({id:"",type:"text",value:"",inputClass:[],data:{},readonly:!1,maxLength:"",attributes:{}},a);if(e.attr("id",n.id).attr("type",n.type).attr("value",n.value).optionalAttr("readonly",n.readonly),n.inputClass.length>0&&e.attr("class",Array.isArray(n.inputClass)?n.inputClass.join(" "):n.inputClass),n.maxLength&&e.attr("maxlength",n.maxLength),n.ariaDescribedBy&&e.attr("aria-describedby",n.ariaDescribedBy),!t.isEmptyObject(n.data))for(i in n.data)At(n.data,i)&&e.attr("data-"+i,n.data[i]);if(!t.isEmptyObject(n.attributes))for(r in n.attributes)At(n.attributes,r)&&e.attr(r,n.attributes[r])},renderBaseInput:function(t,e){t.markup("<input"),this.renderBase(t,e),t.markup(" />")},renderText:function(e,a,r,i){var n,s=r.value,o=!1,l=[],p={},u=s===Nt;i=t.extend({class:j,type:"text",textCase:r.metaData.textCase,manualEntry:!0,attributes:{}},i),l.push(X),l.push(i.class),i.textCase&&l.push(this.getTextCaseClass(i.textCase)),r.metaData.isReadOnly&&(o=!0,l.push(Q),u||(s=Qt[r.metaData.type].getDisplayValue(r))),i.manualEntry||(o=!0,l.push(Q),u||""===r.value||(p["return-value"]=r.value,r.metaData.lovValues((function(e){var a,i=t(qt(r.propertyName));a=e.length>0&&e[0].r===r.value?e[0].d:r.value,Qt[r.metaData.type].setValue(i,r,r.value,this.options.data.lastComponents,a)}),{id:r.value}))),u&&(s="",l.push(lt)),n={id:a,type:i.type,value:s,inputClass:l,data:p,attributes:t.extend(i.attributes,this.commonAttributes(r)),readonly:o},r.metaData.maxLen&&(n.maxLength=r.metaData.maxLen),r.metaData.unit&&(n.ariaDescribedBy=n.id+"_unit"),i.hasPreview&&(n.ariaDescribedBy=`${n.ariaDescribedBy?" ":""}${n.id}_preview`),i.tagName?(e.markup(`<${i.tagName}`),this.renderBase(e,n),e.markup(">"),e.markup(`</${i.tagName}>`)):this.renderBaseInput(e,n)},renderOption:function(t,e,a){return t.markup("<option").attr("value",e.r).optionalAttr("selected",e.r===a?"true":null),At(e,"isSupported")&&t.attr("data-is-supported",e.isSupported?"true":"false"),At(e,"isLegacy")&&t.attr("data-is-legacy",e.isLegacy?"true":"false"),t.markup(">").content(e.d).markup("</option>"),e.r===a},renderLovValues:function(t,e,a){var r,i=e,n=!1;for("function"==typeof i&&(i=i()),r=0;r<i.length;r++)At(i[r],"group")?(t.markup("<optgroup").attr("label",i[r].group).markup(">"),this.renderLovValues(t,i[r].values,a)&&(n=!0),t.markup("</optgroup>")):this.renderOption(t,i[r],a)&&(n=!0);return n},renderIconButton:function(e,a){let r=t.extend({id:"",icon:"",text:"",ariaDescribedby:"",ariaControls:"",dataFor:null,disabled:!1,isMenuButton:!1,addContainer:!1,containerClass:"",buttonClass:""},a);r.addContainer&&this.renderDivOpen(e,{class:P+(r.containerClass?" "+r.containerClass:"")}),e.markup("<button type='button'").attr("role","button").attr("id",r.id).attr("class",it+(r.buttonClass?" "+r.buttonClass:"")).attr("title",r.text).attr(St,r.text).optionalAttr("aria-describedby",r.ariaDescribedby).optionalAttr("aria-controls",r.ariaControls).optionalAttr("disabled",r.disabled),r.dataFor&&e.attr("data-for",r.dataFor),r.isMenuButton&&e.attr("aria-haspopup","true").attr("aria-expanded","false").attr("data-menu",r.id+"_menu"),e.markup(">"),this.renderIcon(e,r.icon),e.markup("</button>"),r.addContainer&&this.renderDivClose(e)},addValueVariesStateStyle:function(a,r,i,n){var s=e.htmlBuilder(),o=e.htmlBuilder();a.addClass(lt),r.addClass(lt),n.renderIcon(s,kt),o.markup("<span").attr("class",Et).markup(">").content(Rt("VALUE_VARIES_POSTFIX")).markup("</span>"),t("#"+i+"_label").prepend(s.toString()).append(o.toString())},removeValueVariesStateStyle:function(e,a){var r=t("#"+e.attr("id")+"_label");e.removeClass(lt),a.removeClass(lt),r.find("span.icon-variable").remove().end().find("span."+Et).remove()},addKeyboardHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+C),n=e.attr("id"),i.on("keydown","#"+n,(function(e){var s=t(this);e.which===t.ui.keyCode.ESCAPE&&a.value===Nt&&(r.addValueVariesStateStyle(s,i,n,r),setTimeout((function(){s[0].value=""}),1))})).on("keypress","#"+n,(function(e){var a=t(this);e.which&&a.hasClass(lt)&&r.removeValueVariesStateStyle(a,i)})))},addChangeHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+C),n=e.attr("id"),i.on("change","#"+n,(function(){var e=t(this),s=e.val();e.hasClass(lt)?r.removeValueVariesStateStyle(e,i):""===s&&a.value===Nt&&r.addValueVariesStateStyle(e,i,n,r)})))},addTooltipsForErrors:function(t,e){var a=t.attr("id");t.tooltip().off("mouseover mouseout"),e.errors.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.errors.length;r++)a+="<li>"+e.errors[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}}),e.warnings.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.warnings.length;r++)a+="<li>"+e.warnings[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}})},initQuickPicks:function(e,a,r){let i,n,s,o;function l(){r?e.val(e.val()+this.value).trigger("change"):e.val(this.value).trigger("change")}a.metaData.quickPicks&&!a.metaData.isReadOnly&&a.metaData.quickPicks()?.length&&(n=e.attr("id")+"_quickPickBtn_menu",o=t("#"+n),0===o.length&&(o=t("<div id='"+n+"'></div>").appendTo("body")),o.menu({items:[{}],beforeOpen:(t,r)=>{let n=a.metaData.quickPicks(),o=[];for(a.metaData.isRequired||(void 0===a.metaData.nullText?(o.push({type:"action",label:Rt("QUICK_PICK.CLEAR"),hide:function(){return""===e.val()},action:function(){e.val("").trigger("change")}}),o.push({type:"separator",hide:function(){return""===e.val()}})):o.push({type:"action",label:a.metaData.nullText,action:function(){e.val("").trigger("change")}})),i=0;i<n.length;i++)s={type:"action",label:n[i].d,value:n[i].r,action:l},n[i].icon&&(s.icon=n[i].icon),n[i].iconStyle&&(s.iconStyle=n[i].iconStyle),"-"===n[i].r&&(s.disabled=!0),o.push(s);r.menu.items=o}}),a.metaData.hasInitQuickPick=!0)},removeQuickPick:function(e,a){var r;a.metaData.hasInitQuickPick&&(r=e.attr("id")+"_quickPickBtn_menu",t("#"+r).remove())},addLabelClickHandler:function(t,e){var a=this,r=t.closest("div."+C),i=t.attr("id");r.on("click","#"+i+"_label",(function(){a.setFocus(t,e)}))},renderQuickPickButton:function(t,e,a,r){var i,n=!!r;a.metaData.quickPicks&&(i=a.metaData.quickPicks(),a.metaData.isReadOnly||i.length>0&&this.renderIconButton(t,{id:e+"_quickPickBtn",icon:bt,text:Rt("QUICK_PICK"),ariaDescribedby:e+"_label",ariaControls:e,isMenuButton:!0,addContainer:n,buttonClass:"a-Button--quickPick"}))},renderRadioCheckbox:function(e,a,r,i,n){var s,o,l,p,u,d,c,h,m,f=t.isEmptyObject(r.value),y=Ht(r),v="N";i===It.CHECKBOXES?(l="checkbox",p=B,u=F,d=w):(l="radio",p=N,u=A,d=L),o=a+(s=t.extend({type:l,name:a+"_name",inputValue:null,inputLabel:null,currentValue:f?r.value:r.value.split(":")},n)).inputValue,this.renderDivOpen(e,{class:p}),e.markup("<input").attr("type",s.type).attr("id",o).attr("value",s.inputValue).attr("name",s.name).attr("class",u).attr(St,s.inputLabel).optionalAttr("checked",(c=s.inputValue,h=s.currentValue,m=!1,f?!0===y[c]?(v="Y",m=!1):(v="N",m=At(y,c)):m=-1!==t.inArray(c,h),m)).optionalAttr("data-"+lt,f?v:null).markup(" />"),e.markup("<label").attr("for",o).attr("class",d).attr(Ot,"true").markup(">"),s.icon?e.markup('<span class="a-Icon '+s.icon+'"></span>'):e.content(s.inputLabel),e.markup("</label>"),this.renderDivClose(e)},renderRadiosCheckboxes:function(t,e,a,r){var i,n,s=[],o=[],l=e+"_label";if(s.push(G),r===It.CHECKBOXES?(s.push(K),o.push(R)):r===It.RADIOS&&(s.push(H),o.push(V)),this.renderDivOpen(t,{class:s}),a.metaData.isReadOnly)this.renderText(t,e,a);else{if(a.value===Nt&&o.push(lt),t.markup("<div").attr("role","group").attr("class",o.join(" ")).attr("aria-labelledby",l).attr("tabindex","-1"),this.renderCommonAttributes(t,e,a),t.markup(">"),a.metaData.type!==It.YES_NO)for("function"==typeof(n=a.metaData.lovValues)&&(n=n()),i=0;i<n.length;i++)this.renderRadioCheckbox(t,e,a,r,{inputValue:n[i].r,inputLabel:n[i].d,icon:n[i].icon});else this.renderRadioCheckbox(t,e,a,r,{inputValue:a.metaData.yesValue,inputLabel:Rt("YES")}),this.renderRadioCheckbox(t,e,a,r,{inputValue:a.metaData.noValue,inputLabel:Rt("NO")});this.renderDivClose(t)}this.renderDivClose(t)},getTextCaseClass:function(t){var e="";return"UPPER"===t?e="u-textUpper":"LOWER"===t&&(e="u-textLower"),e}};function Yt(e,a,r){var i,n,s,o;(i=r?Qt[r]:jt,a||!r)?((n=t.extend(Object.create(i),a)).super=(s=Array.prototype.slice,o=n.super,function(t){var e,a=s.call(arguments,1),r=this.super;return this.super=o,e=i[t].apply(this,a),this.super=r,e}),Qt[e]=n):Qt[e]=i}Yt(It.TEXT,{render:function(t,e,a,r,i){this.renderDivOpen(t,{class:G}),this.renderText(t,e,a,i),this.renderDivClose(t),this.renderQuickPickButton(t,e,a,!0)},init:function(t,e){this.initQuickPicks(t,e),this.super("init",t,e)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.NUMBER,{init:function(t,e,a){e.metaData.isReadOnly||e.metaData.supportsSubstitution||t.on("keydown",(function(t){Xt({event:t,type:It.NUMBER})||t.preventDefault()})),this.super("init",t,e,a)}},It.TEXT),Yt(It.INTEGER,{init:function(t,e,a){e.metaData.isReadOnly||e.metaData.supportsSubstitution||t.on("keydown",(function(t){Xt({event:t,type:It.INTEGER})||t.preventDefault()})),this.super("init",t,e,a)}},It.TEXT),Yt(It.TEXTAREA,{stacked:!0,render:function(t,e,a,r,i){var n,s=X+" "+Y;this.renderDivOpen(t,{class:P}),i&&this.renderIconButton(t,{id:e+"_modalBtn",icon:_t,text:Rt("CODE_EDITOR"),ariaDescribedby:e+"_label",ariaControls:e+"_label"}),this.renderQuickPickButton(t,e,a),this.renderDivClose(t),this.renderDivOpen(t,{class:G}),(n=a.value)===Nt&&(n="",s+=" "+lt),s+=" "+this.getTextCaseClass(a.metaData.textCase),t.markup("<textarea rows=3").attr("maxlength",a.metaData.maxLen).attr("class",s).optionalAttr("readonly",a.metaData.isReadOnly?"true":null),this.renderCommonAttributes(t,e,a),t.markup(">").content(n).markup("</textarea>"),this.renderDivClose(t)},init:function(t,e,a){var r=t.prop("scrollHeight");r>50&&(r>150&&(r=150),t.height(r)),this.initQuickPicks(t,e,!0),this.super("init",t,e,a)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.COMBOBOX,{manualEntry:!0,render:function(t,e,a){this.renderDivOpen(t,{class:[G,M]}),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_lovBtn",icon:gt,text:Rt("LIST_OF_VALUES"),ariaDescribedby:e+"_label",ariaControls:e,addContainer:!0,containerClass:x}),this.renderQuickPickButton(t,e,a,!0)},init:function(a,r,i,n){var s=this,o=t.extend({columnDefinitions:[{name:"d",title:r.metaData.prompt}],filters:[{name:"search",title:Rt("SEARCH"),type:"search"}],filterLov:function(t,e){"function"==typeof r.metaData.lovValues?r.metaData.lovValues((function(a){s.manualEntry||r.metaData.isRequired||a.unshift({r:"",d:void 0!==r.metaData.nullText?r.metaData.nullText:Rt("SELECT")}),e(a,t.search)}),t):e(r.metaData.lovValues,t.search)},multiValue:!1,dialogTitle:wt("PICK",r.metaData.prompt),resizable:!1,resultsDisplay:"table"},n);var l=t("#"+a.attr("id")+"_lovBtn");this.super("init",a,r,i),l.on("click",(function(){var n=e.htmlBuilder();n.markup("<div").attr("id","lovDlg").attr("title",o.dialogTitle).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:"ui-dialog-flushBody",resizable:o.resizable,multiValue:o.multiValue,valueSelected:function(t,e){var n,l;n=void 0!==e.r?e.r:e[o.columnDefinitions[0].name],s.manualEntry||(l=e.d?e.d:n),r.metaData.multiValueDelimiter?s.super("addValue",a,r,n):s.setValue(a,r,n,i,l),a.trigger("change")},resultsDisplay:o.resultsDisplay})})),l.prop("disabled",r.metaData.isReadOnly),this.initQuickPicks(a,r)},setValue:function(t,e,a,r,i){this.manualEntry?t.val(a):(t.data("return-value",a),i&&t.val(i))},getValue:function(t){return this.manualEntry?this.super("getValue",t):t.find("["+Tt+"]").data("return-value")},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.CHECKBOXES,{noLabel:!0,render:function(t,e,a){this.renderRadiosCheckboxes(t,e,a,It.CHECKBOXES)},init:function(e,a){this.addChangeHandlersForVariesState(e,a),this.addLabelClickHandler(e,a),this.addTooltipsForErrors(e,a),a.metaData.isReadOnly||t.isEmptyObject(a.value)&&""!==a.value&&(e.find("input[data-"+lt+"=Y]").prop("indeterminate",!0),e.find("input").on("click",(function(){var r,i,n=a.metaData.multiSelectData?a.metaData.multiSelectData.components:[],s="general"===a.propertyName?a.propertyId:a.propertyName;for(t(this).prop("indeterminate",!1).removeAttr("data-is-variable"),r=function(){var a=[];return e.find("input").each((function(){var e=t(this);e.prop("indeterminate")&&a.push(e.val())})),a}(),i=0;i<n.length;i++)n[i].getProperty(s)._indeterminateValues=r})))},getValue:function(t){var e=[];return t.find("input").each((function(){this.checked&&e.push(this.value)})),e.join(":")},getDisplayValue:function(e){var a,r,i,n=[],s=e.value.split(":");if("function"==typeof(a=e.metaData.lovValues)&&(a=a()),a){for(i=0;i<a.length;i++)t.inArray(a[i].r,s)>-1&&n.push(a[i].d);r=n.join(":")}return r},setValue:function(e,a,r){var i=e.find("input"),n=r.split(":");i.prop("checked",!1),i.each((function(){var e=t(this);t.inArray(e.val(),n)>-1&&e.prop("checked",!0)}))},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),Yt(It.RADIOS,{noLabel:!0,render:function(t,e,a){this.renderRadiosCheckboxes(t,e,a,It.RADIOS)},init:function(t,e){this.addChangeHandlersForVariesState(t,e),this.addLabelClickHandler(t,e),this.addTooltipsForErrors(t,e)},getValue:function(t){var e="";return t.find("input").each((function(){if(this.checked)return e=this.value,!1})),e},getDisplayValue:function(t){var e,a,r;if("function"==typeof(e=t.metaData.lovValues)&&(e=e()),e)for(r=0;r<e.length;r++)if(e[r].r===t.value){a=e[r].d;break}return a},setValue:function(e,a,r){e.find("input").each((function(){var e=t(this);if(e.prop("checked")){if(e.val()===r)return!1;e.prop("checked",!1)}else if(e.val()===r)return e.prop("checked",!0),!1}))},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),Yt(It.YES_NO,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||e.value===Nt&&t.prop("indeterminate",!0)},getDisplayValue:function(t){return t.metaData.yesValue===t.value?Rt("YES"):Rt("NO")},render:function(t,e,a){var r,i=G+" "+q,n=e+"_label",s="a-Switch";r=e,this.renderDivOpen(t,{class:i}),a.metaData.isReadOnly?this.renderText(t,e,a):(a.value===Nt&&(s+=" "+lt),t.markup("<label").attr("for",r).attr("class",s).attr("aria-labelledby",n).attr("tabindex","-1").markup(">"),t.markup("<input").attr("type","checkbox").attr("role","switch").attr("id",r).attr(Tt,a.propertyName).attr("value",a.metaData.yesValue).optionalAttr("checked",a.value===a.metaData.yesValue?"true":null).markup(" />"),t.markup("<span class='a-Switch-toggle'></span>"),t.markup("</label>")),this.renderDivClose(t)},getValue:function(t,e){return t.find("input").prop("checked")?e.metaData.yesValue:e.metaData.noValue},setValue:function(t,e,a){t.prop("checked",a===e.metaData.yesValue?"true":null)},setFocus:function(t){t[0].focus()}},It.CHECKBOXES),Yt(It.PILL_BUTTONS,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||t.addClass(I)}},It.RADIOS),Yt(It.SELECT_LIST,{render:function(t,e,a,r,i){var n=X+" "+$,s=a.value,o=!1,l=Kt(a);this.renderDivOpen(t,{class:G}),a.metaData.isReadOnly?this.renderText(t,e,a):(l&&(n+=" "+lt),t.markup("<select size=1").attr("class",n),this.renderCommonAttributes(t,e,a),t.markup(">"),l?(o=this.renderOption(t,{r:"",d:""},""),a.metaData.isRequired||this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:Rt("SELECT")},null),s=""):a.metaData.isRequired&&""!==s||(o=this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:Rt("SELECT")},s)),this.renderLovValues(t,a.metaData.lovValues,s)||o||this.renderOption(t,{r:s,d:Bt("INVALID",s)},s),t.markup("</select>")),Gt(t),this.renderQuickPickButton(t,e,a,!0),i&&this.renderIconButton(t,{id:e+"_btn",icon:i.icon,text:i.text,addContainer:!0})},init:function(t,e){this.addChangeHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e),this.initQuickPicks(t,e)},getDisplayValue:function(t){var e,a;if(""!==t.value){if("function"==typeof(e=t.metaData.lovValues)&&(e=e()),e)for(let r=0;r<e.length;r++)if(At(e[r],"values")){for(let i=0;i<e[r].values.length;i++)if(e[r].values[i].r===t.value){a=e[r].values[i].d;break}}else if(e[r].r===t.value){a=e[r].d;break}}else a=t.metaData.nullText?t.metaData.nullText:t.value;return a},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),Yt(It.COLOR,{render:function(t,e,a){var r=["#FF3B30","#FF9500","#FFCC00","#4CD964","#34AADC","#007AFF","#5856D6","#FF2D55","#FFFFFF","#C7C7CC","#8E8E93","#000000"];this.renderDivOpen(t,{class:[G,U]}),this.renderText(t,e,a,{tagName:"a-color-picker",manualEntry:this.manualEntry,class:"apex-item-color-picker",attributes:{"return-value-as":"HEX","display-as":"POPUP","display-mode":"FULL"}}),this.renderDivClose(t),a.metaData.quickPicks=function(){var t,e=[];for(t=0;t<r.length;t++)e.push({d:r[t],r:r[t],icon:Dt,iconStyle:"color: "+r[t]+";"});return e},this.renderQuickPickButton(t,e,a,!0)},init:function(t,e,a){var r=t.closest("."+C);this.super("init",t,e,a),apex.item.attach(r),this.initQuickPicks(t,e)},setValue:function(t,e,a){var r=t.attr("id");apex.item(r).setValue(a,null,!0)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}},It.TEXT),Yt(It.POPUP_LOV,{manualEntry:!1,init:function(t,e,a){this.super("init",t,e,a)}},It.COMBOBOX),t.widget("apex.propertyEditor",{widgetEventPrefix:"propertyeditor",baseId:null,nextId:1,idMap:{},propMap:{},deferredPropMap:{},currentPropertyName:null,hasSearchField:!1,options:{data:{propertySet:[],lastComponents:null},idPrefix:null,showAll:!1,labelsAlwaysAbove:!1,hideDisplayGroups:!1,searchable:!1,searchKey:null,pinSearch:!1,focusPropertyName:null,externalEdit:null,expand:null,collapse:null,activate:null,deactivate:null,change:null},_create:function(){var t=this.options;if(!t.data||!t.data.propertySet)throw new Error("Missing required data option.");this.baseId=(t.idPrefix||this.element[0].id||"pe")+"_",this.element.addClass(n),this.options.showAll&&this.element.addClass(tt),this._on(this._eventHandlers),this.options.searchable&&this._on(this.element.prev(),this._SearchEventHandlers),this.refresh(),this.options.labelsAlwaysAbove&&this.element.addClass(l)},_eventHandlers:{click:function(e){var a=null,r=t(e.target);r.is(g)?a=r.parent():r.parent(g).length>0?a=r.parent().parent():r.parent().parent(g).length>0&&(a=r.parent().parent().parent()),a&&this._toggle(a),r.attr("id")===this.baseId+"externalEdit"&&this.options.externalEdit()},keydown:function(e){var a=null,r=!1,i=t.ui.keyCode,n=e.keyCode,s=t(e.target);s.is("."+k)&&(n===i.HOME?a=s.closest(o).children(":visible").first():n===i.END?a=s.closest(o).children(":visible").last():n===i.DOWN?0===(a=s.closest(u).nextAll().filter(":visible").first()).length&&(a=s.closest(o).children(":visible").first()):n===i.UP?0===(a=s.closest(u).prevAll().filter(":visible").first()).length&&(a=s.closest(o).children(":visible").last()):n===i.LEFT?(this._collapse(s.closest(u)),r=!0):n===i.RIGHT?(this._expand(s.closest(u)),r=!0):n!==i.SPACE&&n!==i.ENTER||(this._toggle(s.closest(u)),r=!0),r&&e.preventDefault(),a&&(a.find("."+k)[0].focus(),e.preventDefault()))},"focusin div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");a.addClass(nt+" "+st),this._activate(a)},"focusout div.a-Property":function(e){t(e.target).closest("div.a-Property").removeClass(nt+" "+st)},"change div.a-Property":function(e){const a=t(e.target),r=a.closest("div.a-Property"),i=r.find("["+Tt+"]").attr(Tt),n=this._getProperty(i);if(n){const t=this.getValue(r,n);this.updatePropertyValue(i,t,!1,!0)}else{const t=a.closest("div.a-PropertyEditor-propertyGroup").attr(Vt);this.deferredPropMap[i]={displayGroupId:t,newValue:a.val()}}},"focusin div.a-PropertyEditor-propertyGroup-header":function(e){this._deactivate(),t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").addClass(st)},"focusout div.a-PropertyEditor-propertyGroup-header":function(e){t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").removeClass(st)}},_SearchEventHandlers:{"keyup input.a-Property-field--filter":function(e){27===e.which?(this.clearSearch(),this.expandAll()):this.search(t(e.target).val())},"click button.a-Button--stickyFilter":function(e){var a=this.options;t(e.currentTarget).toggleClass(nt).hasClass(nt)?a.pinSearch=!0:(a.pinSearch=!1,a.searchKey=null)}},_destroy:function(){this.element.removeClass(n+" "+tt).empty()},_setOption:function(t,e){var a,r,i,n;if("data"===t)for(i=this.options.data.propertySet,a=0;a<i.length;a++)for(n=i[a],r=0;r<n.properties.length;r++)Qt[n.properties[r].metaData.type].destroy(this._getElement(n.properties[r]),n.properties[r]);if(this._super(t,e),"data"===t){if(!e.propertySet)throw new Error("Missing required properties.");this._updateDeferredPropertyValue(e.propertySet),this.refresh()}else"showAll"===t?this.element.toggleClass(tt,!!e):"labelsAlwaysAbove"===t&&this.element.toggleClass(l,!!e)},_callPropertyInit:function(t){var e=t.propertyName,a=this.element.find(qt(e));Qt[t.metaData.type].init(a,t,this.options.data.lastComponents)},_renderLabel:function(t,a){var r=e.htmlBuilder(),i=a.errors.length>0,n=a.warnings.length>0,s=Kt(a),o=O,l=[],p=this._getId(a)+"_label";l.push(S),Qt[a.metaData.type].labelVisible?(i||n||s)&&(o+=" "+T):(o+=" "+Et,l.push(S+"--hiddenLabel"));const u=a.metaData.type===It.YES_NO||a.metaData.type===It.STATIC_LOV_GRID||a.metaData.type===It.STATIC_LOV_BTN||a.metaData.type===It.TPL_OPTIONS_BTN||a.metaData.type===It.LINK_TARGET_BTN||a.metaData.type===It.LINK_ITEMS_GRID;t.markup("<div").attr("class",l.join(" ")).optionalAttr(Ot,u?"true":null).markup(">"),Qt[a.metaData.type].noLabel?t.markup("<span").attr("id",p).attr("class",o).markup(">"):t.markup("<label").attr("id",p).attr("for",this._getId(a)).attr("class",o).markup(">"),Qt[a.metaData.type].labelVisible&&(i&&Mt(r,yt),n&&Mt(r,vt),s&&Mt(r,kt)),t.markup(r.html),a.metaData.promptContainsHtml?t.markup(a.metaData.prompt):t.content(a.metaData.prompt),Qt[a.metaData.type].labelVisible&&(i&&t.markup("<span").attr("class",Et).markup(">").content(Rt("ERROR_POSTFIX")).markup("</span>"),n&&t.markup("<span").attr("class",Et).markup(">").content(Rt("WARNING_POSTFIX")).markup("</span>"),s&&t.markup("<span").attr("class",Et).markup(">").content(Rt("VALUE_VARIES_POSTFIX")).markup("</span>")),Qt[a.metaData.type].noLabel?t.markup("</span>"):t.markup("</label>"),Gt(t)},_countVisibleProperties:function(t){var e,a,r,i=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1;for(e=0,a=0;a<t.length;a++)r=t[a],i&&r.metaData.isUnique||this._isCommon(r)&&(e+=1);return e},_renderDisplayGroup:function(t,e,a){var r,i,n,s,o,l,u,d,c=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1,h=e.properties;if(s=h.length,d=p,this.options.hideDisplayGroups)for(r=0;r<s;r++)i=h[r],c&&i.metaData.isUnique||this._renderProperty(t,i);else{for(o=this._countVisibleProperties(h),(u=!e.collapsed)?(n=ht,d+=" "+ot):n=mt,0===o&&(d+=" "+tt),l=this.baseId+"g_"+a,t.markup("<div role='region'").attr("class",d).attr(Vt,e.displayGroupId).attr("aria-labelledby",l+"_LABEL").markup(">"),t.markup("<h2").attr("class",v).markup(">"),t.markup("<button type='button'").attr("class",k).attr("aria-controls",l).attr("aria-expanded",u?"true":"false").markup(">"),Mt(t,n),t.markup("<span").attr("class",b).attr("id",l+"_LABEL").markup(">").content(e.displayGroupTitle).markup("</span>"),t.markup("</button>"),t.markup("</h2>"),t.markup("<div").attr("id",l).attr("class",D),u||t.attr("style","display:none;"),t.markup(">"),r=0;r<s;r++)i=h[r],c&&i.metaData.isUnique||this._renderProperty(t,i);Gt(t),Gt(t)}},_renderDisplayGroups:function(t){var e,a=this.options.data.propertySet;for(e=0;e<a.length;e++)this._renderDisplayGroup(t,a[e],e)},_renderProperty:function(t,e){var a,r=this.options.data.lastComponents,i=[C];e.hasChanged&&i.push(ut),Qt[e.metaData.type].stacked&&i.push(E),Qt[e.metaData.type].minHeight&&(a="min-height: "+Qt[e.metaData.type].minHeight+"px;"),Qt[e.metaData.type].maxHeight&&(a="max-height: "+Qt[e.metaData.type].maxHeight+"px;",i.push(Z)),Qt[e.metaData.type].height&&(a="max-height: "+Qt[e.metaData.type].height+"px;",i.push(Z)),e.errors.length>0&&i.push("is-error"),e.warnings.length>0&&i.push("is-warning"),Kt(e)&&i.push(lt),this._isCommon(e)||i.push(tt),Ft(t,{class:i,style:a}),e.metaData.isRequired&&Mt(t,ft),this._renderLabel(t,e),Qt[e.metaData.type].render(t,this._getId(e),e,r),e.metaData.unit&&(t.markup("<div").attr("class",z).markup(">"),t.markup("<span").attr("class",J).attr("id",this._getId(e)+"_unit").markup(">").content(e.metaData.unit).markup("</span>"),t.markup("</div>")),Gt(t)},_getProperty:function(t){return this.propMap[t]},_getId:function(t,e){var a;return(a=this.idMap[t.propertyName])||(a=this.baseId+this.nextId,this.nextId+=1,this.idMap[t.propertyName]=a),e&&(a+=e),a},_getElement:function(e,a){return t("#"+this._getId(e,a))},_isCommon:function(t){return t.metaData.isCommon||t.value!==t.metaData.defaultValue||t.errors.length>0||t.warnings.length>0},_activate:function(t){var e=this,a=t.find("["+Tt+"]").attr(Tt),r=this._getProperty(a);this.currentPropertyName!==a&&(this._deactivate(),this.currentPropertyName=a,setTimeout((function(){e._trigger("activate",{},r)}),0))},_deactivate:function(){var t=this;this.currentPropertyName=null,setTimeout((function(){t._trigger("deactivate")}),0)},_expand:function(t){t.hasClass(ot)||(t.addClass(ot).children("."+D).show(),t.find("."+k).attr("aria-expanded","true").children("."+ct).removeClass(mt).addClass(ht),this._trigger("expand",{},{displayGroupId:t.attr("data-group-id")}))},_collapse:function(t){t.hasClass(ot)&&(t.removeClass(ot).children("."+D).hide(),t.find("."+k).attr("aria-expanded","false").children("."+ct).removeClass(ht).addClass(mt),this._trigger("collapse",{},{displayGroupId:t.attr("data-group-id")}))},_toggle:function(t){t.hasClass(ot)?this._collapse(t):this._expand(t)},_updateDeferredPropertyValue:function(t){const e=Object.keys(this.deferredPropMap);let a={};for(let r=0;r<e.length;r++){const i=e[r],n=this.deferredPropMap[i],s=n.newValue,o=t.find((function(t){return t.displayGroupId===n.displayGroupId})),l=o?o.properties.find((function(t){return t.propertyName===i})):void 0;o&&l?this.updatePropertyValue(i,s,!1,!0,l):a[i]=n}this.deferredPropMap=a},refresh:function(){var t,r,i,n,l,p=e.htmlBuilder(),u=this.options,y=this.element,v=Rt("PIN_FILTER"),g=u.data.lastComponents?u.data.lastComponents.length:0,k=u.data.propertySet,b=u.externalEdit;if(this.nextId=1,this.idMap={},this.propMap={},a.info("propertyEditor refresh"),this._deactivate(),g>0&&0===k.length?l=Rt("NO_COMMON_PROPERTIES"):0===k.length&&(l=Rt("NO_COMPONENTS_SELECTED")),l)return p.markup("<div").attr("class",d).markup(">"),p.markup("<span").attr("class",Ct).markup(">"),p.markup("<span").attr("class",Et).markup(">").content(Rt("WARNING")).markup("</span>").markup("</span>"),p.markup("<p").attr("class",c).markup(">").content(l).markup("</p>"),p.markup("</div>"),y.html(p.toString()).addClass(pt),void(u.searchable&&(y.prev().addClass(dt).find("."+W).prop("disabled",!0),u.pinSearch||this.clearSearch()));for(y.removeClass(pt),y.children().remove(),t=0;t<k.length;t++)for(i=k[t].properties,r=0;r<i.length;r++)n=i[r],this.propMap[n.propertyName]=n;b&&p.markup("<div").attr("class",h).markup(">").markup("<button").attr("type","button").attr("id",this.baseId+"externalEdit").attr("class",et+" "+at+" "+rt).markup(">").content(Rt("EDIT_COMPONENT")).markup("</button>").markup("</div>"),this._renderDisplayGroups(p),y.html('<div class="resize u-ScrollingViewport '+s+'">'+p.toString()+"</div>"),u.searchable&&y.find(o).css("height",y.css("height")).css("width",y.css("width"));const D=Object.keys(this.propMap);for(let t=0;t<D.length;t++){const e=this.propMap[D[t]];this._callPropertyInit(e)}u.focusPropertyName&&this.focus(u.focusPropertyName),u.searchable&&(this.hasSearchField?(u.pinSearch?this.search(u.searchKey):this.clearSearch(),y.prev().removeClass(dt).find("."+W).prop("disabled",!1)):(y.prev().find(".a-Toolbar-items--left").prepend('<div class="'+m+'"><input aria-controls="peMain" type="search" class="'+X+" "+W+'" '+St+'="'+Rt("FILTER_PROPERTIES")+'" placeholder="'+Rt("FILTER")+'" /><span class="a-Icon icon-search a-PropertyEditor-filter-icon" '+Ot+'="true"></span><button class="a-Button a-Button--noLabel a-Button--simple '+f+'" type="button" title="'+v+'" '+St+'="'+v+'"><span class="a-Icon icon-pin" '+Ot+'="true"></span></button></div>'),this.hasSearchField=!0))},getProperty:function(t){return this._getProperty(t)},getPropertyValue:function(t){var e=this._getProperty(t),a=this._getElement(e),r=e.metaData.type;return Qt[r].getValue(a.closest("div."+C))},updatePropertyValue:function(e,r,i=!1,n=!1,s=void 0){a.info("propertyEditor updatePropertyValue: Property "+e+" to "+r);const o=s||this._getProperty(e);if(o){const a=this._getElement(o),s=o.metaData.type,p=a.closest("div.a-Property");let d=r;if(t("#"+this.idMap[e]).hasClass(lt)&&""===d&&(d=Nt),r!==o.value){if(o.oldValue=o.value,o.value=d,!n){if(this.options.showAll){p.toggleClass(tt,!this._isCommon(o));const t=p.closest("div"+u);var l=t.find("div."+C).filter(":not(."+tt+")").length;t.toggleClass(tt,0===l)}d!==Nt?Qt[s].setValue(a,o,d,this.options.data.lastComponents):this.updateProperty(o)}p.addClass(ut),i||this._trigger("change",{},{propertyName:e,property:o,property$:p})}}},updateProperty:function(r){var i,n,s=this.options.data.propertySet,o=e.htmlBuilder(),l=this._getElement(r).closest("div."+C),p=l.find(":focus").attr("id");for(a.info("propertyEditor updateProperty: ",r),i=0;i<s.length;i++)for(n=0;n<s[i].properties.length;n++)s[i].properties[n].propertyName===r.propertyName&&(s[i].properties.splice(n,1),s[i].properties.splice(n,0,r));this._renderProperty(o,r),l.replaceWith(o.toString()),Qt[r.metaData.type].destroy(this._getElement(r),r),this._callPropertyInit(r),p&&t("#"+p).trigger("focus")},addProperty:function(r){var i,n,s,o,l,p,u,d=e.htmlBuilder(),c=e.htmlBuilder(),h=this.options.data.propertySet,m=0,f=0,y=!1,v=!1,g=t.extend({property:{},prevPropertyName:null,displayGroup:{},prevDisplayGroupId:null},r);for(a.info("propertyEditor addProperty: ",g),i=0;i<h.length;i++)if(h[i].displayGroupId===g.property.metaData.displayGroupId){f=i,y=!0;break}if(!y){for(n=0;n<h.length;n++)if(h[n].displayGroupId===g.prevDisplayGroupId){f=n+1;break}h.splice(f,0,g.displayGroup)}for(l=h[f].properties,s=0;s<l.length;s++)if(l[s].propertyName===g.property.propertyName){m=s,v=!0;break}if(!v){for(o=0;o<l.length;o++)if(l[o].propertyName===g.prevPropertyName){m=o+1;break}h[f].properties.splice(m,0,g.property),this.propMap[g.property.propertyName]=g.property,y?(this._renderProperty(d,g.property),0===m?this.element.find(Ut(g.displayGroup.displayGroupId)).find("div."+D).prepend(d.toString()):t("#"+this.idMap[g.prevPropertyName]).closest("div."+C).after(d.toString()),p=this._countVisibleProperties(h[f].properties),u=this.element.find(Ut(g.displayGroup.displayGroupId)),p>0&&u.hasClass(tt)&&u.removeClass(tt)):(this._renderDisplayGroup(c,g.displayGroup,f),0===f?this.element.prepend(c.toString()):this.element.find(Ut(g.prevDisplayGroupId)).after(c.toString())),this._callPropertyInit(g.property)}},removeProperty:function(t){var e,r,i,n,s,o=!1,l=this.options.data.propertySet,p=!1;for(a.info("propertyEditor removeProperty: ",t),this.currentPropertyName===t&&this._deactivate(),e=0;e<l.length;e++)if(!p)for(o=1===l[e].properties.length,r=0;r<l[e].properties.length;r++)if(l[e].properties[r].propertyName===t){n=l[e].properties[r],s=(i=this._getElement(n)).closest("div"+u),o?(l.splice(e,1),s.remove()):(Qt[n.metaData.type].destroy(i,n),l[e].properties.splice(r,1),i.closest("div."+C).remove()),p=!0;break}},expand:function(t){var e=this.element.find("div"+u).filter(Ut(t));this._expand(e)},expandAll:function(){var e=this;this.element.find("div"+u).each((function(){e._expand(t(this))}))},collapseAll:function(){var e=this;this.element.find("div"+u).each((function(){e._collapse(t(this))}))},getValueVariesConstant:function(){return Nt},setValue:function(t,e,a,r){Qt[e.metaData.type].setValue(t,e,a,r)},getValue:function(t,e){return Qt[e.metaData.type].getValue(t,e)},focus:function(t){var e,a,r,i;i=t||(this.currentPropertyName?this.currentPropertyName:this.options.data.propertySet[0].properties[0].propertyName),(a=this._getProperty(i))&&((e=(r=this._getElement(a)).closest("div"+u)).hasClass(ot)||this._expand(e),Qt[a.metaData.type].setFocus(r,a))},hasFocus:function(t){const e=this._getProperty(t);return e&&this._getElement(e).is(":focus")},saveProperty:function(t){var e,a;t?e=t:this.currentPropertyName&&(e=this.currentPropertyName),e&&(a=this._getProperty(e),this._getElement(a).trigger("change"))},goToGroup:function(t){var e=this.options,a=this.element.find("div"+u).filter(Ut(t)).find("["+Tt+"]").first().attr(Tt);e.searchable&&this.clearSearch(),this.collapseAll(),this.expand(t),this.focus(a)},search:function(e){var a,r=this.element,i=r.prev();if(r.find("."+Pt+", ."+xt).removeClass(Pt+" "+xt),r.find("."+_).remove(),i.removeClass(y),!e||e.length<2)this.options.searchKey=null;else{a=e.trim().toLowerCase(),this.options.searchKey=a,i.addClass(y);var n=[],s=[],l={},u=[],d=[],c=this,h=function(t){return t.closest("."+(t.hasClass(b)?p:C))};r.find("."+b).each((function(e){var a=t(this),r=a.text().toLowerCase(),i=a.attr("id"),s=[];u.push(i),n[e]={pe_id:i,pe_title:r,pe_children:[]},s=n[e].pe_children,h(a).find("."+D).find("."+O).each((function(){var e,a,r,n=t(this),o=n.attr("id");s.push({pe_label_id:o,pe_label:n.text().toLowerCase(),pe_value:(e=o.slice(0,-6),a=t("#"+e),r=a.get(0).tagName.toUpperCase(),("INPUT"===r||"TEXTAREA"===r?$v(e):"SELECT"===r?t("#"+e+" option:selected").text():"BUTTON"===r?a.text():"DIV"===r?a.find("input:checked").next().text():"").toLowerCase())}),d.push(o),l[o]=i}))}));var m=function(e){var i,n,s,p,m,f,y,v,g=[],k=e.length,b=u.length,D=d.length;0===k&&r.find(o).append('<div class="'+_+'"> <span class="a-Icon icon-search" '+Ot+'="true"></span><br />'+Rt("FILTER_NO_MATCH")+"</div>");var C,E,P,x;for(n=0;n<b;n++)h(t("#"+u[n])).addClass(Pt);for(s=0;s<D;s++)h(t("#"+d[s])).addClass(Pt);for(i=0;i<k;i++)m=e[i],y=t("#"+m),(v=h(y)).removeClass(Pt),-1!==m.indexOf("_g_")&&v.find("."+Pt).removeClass(Pt),P=a,x=void 0,x=(E=y).text().replace(new RegExp("("+P+")","gi"),'<span class="'+xt+'">$1</span>'),E.html(x),g.push(-1!==(C=m).indexOf("_g_")?C:l[C]);for(f=(g=t.unique(g)).length,p=0;p<f;p++)y=t("#"+g[p]),v=h(y),c._expand(v.removeClass(Pt))};!function(t){var e,a,r,i,o,l=n.length;for(e=0;e<l;e++)for(-1!==(r=n[e]).pe_title.indexOf(t)&&s.push(r.pe_id),o=r.pe_children.length,a=0;a<o;a++)-1===(i=r.pe_children[a]).pe_label.indexOf(t)&&-1===i.pe_value.indexOf(t)||s.push(i.pe_label_id);m(s)}(a)}},clearSearch:function(){this.options.searchKey=null,this.element.prev().removeClass(y).find("."+W).val("").trigger("keyup").siblings("."+f).removeClass(nt)},getCurrentPropertyName:function(){return this.currentPropertyName}}),t.apex.propertyEditor.setMessagePrefix=function(t){Lt=t},t.apex.propertyEditor.PROP_TYPE=It,t.apex.propertyEditor.addPropertyType=Yt}(apex.jQuery,apex.util,apex.debug,apex.locale,apex.lang);