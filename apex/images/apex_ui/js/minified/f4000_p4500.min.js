/*!
 * Copyright (c) 2013, 2024, Oracle and/or its affiliates.
 */
window.pageDesigner={},function(e,t,a,n,o,i,r,s,l,c,P,_){"use strict";var O,g,d=null,E={},u="0:renderTree_container,0:dynActTree_container,0:procTree_container,0:sharedComp_container,1:grid_layout,1:search,1:help,2:peComponentProperties,2:peAttributesTabPanel,2:pePrintingTabPanel",p={},N=new Map,A="is-processing",C=".a-Icon",T="aria-controls",f="aria-label",I="title",m="option",R="active",L="refresh",h="disable",S="enable",b="disabled",D="pd-undo",v="pd-redo",G="pd-save-page",M="pd-save-run-page",y="pd-expand-restore",U="pd-goto-help",B="pd-goto-rendering-tree",V="pd-goto-dynamic-actions-tree",w="pd-goto-processing-tree",H="pd-goto-shared-components-tree",x="pd-goto-grid-layout",Y="pd-goto-property-editor-tab-main",F="pd-goto-property-editor-tab-attributes",k="pd-goto-property-editor-tab-printing",W="pd-page-search",K="pd-goto-gallery-regions",X="pd-goto-gallery-items",J="pd-goto-gallery-buttons",Q="pd-goto-messages",$="pd-goto-next-page",j="pd-goto-prev-page",z="pd-show-shortcuts",q="pd-advisor",Z="pd-create-page",ee="pd-create-copy-page",te="pd-create-shared-component",ae="pd-create-breadcrumb-region",ne="pd-two-column",oe="pd-three-column",ie="pd-enable-text-messages-picker",re="TAB_LAYOUT_2",se="TAB_LAYOUT_3",le="TWO_COLUMN_MODE",ce="ENABLE_TOOLTIPS",Pe="ENABLE_LAYOUT_VIEW",_e="ENABLE_TEXT_MESSAGES_PICKER",Oe="grid_layout",ge="search",de="renderTree_container",Ee="peComponentProperties",ue="peAttributesTabPanel",Ne="pePrintingTabPanel",Ae=["#trees","#editor_tabs","#peTabs"];const Ce=".a-TabsContainer",Te="click",fe=a.hasOwnProperty;function Ie(){e.getCurrentPageId()!==t("#go_to_page").val().trim()&&t("#go_to_page").val(e.getCurrentPageId())}function me(e,t,a){return t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=[$v("P4500_CURRENT_APP")],r.process(e,t,a)}function Re(e){setTimeout((()=>{t(document).find(":data(ui-tooltip):not(.a-Gallery,.a-ControlBar)").tooltip("option","disabled",!e)}),0)}function Le(){Ae.forEach((function(e){var a=t(e),n=a.find(".ui-tabs-nav").first(),o=n.children(),i=a.width(),r=p[e];void 0===r&&function(e,a){var n=0;a.each((function(){var e=t(this),a=e.find(".a-Tabs-label"),o=e.find(".a-Icon"),i=a.length>0?a.width():0,r=o.length>0?o.width():0;n+=i+r})),p[e]=n}(e,o),n.toggleClass("ui-tabs--iconOnly",r>i).toggleClass("ui-tabs--single",1===o.length)}))}function he(){var e,a="";return E={},Ae.forEach((function(n,o){t(n).find(".ui-tabs-nav").first().children().each((function(i,r){e=t(r).attr(T),E[e]={tabs:n,index:i},a&&(a+=","),a+=o+":"+e}))})),Le(),a}function Se(){var e,a=t("#sp_main_content"),n=he();e=a.hasClass("a-Splitter")?se:re,i.savePreference(e,n)}function be(e,a){var n,o,i,r,s=[],l=t(),c=t("#sp_main_content"),P={};for(e||(e=u),Ae.forEach((function(e){var a=t(e),n=a.children().first().children(".ui-tabs-nav");s.push({tabs:n,panels:a,activeName:n.children().eq(a.tabs(m,R)).attr(T)}),l=l.add(n.children())})),l.each((function(){var e=t(this),a=e.attr(T),n=t("#"+a);e.remove().removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus").removeAttr("role"),n.detach().removeClass("ui-tabs-panel").removeAttr("role"),P[a]={t:e,p:n}})),(r=e.indexOf("0:")>=0)&&!c.hasClass("a-Splitter")&&d?(t("#left_col").show(),c.splitter(d)):!r&&c.hasClass("a-Splitter")&&(d=t("#sp_main_content").splitter(m),t("#left_col").hide(),c.splitter("destroy").addClass("resize").trigger("resize"),s[1].activeName=s[0].activeName),o=e.split(","),n=0;n<o.length;n++)i=o[n].split(":"),P[i[1]]&&(s[i[0]].tabs.append(P[i[1]].t),s[i[0]].panels.append(P[i[1]].p));s.forEach((function(e){var t=0;e.panels.tabs(L),a||(e.panels.children("#"+e.activeName).length&&(t=e.tabs.children("[aria-controls="+e.activeName+"]").index()),e.panels.tabs(m,R,t))})),he()}function De(e){var a=E[e];a.tabs===Ae[0]?Be("sp_main_content"):a.tabs===Ae[2]&&Be("sp_right_content"),t(a.tabs).tabs(m,R,a.index)}t.widget("ui.tabs",t.ui.tabs,{_isLocal:()=>!0}),i.COMMENTED_OUT_ID=void 0,i.textMessagesPickerEnabled=!1,i.CSS={IS_ERROR:"is-error",IS_WARNING:"is-warning",IS_CONDITIONAL:"is-conditional",IS_NEVER:"is-never",DIALOG_FLUSH_BODY:"ui-dialog-flushBody",IS_CHANGED:"is-changed"},i.SETTINGS={COMPONENT_TITLE:{LABEL:"l",NAME:"n"}},i.settingsState={componentTitle:i.SETTINGS.COMPONENT_TITLE.NAME},i.msg=function(e){return n.getMessage("PD."+e)},i.format=function(e){var t=[i.msg(e)].concat(Array.prototype.slice.call(arguments,1));return n.format.apply(this,t)},i.formatNoEscape=function(e){var t=[i.msg(e)].concat(Array.prototype.slice.call(arguments,1));return n.formatNoEscape.apply(this,t)},i.tooltipContentForComponent=function(t){var n,o,r=t.typeId,s=a.htmlBuilder();function l(e,a,n){var o=t.getProperty(e),i=n;!o||void 0!==a&&o.getValue()===a||(i||(i=o.getDisplayValue()),""!==i&&s.markup("<li><span class='tt-label'>").content(o.getMetaData().prompt).markup(": </span><span class='tt-value'>").content(i).markup("</span></li>"))}function c(){l(e.PROP.GRID_NEW_GRID,"N"),l(e.PROP.GRID_NEW_ROW,"N"),l(e.PROP.GRID_COLUMN,""),l(e.PROP.GRID_NEW_COLUMN,"N"),l(e.PROP.GRID_COLUMN_SPAN,"")}function P(){var a=t.getProperty(e.PROP.JS_CONDITION);a&&""!==a.getValue()?(l(e.PROP.JS_CONDITION),l(e.PROP.JS_CONDITION_ITEM),l(e.PROP.JS_COND_VALUE),l(e.PROP.JS_COND_LIST)):(a=t.getProperty(e.PROP.JS_CONDITION_WHEN_IG))&&""!==a.getValue()&&(l(e.PROP.JS_CONDITION_WHEN_IG),l(e.PROP.JS_CONDITION_ITEM_WHEN_IG),l(e.PROP.JS_CONDITION_COLUMN_WHEN_IG),l(e.PROP.JS_COND_VALUE_WHEN_IG),l(e.PROP.JS_COND_LIST_WHEN_IG))}return r===e.COMP_TYPE.PAGE?l(e.PROP.TITLE):r===e.COMP_TYPE.REGION?(l(e.PROP.REGION_TYPE),c()):r===e.COMP_TYPE.PAGE_ITEM?(l(e.PROP.ITEM_LABEL),l(e.PROP.ITEM_TYPE),c()):r===e.COMP_TYPE.BUTTON?(l(e.PROP.BUTTON_LABEL),(n=t.getProperty(e.PROP.BUTTON_TARGET))?l(e.PROP.BUTTON_TARGET,"",i.splitApexUrl(n.getValue()).display):l(e.PROP.BUTTON_ACTION),c()):r===e.COMP_TYPE.DA_EVENT?(o=t.getProperty(e.PROP.WHEN_TYPE),l(e.PROP.EVENT),l(e.PROP.CUSTOM_EVENT),o&&""!==o.getValue()&&(l(e.PROP.WHEN_REGION),l(e.PROP.WHEN_IG_REGION),l(e.PROP.WHEN_COLUMNS),l(e.PROP.WHEN_BUTTON),l(e.PROP.WHEN_ITEMS),l(e.PROP.WHEN_DOM_OBJECT),l(e.PROP.WHEN_JQUERY_SELECTOR),l(e.PROP.WHEN_JAVASCRIPT_EXPRESSION)),P()):r===e.COMP_TYPE.DA_ACTION?function(){var a=t.getProperty(e.PROP.AFFECTED_TYPE);a&&""!==a.getValue()&&(l(e.PROP.AFFECTED_REGION),l(e.PROP.AFFECTED_BUTTON),l(e.PROP.AFFECTED_ITEMS),l(e.PROP.AFFECTED_COLUMNS),l(e.PROP.AFFECTED_DOM_OBJECT),l(e.PROP.AFFECTED_JQUERY_SELECTOR),l(e.PROP.AFFECTED_JAVASCRIPT_EXPRESSION),"TRIGGERING_ELEMENT"!==a.getValue()&&"EVENT_SOURCE"!==a.getValue()||l(e.PROP.AFFECTED_TYPE)),l(e.PROP.FIRE_ON_PAGE_LOAD),P()}():r===e.COMP_TYPE.VALIDATION?(""===t.getProperty(e.PROP.VALIDATION_REGION).getValue()?(l(e.PROP.VALIDATION_TYPE),l(e.PROP.VAL_SQL_STATEMENT),l(e.PROP.VAL_ITEM),l(e.PROP.VAL_VALUE),l(e.PROP.VAL_REGULAR_EXPRESSION),l(e.PROP.VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.VAL_JS_FUNC_BODY_ERROR),l(e.PROP.VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.VAL_PLSQL),l(e.PROP.VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.VAL_FUNC_BODY_LANG),l(e.PROP.VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_PYTHON_FUNC_BODY_BOOLEAN)):(l(e.PROP.VALIDATION_REGION),l(e.PROP.REGION_VALIDATION_TYPE),l(e.PROP.REGION_VAL_SQL_STATEMENT),l(e.PROP.REGION_VAL_COLUMN),l(e.PROP.REGION_VAL_VALUE),l(e.PROP.REGION_VAL_REGULAR_EXPRESSION),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JS_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PLSQL),l(e.PROP.REGION_VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_FUNC_BODY_LANG),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.ALWAYS_EXECUTE)):r===e.COMP_TYPE.PAGE_PROCESS?l(e.PROP.PAGE_PROCESS_TYPE):r===e.COMP_TYPE.PAGE_COMPUTATION?(l(e.PROP.COMPUTATION_STATIC_VALUE),l(e.PROP.COMPUTATION_SQL_STATEMENT),l(e.PROP.COMPUTATION_SQL_COLON),l(e.PROP.COMPUTATION_SQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PLSQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JS_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_FUNC_BODY_LANG),l(e.PROP.COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JS_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_ITEM_VALUE),l(e.PROP.COMPUTATION_PREFERENCE_VALUE)):r===e.COMP_TYPE.BRANCH?(l(e.PROP.BRANCH_TYPE),(n=t.getProperty(e.PROP.TARGET))?l(e.PROP.TARGET,"",i.splitApexUrl(n.getValue()).display):(l(e.PROP.BRANCH_PAGE_NUMBER),l(e.PROP.BRANCH_ACCEPT_REQUEST),l(e.PROP.BRANCH_ITEM))):r===e.COMP_TYPE.IR_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.IR_COLUMN_DISPLAY_TYPE)):r===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.CLASSIC_REPORT_COLUMN_TYPE)):r===e.COMP_TYPE.TAB_FORM_COLUMN&&(l(e.PROP.COLUMN_HEADING),l(e.PROP.TAB_FORM_COLUMN_TYPE)),function(){var a=t.getProperty(e.PROP.CONDITION_TYPE);l(e.PROP.WHEN_BUTTON_PRESSED),a&&""!==a.getValue()&&(l(e.PROP.CONDITION_TYPE),l(e.PROP.CONDITION_SQL_STATEMENT),l(e.PROP.CONDITION_VALUE1),l(e.PROP.CONDITION_ITEM1),l(e.PROP.CONDITION_LIST),l(e.PROP.CONDITION_PREFERENCE),l(e.PROP.CONDITION_PAGE),l(e.PROP.CONDITION_PAGES),l(e.PROP.CONDITION_TEXT),l(e.PROP.CONDITION_VALUE2),l(e.PROP.CONDITION_ITEM2),l(e.PROP.CONDITION_TEXT2),l(e.PROP.CONDITION_SQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JS_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JS_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.AUTHORIZATION_SCHEME),l(e.PROP.PAGE_AUTHENTICATION),l(e.PROP.ENABLE_META_TAGS),l(e.PROP.BUILD_OPTION)}(),s.toString()?"<ul class='tt-list'>"+s.toString()+"</ul>":null},i.getComponentIconClass=function(e,t,a){let n;return t.startsWith("PLUGIN_")?n="icon-"+e+"-plugin icon-"+e+"-":t.startsWith("TMPL")?(n="icon-"+e,t=t.replace(/^TMPL_THEME(_[\d]+)\$/,"TMPL_THEME-"),n+=a?"-tmpl-"+a.toLowerCase().replaceAll("_","-")+" icon-":"-tmpl icon-"):n="icon-"+e+"-",n+t.toLowerCase().replaceAll("_","-")},i.isNever=function(t){let a=t.getProperty(e.PROP.CONDITION_TYPE);return!(!a||"NEVER"!==a.getValue())||!(!i.COMMENTED_OUT_ID||(a=t.getProperty(e.PROP.BUILD_OPTION),!a||a.getValue()!==i.COMMENTED_OUT_ID))},i.isConditional=function(t){function a(e){var a=t.getProperty(e);return a&&""!==a.getValue()}return a(e.PROP.CONDITION_TYPE)||a(e.PROP.AUTHORIZATION_SCHEME)||a(e.PROP.BUILD_OPTION)||a(e.PROP.WHEN_BUTTON_PRESSED)},i.observerIsConditional=function(t,a,n){e.observer(t,{components:a,events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.WHEN_BUTTON_PRESSED]},n)},i.isDisplayed=function(a){var n,o=!0;return a.isOnGlobalPage()&&("CURRENT_PAGE_EQUALS_CONDITION"===(n=a.getPropertyValue(e.PROP.CONDITION_TYPE))?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()===e.getCurrentPageId():"CURRENT_PAGE_NOT_EQUAL_CONDITION"===n?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()!==e.getCurrentPageId():"CURRENT_PAGE_IN_CONDITION"===n?o=-1!==t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")):"CURRENT_PAGE_NOT_IN_CONDITION"===n&&(o=-1===t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")))),o},i.LINK_TYPE={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},i.splitApexUrl=function(e,a,n){var o,r,s,l,c,P,_,O,g,d,E="LINK."+(a?"GOTO_":""),u=n||[],p={type:i.LINK_TYPE.PAGE_IN_THIS_APP,display:"",appId:"",pageId:"",session:"&SESSION.",request:"",debug:"&DEBUG.",clearCache:"",clearAction:"NONE",itemNames:"",itemValues:"",printerFriendly:"NO",url:"",successMessage:"Y",anchor:""},N=/#([^#]*)#|#([^#]*)/g,A=/([\w]+![\w]+)/g;if(e)if(0===e.toLowerCase().indexOf("f?p=")){for((o=e.toLowerCase().indexOf("&success_msg=#success_msg#"))>-1?(s=e.substr(0,o),p.successMessage="Y"):(s=e,p.successMessage="N");!l&&(P=N.exec(s));){for(_=!1,c=0;c<u.length;c++)if(P[1]===u[c]||A.test(P[1])){_=!0;break}_||(l=P.index,p.anchor=s.substr(l+1),s=s.substr(0,l))}if((r=/f\?p=([^:]*):?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?(\\.+\\*|[^:]*)?/i.exec(s))&&(p.appId=r[1],p.pageId=r[2],p.session=r[3],p.request=r[4],p.debug=r[5],p.clearCache=r[6],p.itemNames=r[7],p.itemValues=r[8],p.printerFriendly=r[9]),p.clearCache){for(g=p.clearCache.split(","),O=0;O<g.length;O++)d=g[O],t.inArray(d,["NONE","CR","RR","RP"])>-1&&(p.clearAction=d,g.splice(O,1));p.clearCache=g.join(",")}p.itemNames&&(p.itemNames=p.itemNames.split(",")),p.itemValues&&(p.itemValues=p.itemValues.match(/(\\[^\\]*\\)|[^,]*/g).filter((function(e,t,a){return""!==e||0===t||t>0&&""===a[t-1]})).map((function(e){return e.replace(/(^\\(.*)\\$)/,"$1")}))),p.appId&&(0===p.appId.toLowerCase().indexOf("&flow_id.")||0===p.appId.toLowerCase().indexOf("&app_id.")||0===p.appId.toLowerCase().indexOf("#flow_id#")||0===p.appId.toLowerCase().indexOf("#app_id#")?(p.type=i.LINK_TYPE.PAGE_IN_THIS_APP,p.display=i.formatNoEscape(E+"PAGE_N",p.pageId)):p.appId&&(p.type=i.LINK_TYPE.PAGE_IN_DIFF_APP,p.display=i.formatNoEscape(E+"APPLICATION_N",p.appId,p.pageId)))}else p.url=e,p.type=i.LINK_TYPE.URL,p.display=e.replace(/^(https?:\/\/)(www.)?/i,""),a&&(p.display=i.formatNoEscape(E+"URL",p.display));return p},i.setPageSelection=function(a,n,o,r,s){var l,c="OK";if(a&&a===e.getCurrentAppId()){if(n&&n!==e.getCurrentPageId())return l=i.goToPage(n),void t.when(l).done((function(){o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED")),s(c)})).fail((function(e){s("user-abort"===e?"PAGE_CHANGE_ABORTED":"PAGE_NOT_CHANGED")}));o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED"))}else c="APP_NOT_CHANGED";s(c)},i.goToPage=function(n,o,r=!0){let s,P,d,E,u=t("#a_PageDesigner"),p=t.Deferred(),N=t(document).data("ui-dialog-instances");function C(e){return Ie(),e.reject("user-abort"),e.promise()}if(e.hasChanged()&&!window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES")))return C(p);if(N?.length&&(N.forEach((e=>{e.close()})),N.length))return C(p);if(t(document).trigger("selectionChanged",["controller",[]]),e.clear(),t(document).trigger("modelCleared",{preventHideNotification:o}),t("#go_to_page").val(n),r){let e=new URL(window.location.href),t=new URLSearchParams(e.search);t.set("fb_flow_page_id",n),e.search=t.toString(),window.history.replaceState({},"",decodeURIComponent(e.toString()))}return a.delayLinger.start("main",(function(){d=a.showSpinner(u),u.addClass(A)})),O||(O=t.ajax({dataType:"json",type:"GET",url:_.APEX_FILES+"apex_ui/js/staticData/pd_static_data_"+gLanguage+".json?v="+gApexVersion})),s=me("getWorkspaceData",{},{type:"GET"}),P=me("getSharedData",{},{type:"GET"}),E=me("getPageData",{x01:n},{type:"GET"}),t.when(O,s,P,E).done((function(a,n,o,r){var s,P;if(t.isEmptyObject(r[0]))i.showError(i.msg("PAGE_DOES_NOT_EXIST"));else{P=(s=r[0][e.COMP_TYPE.PAGE][0]).pageId,t("#go_to_page").val(P),e.initModelConfig(a[0],n[0],o[0]),e.setComponentData(r[0]),e.setCurrentAppId($v("P4500_CURRENT_APP")),e.setCurrentPageId(P);const _=e.getCurrentAppId(),O=s.properties[pe.PROP.NAME],d=i.formatNoEscape("HTML.TITLE",_,P,O);document.title=d;const E=i.formatNoEscape("BREADCRUMB.PAGE_NAME",P,O);t(".a-Breadcrumb-item.is-active .a-Breadcrumb-label").text(E),t(document).trigger("modelReady"),me("getAdditionalData",{x01:P},{type:"GET",success:function(e){var a,n;e.prevPageId&&(l.lookup(j).pageId=e.prevPageId,l.enable(j)),e.nextPageId&&(l.lookup($).pageId=e.nextPageId,l.enable($)),gTeamDevEnabled&&(a=e.teamDev.features+e.teamDev.bugs+e.teamDev.todos+e.teamDev.feedback+e.teamDev.issues,n=i.format("TEAM_DEV_BADGE_TITLE",a),0===a?(a="",t("#menu-team-dev").hide()):t("#menu-team-dev").show().prop(b,!1).attr(f,n).attr(I,n).find(".a-Button-badge").text(a),g=e.teamDev)}}),t(document).trigger("selectionChanged",["controller",e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})]),c("P4500_LOCAL_SEARCH").element.trigger("change"),s.workingCopyPageChanges>0||s.workingCopyPageLocks>0?t("#page-diffs-button")?.show():t("#page-diffs-button")?.hide(),p.resolve()}})).fail((function(){p.reject()})).always((function(){a.delayLinger.finish("main",(function(){d.remove(),u.removeClass(A)}))})),p.promise()},i.goToComponent=function(a,n,o){let i=e.getComponents(a,{id:n}),r=t(document).data("ui-dialog-instances");return 1===i.length&&(r?.length&&(r.forEach((e=>{e.close()})),r.length)||(t(document).trigger("selectionChanged",["controller",i,o]),t("#PDrenderingTree, #PDdynamicActionTree, #PDprocessingTree, #PDsharedCompTree").each((function(){var e,a=t(this);if((e=a.treeView("getSelectedNodes")[0])&&e.data.componentId===n)return De(a.closest(".ui-tabs-panel")[0].id),a.treeView("setSelectedNodes",[e],void 0===o,!0),!1}))),!0)},i.showSuccess=function(e){t("#pdNotificationState").addClass("is-success"),t("#pdNotificationIcon").addClass("icon-check").attr(f,n.getMessage("APEXDEV.ICON_LABEL.SUCCESS")),t("#pdNotificationTitle").html(n.getMessage("APEX.SUCCESS_MESSAGE_HEADING")),i.showNotification(e)},i.showError=function(e){t("#pdNotificationState").addClass("is-error"),t("#pdNotificationIcon").addClass("icon-error").attr(f,n.getMessage("APEXDEV.ICON_LABEL.WARNING")),t("#pdNotificationTitle").html(n.getMessage("APEX.ERROR_MESSAGE_HEADING")),i.showNotification(e)},i.showNotification=function(a){var n=t("#pdNotificationMessage");a&&n.text(a),t("#pdNotification").addClass("is-displayed").fadeIn("slow"),t(document).on("commandHistoryChange.forMsg",(function(){e.hasChanged()&&i.hideNotification()})).on("modelCleared.forMsg",(function(e,t){t.preventHideNotification||i.hideNotification()}))},i.hideNotification=function(){t("#pdNotification").removeClass("is-displayed").fadeOut("slow",(function(){t("#pdNotificationMessage").text(""),t("#pdNotificationState").removeClass("is-error is-success"),t("#pdNotificationIcon").removeClass("icon-error icon-check")})),t(document).off(".forMsg")},i.setHelpText=function(e){t("#help-container").html(e)},i.clearHelpText=function(){var e=t("#help-container"),a=i.msg("HELP.DEFAULT");e.html(a)},i.getPreference=function(e){var t="PD_"+e;return fe(window.gPreferences,t)?window.gPreferences[t]:null},i.savePreference=function(e,t){var a="PD_"+e,n=window.gPreferences[a];window.gPreferences[a]=t,n!==t&&me("setPreference",{x01:a,x02:t},{dataType:""})},i.saveBoolPref=function(e,t){i.savePreference(e,t?"Y":"N")},i.getBoolPref=function(e,t){var a=i.getPreference(e);return a=null===a?t:"Y"===a},i.getTabsLayout=he,i.storeTabsLayout=Se,i.loadTabsLayout=be,i.activateTab=De,i.getTab=function(e){var a=E[e];return t(a.tabs).find(".ui-tabs-nav").first().children().eq(a.index)},i.openUnsubscribeDialog=function(){Ue.dialog({modal:!0,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:i.msg("UNSUBSCRIBE"),buttons:[{text:i.msg("CANCEL"),click:function(){Ue.dialog("close")}},{text:i.msg("UNSUBSCRIBE"),class:"a-Button--hot",click:function(){e.unsubscribePage().fail((function(e){Ue.dialog("close"),i.showError(e)})).done((function(){Ue.dialog("close"),i.goToPage(e.getCurrentPageId())}))}}]})},i.applicationMessages=function(t,n){const o=e=>({d:e.message,r:e.messageKey,isJS:e.isJS,placeholders:[...e.message.matchAll(/%([\w]+)/g)]}),i=e=>e.flatMap((e=>{let t=N.get(e.messageKey);return t?[{...t,full:e.message,parameters:e.parameters}]:[]}));let r=[];return new Promise((s=>{if(n)me("getApplicationMessages",{}).then((e=>{e?.messages.forEach((e=>{N.set(e.messageKey,o(e))})),s(Array.from(N).map((([,e])=>e)))}));else{let n="string"==typeof t?t:"";r=a.getTextMessagesFromTemplate(n)||[],e.getCompatibilityMode()<24.2&&(r=r.filter((e=>e.message.includes("APP_TEXT$"))));let l=r.filter((e=>!N.get(e.messageKey)));l.length>0?me("getApplicationMessages",{f01:l.map((e=>e.messageKey))}).then((e=>{e?.messages.forEach((e=>{N.set(e.messageKey,o(e))}));const t=l.filter((t=>!e?.messages.some((e=>e.messageKey===t.messageKey)))).map((e=>({...o(e),d:e.messageKey,full:e.message,parameters:e.parameters})));s([...i(r),...t])})):s(i(r))}}))};var ve=t("#peMain"),Ge=t("#peAttributes"),Me=t("#pePrinting"),ye=t("#pdMessagesDialog"),Ue=t("#pdUnsubscribeDialog");function Be(e){var a=t("#"+e+".a-Splitter");a.length&&a.splitter(m,"collapsed")&&a.splitter(m,"collapsed",!1)}function Ve(){ye.dialog({modal:!1,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:i.msg("MESSAGES"),buttons:[{text:i.msg("OK"),click:function(){ye.dialog("close")}}]}),t("#pdMessages").find(".a-AlertMessages-message").first().each((function(){this.focus()}))}function we(){var r,s=t("#createMenu_menu"),_=t("#button-lock"),O=t("#lockDialog"),d=t("#runDialogOpenMsg"),E=t("#runDialogFocusMsg"),p=t("#pdShowMessagesBtn");function N(n){var o=t("#a_PageDesigner"),s=[D,v,G,M];a.delayLinger.start("main",(function(){r=a.showSpinner(o),o.addClass(A)})),s.forEach((function(e){l.disable(e)})),t(".a-TreeView").treeView(h),t("#glv").gridlayout(h),ve.propertyEditor(h),e.saveChanges((function(e){s.forEach((function(e){l.enable(e)})),t(".a-TreeView").treeView(S),t("#glv").gridlayout(S),ve.propertyEditor(S),a.delayLinger.finish("main",(function(){r.remove(),o.removeClass(A)})),n(e)})),ve.find("."+i.CSS.IS_CHANGED).removeClass(i.CSS.IS_CHANGED)}function T(t){var a,n;for(a=0;a<t.length;a++)if(fe(t[a],"menu"))T(t[a].menu.items);else{let r;"string"==typeof(n=t[a]).action&&(r=n.action,n={...l.lookup(n.action)}),n.action=function(t,a,n){return e.hasChanged()?window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES"))?(r?l.invoke(r,t,a,n):o.redirect(this.href),!0):void 0:(r?l.invoke(r,t,a,n):o.redirect(this.href),!0)}}}function R(){var t,a=e.getPageLockState();a?a.isLockedByCurrentUser?(t=i.msg("PAGE_LOCKED_BY_YOU"),_.attr(I,t).attr(f,t).removeClass("is-locked").addClass("is-locked-by-self").find(C)[0].className="a-Icon icon-lock"):(t=i.format("PAGE_LOCKED_BY",a.owner),_.attr(I,t).attr(f,t).removeClass("is-locked-by-self").addClass(" is-active is-locked").find(C)[0].className="a-Icon icon-lock-user"):(t=i.msg("PAGE_UNLOCKED"),_.attr(I,t).attr(f,t).removeClass("is-locked is-locked-by-self").find(C)[0].className="a-Icon icon-unlock")}P.setErrorHandler((function(e,t){i.showError(i.format({execute:"CMD.EXECUTE_FAILED",undo:"CMD.UNDO_FAILED",redo:"CMD.REDO_FAILED"}[e],t.label()))})),l.add([{name:D,label:null,title:null,icon:"icon-undo",action:function(){P.undo()}},{name:v,label:null,title:null,icon:"icon-redo",action:function(){P.redo()}},{name:ne,action:function(){var e=i.getPreference(re);e||(e=u.replace(/0:/g,"1:")),be(e),i.saveBoolPref(le,!0),l.disable(ne),l.enable(oe)}},{name:oe,action:function(){var e=i.getPreference(se);e||(e=u),e.indexOf("0:")<0&&(e=e.replace(/^1:/,"0:")),be(e),i.saveBoolPref(le,!1),l.disable(oe),l.enable(ne)}},{name:"pd-reset-tab-layout",action:function(){be(u),i.saveBoolPref(le,!1),i.savePreference(re,""),i.savePreference(se,""),l.disable(oe),l.enable(ne),Be("sp_main_content"),Be("sp_right_content"),Be("sp_glv_content"),t("#sp_main_content").splitter("option","position",290),t("#sp_right_content").splitter("option","position",290),t("#sp_glv_content").splitter("option","position",200),De(Ee),De(Oe),De(de)}},{name:"pd-enable-tooltips",set:function(e){i.saveBoolPref(ce,e),Re(e)},get:function(){return i.getBoolPref(ce,!1)}},{name:ie,set:function(e){i.saveBoolPref(_e,e),i.textMessagesPickerEnabled=e,ve.propertyEditor(L)},get:function(){return i.getBoolPref(_e,!1)}},{name:"pd-show-layout-view",set:function(e){var a,n,o,r,s,l,c,P,_;a=Oe,n=e,o=Ae[1],r=t(o),c=t((s="#"+a)+","+(l="[aria-controls='"+a+"']")),P=Pe,_=function(){var e=t(l).is(":visible"),a=t(s).length>0;i.saveBoolPref(P,n),i.storeTabsLayout(),e&&a&&r.tabs("option","active",0),Le()},n?(function(e){var a,n=e.tabSetId,o=e.tabId,i=t(n).tabs(),r=i.find("ul.ui-tabs-nav").first(),s="#"+o;0===t(s).length&&(t("<li aria-controls='"+o+"'><a href='"+s+"'><span title='"+(a="Layout")+"' class='a-Icon icon-pd-layout'></span><span class='a-Tabs-label'>"+a+"</span></a></li>").prependTo(r),i.tabs("refresh"))}({tabSetId:o,tabId:a}),_(),apex.message.confirm(i.msg("ENABLE_VIEW_WARN"),(function(e){e&&location.reload()}))):(function(e){c.remove(),t(e).tabs("refresh")}(o),_())},get:function(){return i.getBoolPref(Pe,!0)}},{name:G,label:null,disabled:!0,action:function(e,a,n){const o=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},n);t(e.target).closest(".a-Property").length&&ve.propertyEditor("saveProperty"),N((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):o.suppressSuccessMessage||i.showSuccess(i.msg("CHANGES_SAVED")),o.afterSaveCallback&&o.afterSaveCallback(e)}))}},{name:M,label:null,title:null,icon:"icon-run-page",disabled:!0,action:function(r,s,l){const c=t.extend({suppressSuccessMessage:!1,afterSaveCallback:null},l);var _,O=e.getCurrentAppId(),g=e.getCurrentPageId(),u=null;function p(){return a.makeApplicationUrl({pageId:"RUN_PAGE",request:"BRANCH_TO_PAGE_ACCEPT",debug:"NO",itemNames:["FB_FLOW_ID","FB_FLOW_PAGE_ID","F4000_P1_FLOW"],itemValues:[O,g,O]})}function A(e,a){e.dialog({modal:!0,title:a?i.msg("FOCUS_PAGE"):i.msg("RUN_PAGE"),closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerAlert",width:400,height:240,minWidth:400,minHeight:240,position:{my:"right top",at:"right-20 bottom+20",of:s},create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:[{text:i.msg("TRY_AGAIN"),class:"a-Button--hot",click:function(){e.dialog("close"),a?o.openInNewWindow("",apex.builder.getAppUnderTestWindowName(O)):C()}}]})}function C(){var a=e.getComponents(e.COMP_TYPE.PAGE)[0],n={},r=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";e.isGlobalPage()?i.showSuccess(i.msg("CHANGES_SAVED_GLOBAL_PAGE")):"NORMAL"===a.getProperty(e.PROP.PAGE_MODE).getValue()?"NONE"===r||/^4\d\d\d$/.test(O)?o.redirect(p()):("BROWSER"===r?n.favorTabbedBrowsing=!0:(_=!1,t(window).on("blur.runcheck",(function(){t(window).off(".runcheck"),_=!0})),u=setTimeout((function(){u=null,_||A(E,!0),t(window).off(".runcheck")}),800)),apex.builder.launchAppUnderTest(p(),O,n)||(clearTimeout(u),t(window).off(".runcheck"),A(d))):i.showSuccess(i.msg("CHANGES_SAVED_DIALOG_PAGE"))}t(r.target).closest(".a-Property").length&&ve.propertyEditor("saveProperty"),e.hasChanged()?N((function(e){P.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):C(),c.afterSaveCallback&&c.afterSaveCallback(e)})):C()}}]),t(document).on("commandHistoryChange",(function(){var e,t;(t=l.lookup(D)).origLabel||(t.origLabel=t.label),t.disabled=!P.canUndo(),P.canUndo()?(e=n.formatMessageNoEscape("PD.UNDO",P.undoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,l.update(D),(t=l.lookup(v)).origLabel||(t.origLabel=t.label),t.disabled=!P.canRedo(),P.canRedo()?(e=n.formatMessageNoEscape("PD.REDO",P.redoLabel()),t.label=t.title=e):t.label=t.title=t.origLabel,l.update(v)})).trigger("commandHistoryChange"),_.attr(b,!0).on(Te,(function(){var a,o,r=!1,s=e.getPageLockState();o=[{text:i.msg("CANCEL"),click:function(){O.dialog("close")}}],t("#lockDialogIntroUnlocked, #lockDialogIntroLocked, #lockDialogIntroOwned").hide(),c("P4500_DLG_LOCK_OWNER").hide(),!s||s.isLockedByCurrentUser?(o.push({click:function(){O.dialog("close"),e.lockPage($v("P4500_DLG_LOCK_COMMENT")).fail((function(e){i.showError(e)})).always((function(){R()}))}}),s?(a=i.msg("UNLOCK_PAGE"),o[1].text=i.msg("APPLY_CHANGES"),t("#lockDialogIntroOwned").show(),o.push({text:i.msg("UNLOCK"),class:"a-Button--hot",click:function(){O.dialog("close"),e.unlockPage().fail((function(e){i.showError(e)})).always((function(){R()}))}})):(a=i.msg("LOCK_PAGE"),o[1].text=i.msg("LOCK"),o[1].class="a-Button--hot",t("#lockDialogIntroUnlocked").show())):(a=i.msg("PAGE_LOCKED"),t("#lockDialogIntroLocked").show(),c("P4500_DLG_LOCK_OWNER").show(),$s("P4500_DLG_LOCK_OWNER",s.owner),r=!0,o[0].text=i.msg("OK")),t("#P4500_DLG_LOCK_COMMENT").val(s.comment).attr("readOnly",r),O.dialog({modal:!0,title:a,closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerLock",width:600,height:340,minHeight:340,minWidth:600,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:o})})),p.on(Te,(function(){Ve()})),t("#pdMessages").peMessagesView({badge:p.find("span.a-Button-badge"),button:p,noMsgHandler:function(){ye.hasClass("ui-dialog-content")&&ye.dialog("close")}}),s.on("menucreate",(function(){var e=s.menu("find","teamDev");e&&(e.hide=!gTeamDevEnabled),T(s.menu(m).items)})),gTeamDevEnabled&&t("<div id='teamDevMenu'></div>").appendTo("body").menu({menubar:!1,items:[{type:"action",labelKey:"PD.FEEDBACK_ENTRIES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4650",pageId:"8000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_FEEDBACK_STATUS_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId(),"3"]}))}},{type:"action",labelKey:"PD.ISSUES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4600",pageId:"1",itemNames:["P1_APPLICATION_ID","P1_PAGE_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId()]}))}}],beforeOpen:function(e,t){var a,n,o=t.menu.items,r=[["FEEDBACK_ENTRIES_N","feedback"],["ISSUES_N","issues"]];for(a=0;a<r.length;a++)void 0!==g[(n=r[a])[1]]&&(o[a].label=i.format(n[0],g[n[1]]),delete o[a].labelKey)}}),t("#go_to_page").on("keypress",(function(e){13===e.which&&i.goToPage(t("#go_to_page").val())})).on("focus",(function(){this.select()})),t("#a_PageDesigner").on("focusin",(function(){Ie()})),t("#go_to_page_button").on(Te,(function(){i.goToPage(t("#go_to_page").val())})),t("#go_to_page_lov").on("click",(function(){var n=a.htmlBuilder(),o={columnDefinitions:[{name:"id",title:i.msg("PAGE_NUMBER")},{name:"name",title:i.msg("PAGE_NAME"),isRowHeader:!0},{name:"alias",title:i.msg("PAGE_ALIAS")},{name:"group",title:i.msg("GROUP")}],filters:[{name:"show",title:i.msg("PAGE_PICKER.SHOW"),type:"buttonset",defaultValue:"all",lov:[{display:i.msg("ALL_PAGES"),value:"all"},{display:i.msg("PAGE_PICKER.RECENTLY_EDITED"),value:"recent"}]},{name:"search",title:i.msg("SEARCH"),type:"search"}],filterLov:function(t,a){var n={};"current_group"===t.show?n={show:"group_id",id:e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()}:"recent"===t.show&&(n={show:"recent"}),e.getPagesLov(n,(function(e){a(e,t.search)}),"Y","Y")}};void 0!==e.getCurrentPageId()&&e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()&&o.filters[0].lov.unshift({display:i.msg("CURRENT_GROUP"),value:"current_group"}),n.markup("<div").attr("id","goToPageDlg").attr(I,i.msg("PAGE_FINDER")).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:750,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:i.CSS.DIALOG_FLUSH_BODY,resizable:!1,multiValue:!1,valueSelected:function(e,t){i.goToPage(t.id)}})})),i.textMessagesPickerEnabled=i.getBoolPref(_e,!1),t(document).on("modelReady",(function(){e.isPageReadOnly()&&!e.getPageLockState()||(_.attr(b,!1),R()),[G,M].forEach((function(e){l.enable(e)}));let a=e.getComponents(e.COMP_TYPE.BUILD_OPTION,{properties:[{id:e.PROP.NAME,value:n.getMessage("APEXAPP.BUILD_OPTION.COMMENTED_OUT")}]});i.COMMENTED_OUT_ID=a.length?a[0].id:void 0,e.getCompatibilityMode()<24.2&&l.disable(ie),t(document).one("modelCleared",(function(){P.clear(),t(document).trigger("commandHistoryChange"),_.attr(b,!0),[$,j,G,M].forEach((function(e){l.disable(e)})),gTeamDevEnabled&&(t("#menu-team-dev").hide().prop(b,!0).find(".a-Button-badge").text(""),g={}),i.COMMENTED_OUT_ID=void 0})),Re(i.getBoolPref(ce,!1))}))}t((function(){var o,r=s.getScopedSessionStorage({useAppId:!1,prefix:"ORA_WWV_apex.builder.pageDesigner"}),c=t.ui.keyCode;t("#sp_main").show(),we(),o=t("#search-container").peSearch(),t("#P4500_LOCAL_SEARCH,#P4500_MATCH_CASE,#P4500_IS_REGEXP").on("change",(function(){var e=$v("P4500_LOCAL_SEARCH"),t=("Y"===$v("P4500_MATCH_CASE")?"":"i")+"g",n="Y"===$v("P4500_IS_REGEXP");""!==e?(e=n?new RegExp(e,t):new RegExp(a.escapeRegExp(e),t),o.peSearch("search",e)):o.peSearch("clear")})),t("#CLEAR_PAGE_SEARCH").on("click",(function(){$s("P4500_LOCAL_SEARCH","","",!0),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),o.peSearch("clear")})),t(document).on("pageSearch",(function(e,t){De(ge),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),$s("P4500_LOCAL_SEARCH",t)})),e.init({isInternal:gIsInternal,isReadOnly:gIsReadOnly}),setTimeout((function(){var e=i.goToPage(t("#go_to_page").val(),!0,!1);t.when(e).done((function(){var e,t,a,n=(e=window.location.hash,a=null,"#"===e.charAt(0)&&(e=e.substring(1)),/^[0-9:]+$/.test(e)&&2===(t=e.split(":")).length&&(a={typeId:t[0],componentId:t[1]}),a);n&&i.goToComponent(n.typeId,n.componentId)}))}),0),l.add([{name:y,onLabel:i.msg("RESTORE"),offLabel:i.msg("EXPAND"),get:function(){return this.isCenterExpanded},set:function(e){this.isCenterExpanded=e,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").splitter(m,"collapsed",this.isCenterExpanded)},isCenterExpanded:!1,updateState:function(){var e=this;this.isCenterExpanded=!0,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").each((function(){if(!t(this).splitter(m,"collapsed"))return e.isCenterExpanded=!1,!1})),this.icon=this.isCenterExpanded?"icon-restore":"icon-maximize",l.update(this.name)}},{name:U,label:i.msg("ACTION.GOTO_HELP"),action:function(){return De("help"),t("#help-container")[0].focus(),!0}},{name:B,label:i.msg("ACTION.GOTO_RENDERING"),action:function(){return De(de),t("#PDrenderingTree").treeView("focus"),!0}},{name:V,label:i.msg("ACTION.GOTO_DA"),action:function(){return De("dynActTree_container"),t("#PDdynamicActionTree").treeView("focus"),!0}},{name:w,label:i.msg("ACTION.GOTO_PROCESSING"),action:function(){return De("procTree_container"),t("#PDprocessingTree").treeView("focus"),!0}},{name:H,label:i.msg("ACTION.GOTO_SHARED"),action:function(){return De("sharedComp_container"),t("#PDsharedCompTree").treeView("focus"),!0}},{name:x,label:i.msg("ACTION.GOTO_GLV"),action:function(){return De(Oe),t("#glv").gridlayout("focus"),!0}},{name:Y,label:i.msg("ACTION.GOTO_PE_MAIN"),action:function(){return De(Ee),ve.propertyEditor("focus"),!0}},{name:F,label:i.msg("ACTION.GOTO_PE_ATTRIBUTES"),action:function(){return i.getTab(ue).is(":visible")&&(De(ue),Ge.propertyEditor("focus")),!0}},{name:k,label:i.msg("ACTION.GOTO_PE_PRINTING"),action:function(){return i.getTab(Ne).is(":visible")&&(De(Ne),Me.propertyEditor("focus")),!0}},{name:K,label:i.msg("ACTION.GOTO_REGIONS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,0),t("#cg-regions .a-Gallery.a-IconList").iconList("focus"),!0}},{name:X,label:i.msg("ACTION.GOTO_ITEMS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,1),t("#cg-items .a-Gallery.a-IconList").iconList("focus"),!0}},{name:J,label:i.msg("ACTION.GOTO_BUTTONS"),action:function(){return De(Oe),Be("sp_glv_content"),t("#gallery-tabs").tabs(m,R,2),t("#cg-buttons .a-Gallery.a-IconList").iconList("focus"),!0}},{name:Q,label:i.msg("ACTION.GOTO_MSGS"),action:function(){return Ve(),!0}},{name:W,label:i.msg("ACTION.PAGE_SEARCH"),action:function(e){var a=t(e.target).closest(".a-PropertyEditor");return a.length?a.parent().find(".a-Property-field--filter").trigger("focus"):(De(ge),t("#P4500_LOCAL_SEARCH").trigger("focus")),!0}},{name:$,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:j,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:z,label:i.msg("KBD_SHORTCUTS"),action:function(){var e,o,r,s,c,P=[],_={},O=a.htmlBuilder(),g=l.listShortcuts(!0);for(e=0;e<g.length;e++)r=g[e],(s=_[r.actionName])||(P.push(r.actionName),s={actionLabel:r.actionLabel,shortcuts:[]},_[r.actionName]=s),s.shortcuts.push(r.shortcutDisplay);for(P.sort((function(e,t){return _[e].actionLabel>_[t].actionLabel?1:_[e].actionLabel<_[t].actionLabel?-1:0})),O.markup("<div").attr("id","shortcutDlg").attr(I,i.msg("KBD_SHORTCUTS")).markup(" tabindex='0'>").markup("<ul class='a-AVPList a-AVPList--shortcuts'>"),e=0;e<P.length;e++){for(s=_[P[e]],O.markup("<li class='a-AVPList-item'><span class='a-AVPList-label'>").content(s.actionLabel).markup("</span><span class='a-AVPList-value'>"),c=s.shortcuts,o=0;o<c.length;o++)O.markup(c[o]);O.markup("</span></li>")}return O.markup("</ul></div>"),t(O.toString()).dialog({modal:!0,closeText:n.getMessage("APEX.DIALOG.CLOSE"),minWidth:300,width:550,height:380,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){t(this).dialog("destroy").remove()},open:function(){this.focus()},buttons:[{text:i.msg("OK"),click:function(){t(this).dialog("close")}}]}),!0}}]),t("#helpMenu_menu").on("menucreate",(function(){var e=t("#helpMenu_menu").menu("find","keyboardShortcuts");e&&(e.hide=!1,e.action=z)})),i.clearHelpText();var P=null;function _(e,a){var n,o,i=t(e.target),r=i.closest(".ui-tabs");a.item.removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus"),a.sender&&(n=t("#"+a.item.attr(T)),o=a.item.prev(),a.item.remove(),o.length?o.after(a.item):i.prepend(a.item),r.append(n),a.sender.closest(".ui-tabs").tabs(L)),r.tabs(L),r.tabs(m,R,a.item.index()),Se()}function O(e){var a,n,o,i,r,s,l,P,_=null,O=null,g=e.which;if(e.shiftKey&&(g===c.UP||g===c.LEFT?O=-1:g!==c.DOWN&&g!==c.RIGHT||(O=1),O)){if(a=(n=(i=t(e.target)).closest(".ui-tabs-nav")).children().length,o=n.closest(".ui-tabs"),r=Ae.indexOf("#"+o[0].id),s=i.index(),(s+=O)>=0&&s<a)O>0?i.next().after(i):i.prev().before(i);else{if(!((r+=O)>=0&&r<Ae.length))return;P=(_=t(Ae[r]).find(".ui-tabs-nav").first()).closest(".ui-tabs"),l=t("#"+i.attr(T)),i.remove(),O<0?_.append(i):_.prepend(i),s=i.index(),P.append(l),o.tabs(L),o=P}return o.tabs(L),o.tabs(m,R,s),i.trigger("focus"),Se(),!1}}t("body").on("splitterchange splittercreate",(function(){var e=l.lookup(y);P||(P=setTimeout((function(){P=null,e.updateState()}),100))})),apex.builder.nameBuilderWindow(),t(Ce).tabs({heightStyle:"fill",activate:function(e,t){var a,n,o;t.newPanel.is(".resize")&&t.newPanel.resize(),n=(a=t.newTab.parents(".ui-tabs")).attr("id"),o=a.tabs(m,R),r.setItem(n,o)}}).on("resize",(function(){Le()})),t(".ui-tabs").each((function(){var e,a=t(this).data("ui-tabs");e=a._handlePageNav,a._handlePageNav=function(t){return!!t.shiftKey||e.call(a,t)}})),he(),setTimeout((function(){var e;i.getBoolPref(le,!1)||i.getPreference(se)?(i.getBoolPref(le,!1)?((e=i.getPreference(re))&&e.indexOf("2:")<0&&(e=u.replace(/0:/g,"1:")),e||(e=u.replace(/0:/g,"1:")),l.disable(ne)):((e=i.getPreference(se))&&e.indexOf("2:")<0&&(e=u),e||(e=u),l.disable(oe)),(e.indexOf(":peAttributesTabPanel")<0||e.indexOf(":pePrintingTabPanel")<0)&&(e=u),be(e,!0)):l.disable(oe),he(),t(Ce).each((function(){var e=t(this),a=e.attr("id"),n=r.getItem(a);n?e.tabs(m,R,n):"editor_tabs"===a&&De(Oe)}))}),1),t("#editor_tabs").find(".ui-tabs-nav").first().sortable({axis:"x",connectWith:"#trees > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("dblclick",(function(){l.toggle(y)})).on("keydown",O),t("#trees").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("keydown",O),t("#peTabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #trees > .a-Tabs-toolbar > .ui-tabs-nav",update:_}).on("keydown",O),t("#editor_tabs [aria-controls=help]").addClass("ui-tabs-helpTab"),apex.theme.pageResizeInit(),t(window).on("beforeunload",(function(){if(e.hasChanged())return i.msg("BEFORE_PAGE_UNLOAD_UNSAVED_CHANGES")})),t("#pdNotificationClose").on("click",(function(){i.hideNotification()})),t(".a-ControlBar,.a-PageDesigner").tooltip({item:"button[title]",show:apex.tooltipManager.defaultShowOption()}),t(document.body).append("<div id='apexActionKeyDisplay' style='display:none;'></div>"),l.partialShortcutInput=function(e){e=e||"",setTimeout((function(){t("#apexActionKeyDisplay").text(e)[e?"show":"hide"]()}),e?1:800)},apex.gPageContext$.on("apexafterclosedialog",(function(e,t){t.FB_FLOW_ID&&t.FB_FLOW_PAGE_ID&&(t.successMessage?i.showSuccess(t.successMessage.text):i.hideNotification(),i.goToPage(t.FB_FLOW_PAGE_ID,t.successMessage))})),setTimeout((function(){var e,a,n=function(e,t){return{name:e,shortcut:t}},o=[n("spotlight-search","Ctrl+Quote"),n(D,"Ctrl+Z"),n(v,"Ctrl+Y"),n(G,"Alt+F7"),n(M,"Alt+F8"),n(y,"Alt+F11"),n(U,"Alt+F1"),n(B,"Ctrl+/,R"),n(V,"Ctrl+/,A"),n(w,"Ctrl+/,P"),n(H,"Ctrl+/,S"),n(x,"Ctrl+/,L"),n(Y,"Ctrl+/,E,M"),n(F,"Ctrl+/,E,A"),n(k,"Ctrl+/,E,P"),n(K,"Ctrl+/,G,R"),n(X,"Ctrl+/,G,I"),n(J,"Ctrl+/,G,B"),n(Q,"Ctrl+/,M"),n(W,"Ctrl+/,F"),n($,"Alt+Shift+Page Down"),n(j,"Alt+Shift+Page Up"),n(z,"Alt+Shift+F1"),n("glv-disp-from-page","Ctrl+/,D,T"),n("glv-disp-from-region","Ctrl+/,D,H"),n("glv-hide-empty","Ctrl+/,D,E"),n(q,"Ctrl+/,U,A"),n(Z,"Ctrl+/,C,P"),n(ee,"Ctrl+/,C,C"),n(te,"Ctrl+/,C,S"),n(ae,"Ctrl+/,C,B")];for([D,v].forEach((function(e){var t=l.lookup(e);t.contextLabel=t.label})),a=t("#menu-create").attr(f),[Z,ee,te,ae].forEach((function(e){var t=l.lookup(e);t&&(t.contextLabel=a+": "+t.label)})),a=t("#menu-utilities").attr(f),[q].forEach((function(e){var t=l.lookup(e);t.contextLabel=a+": "+t.label})),e=0;e<o.length;e++)o[e].type="global";l.setShortcutKeyBindings(o)}),1),ve.pdPropertyEditor({mode:"main"}),Ge.pdPropertyEditor({mode:"attributes"}),Me.pdPropertyEditor({mode:"printing"})})),t((()=>{const a=()=>{const a=e.getComponents(e.COMP_TYPE.PAGE)[0].getProperty(e.PROP.JS_FUNCTION_AND_GLOBAL_VARIABLE_DECLARATION);if(a){const e=a.getValue();t.apex.codeEditor.registerJavaScriptContextCode("page-global",e,t.apex.codeEditor.LANG_JAVASCRIPT)}};e.observer("codeEditorIntellisense",{components:[{typeId:e.COMP_TYPE.PAGE}],properties:[pe.PROP.JS_FUNCTION_AND_GLOBAL_VARIABLE_DECLARATION],events:["change"]},a),t(document).on("modelReady",a)}))}(pe,apex.jQuery,apex.util,apex.lang,apex.navigation,window.pageDesigner,apex.server,apex.storage,apex.actions,apex.item,apex.commandHistory,apex.env);