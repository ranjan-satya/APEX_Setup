define(['exports', './useDatatip-d00735e9', './util-5bb1f200', 'preact/jsx-runtime', './VisTabularDatatip-5e43455b', './colorUtils-31010e27', './accUtils-1557920a', './useUser-6dd85af9'], (function(e,s,t,i,r,o,a,n){"use strict";function u(e,s,t,i,r){const o=e.value,a=i?.value?.format?i?.value?.format?.(o):o,n=[];return 0!=i?.series?.isDisplayed&&n.push({key:i?.series?.label||"Series",value:s}),0!=i?.group?.isDisplayed&&n.push({key:i?.group?.label||(r?"Date":"Group"),value:t}),0!=i?.value?.isDisplayed&&n.push({key:i?.value?.label||"Value",value:a}),n}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:a,isHoriz:d,datatip:l,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:I,series:g,valueFormats:f,groups:v,width:b,height:y,findNearest:C,timeAxisType:D,touchResponse:h,isDisabled:A})=>{let T=A?void 0:I?.isCurrent?I:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0;const k=I?.isCurrent||e?"element":"pointer",F=I?.isCurrent?c(I.seriesIndex,I.groupIndex):void 0,{direction:P}=n.useUser(),U="rtl"===P;let R,S,V="top-start",j=t.calculateOffset(U,b,F);if(e&&null!=a?.x&&null!=a?.y){T=T||C?.(a.x,a.y);const e=p.transform(a.x);j={mainAxis:-1,crossAxis:-1},d?(V="end",j.mainAxis=-10,j.crossAxis=e-y/2):(V="top",j.crossAxis=U?b/2-e:e-b/2,j.mainAxis=-10)}if(null!=T?.seriesIndex&&null!=T?.groupIndex){S=x(T.seriesIndex,T.groupIndex);const e=S?{data:S,seriesIndex:T.seriesIndex,groupIndex:T.groupIndex,id:S.id}:void 0;if(e){R=(l||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return o=>{const a=e.groups.name||e.groups.id,n=s?o.data.x:t?a:void 0;return{content:i.jsx(r.VisTabularDatatip,{tableData:u(o.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType)}),borderColor:o.data.color||e.series.color}}}({series:g[T.seriesIndex],groups:v[T.groupIndex],valueFormats:f,timeAxisType:D}))(e)}}const G=o.getColorRamp(),q=R?.borderColor||T&&(g[T.seriesIndex].color||g[T.seriesIndex].lineColor||g[T.seriesIndex].areaColor)||T&&G[T.seriesIndex%G.length],{datatipContent:w,datatipProps:z}=s.useDatatip({content:R?.content,anchor:k,placement:V,offset:j,borderColor:q,touchResponse:h});return{datatipContent:w,datatipProps:z}}}));
//# sourceMappingURL=useChartDatatip-672232af.js.map
