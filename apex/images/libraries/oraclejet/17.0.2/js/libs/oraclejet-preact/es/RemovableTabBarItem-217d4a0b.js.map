{"version":3,"file":"RemovableTabBarItem-217d4a0b.js","sources":["../../src/UNSAFE_TabBarCommon/RemovableTabBarItem.tsx"],"sourcesContent":["import { useCallback } from 'preact/hooks';\nimport { useHover } from '../hooks/UNSAFE_useHover';\nimport { EmbeddedIconButton } from '../PRIVATE_EmbeddedIconButton';\nimport { Close } from '../UNSAFE_RedwoodIcons/Close';\nimport { Flex } from '../UNSAFE_Flex';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { flexitemInterpolations } from '../utils/UNSAFE_interpolations/flexitem';\nimport type { FlexitemProps } from '../utils/UNSAFE_interpolations/flexitem';\nimport { useTabBarContext } from './useTabBarContext';\nimport { BaseTabBarItem, BaseTabBarItemProps } from './BaseTabBarItem';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport type { BundleType } from '../resources/nls/bundle';\n\ntype RemovableTabBarItemProps<K extends string | number> = Pick<\n  BaseTabBarItemProps<K>,\n  'itemKey' | 'label' | 'icon' | 'badge' | 'metadata' | 'severity' | 'aria-controls'\n>;\n\nexport function RemovableTabBarItem<K extends string | number>({\n  itemKey,\n  label,\n  icon,\n  badge,\n  metadata,\n  severity,\n  'aria-controls': ariaControls\n}: RemovableTabBarItemProps<K>) {\n  const { selection, currentKey, layout, onRemove } = useTabBarContext();\n  const isSelected = selection === itemKey;\n  const isCurrent = currentKey === itemKey;\n\n  const handleRemove = useCallback(() => {\n    onRemove?.({ value: itemKey as K });\n  }, [onRemove, itemKey]);\n\n  const { hoverProps, isHover } = useHover({});\n\n  //instead of specifying flex: '1 0 auto' in cssProps var\n  const styleInterpolations = mergeInterpolations<FlexitemProps>([\n    ...Object.values(flexitemInterpolations)\n  ]);\n  const flexDimensions = styleInterpolations({\n    flex: layout === 'stretch' ? '1 0 auto' : '0 0 auto'\n  });\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n\n  //TODO: In addition to aria-label a genric instruction is required for keyboard deletion\n  //common to al tabs,after feedback from Curt's investigations.\n  return (\n    <div {...hoverProps} style={flexDimensions}>\n      <Flex>\n        <BaseTabBarItem\n          aria-controls={ariaControls}\n          itemKey={itemKey}\n          label={label}\n          icon={icon}\n          badge={badge}\n          metadata={metadata}\n          severity={severity}\n          removeIcon={\n            <span data-oj-tabbar-item-remove-icon=\"true\">\n              <EmbeddedIconButton\n                aria-label={translations.tabBarNavigationList_removeCueText()}\n                size=\"xs\"\n                onAction={handleRemove}>\n                {(isHover || isSelected || isCurrent) && <Close />}\n              </EmbeddedIconButton>\n            </span>\n          }\n        />\n      </Flex>\n    </div>\n  );\n}\n"],"names":["_jsx","Close"],"mappings":";;;;;;;;;;;;;SAkBgB,mBAAmB,CAA4B,EAC7D,OAAO,EACP,KAAK,EACL,IAAI,EACJ,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,eAAe,EAAE,YAAY,EACD,EAAA;AAC5B,IAAA,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,gBAAgB,EAAE,CAAC;AACvE,IAAA,MAAM,UAAU,GAAG,SAAS,KAAK,OAAO,CAAC;AACzC,IAAA,MAAM,SAAS,GAAG,UAAU,KAAK,OAAO,CAAC;AAEzC,IAAA,MAAM,YAAY,GAAG,WAAW,CAAC,MAAK;QACpC,QAAQ,GAAG,EAAE,KAAK,EAAE,OAAY,EAAE,CAAC,CAAC;AACtC,KAAC,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;IAExB,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;;IAG7C,MAAM,mBAAmB,GAAG,mBAAmB,CAAgB;AAC7D,QAAA,GAAG,MAAM,CAAC,MAAM,CAAC,sBAAsB,CAAC;AACzC,KAAA,CAAC,CAAC;IACH,MAAM,cAAc,GAAG,mBAAmB,CAAC;QACzC,IAAI,EAAE,MAAM,KAAK,SAAS,GAAG,UAAU,GAAG,UAAU;AACrD,KAAA,CAAC,CAAC;AAEH,IAAA,MAAM,YAAY,GAAG,oBAAoB,CAAa,0BAA0B,CAAC,CAAC;;;AAIlF,IAAA,QACEA,GAAS,CAAA,KAAA,EAAA,EAAA,GAAA,UAAU,EAAE,KAAK,EAAE,cAAc,EAAA,QAAA,EACxCA,GAAC,CAAA,IAAI,cACHA,GAAC,CAAA,cAAc,EACE,EAAA,eAAA,EAAA,YAAY,EAC3B,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,EACV,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,QAAQ,EAClB,QAAQ,EAAE,QAAQ,EAClB,UAAU,EACRA,GAAsC,CAAA,MAAA,EAAA,EAAA,iCAAA,EAAA,MAAM,EAC1C,QAAA,EAAAA,GAAA,CAAC,kBAAkB,EACL,EAAA,YAAA,EAAA,YAAY,CAAC,kCAAkC,EAAE,EAC7D,IAAI,EAAC,IAAI,EACT,QAAQ,EAAE,YAAY,EAAA,QAAA,EACrB,CAAC,OAAO,IAAI,UAAU,IAAI,SAAS,KAAKA,GAAC,CAAAC,QAAK,KAAG,EAC/B,CAAA,EAAA,CAChB,GAET,EACG,CAAA,EAAA,CACH,EACN;AACJ;;;;"}