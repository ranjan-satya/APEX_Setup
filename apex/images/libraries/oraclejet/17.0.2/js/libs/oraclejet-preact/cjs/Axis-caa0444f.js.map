{"version":3,"file":"Axis-caa0444f.js","sources":["../../src/PRIVATE_Axis/ChartAxisText.tsx","../../src/PRIVATE_Axis/Axis.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { JSXInternal } from 'preact/src/jsx';\nimport { styles } from './themes/AxisStyles.css';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { TextProps } from '../PRIVATE_VisSVGText/text.types';\nimport { getClientHints } from '../utils/PRIVATE_clientHints';\nimport { MultilineText, SinglelineText } from '../PRIVATE_VisSVGText';\n\ntype SVGTextAttrs = JSXInternal.HTMLAttributes<SVGTextElement>;\n\ntype ChartText = {\n  id?: string;\n  isTitle: boolean;\n  textProps: TextProps;\n  isRotated: boolean;\n  isRtl: boolean;\n  isInteractive: boolean;\n  style?: SVGTextAttrs['style'];\n  dataProps?: Record<`data-oj-${string}`, string | undefined>;\n};\n\n/**\n * Renders the svg text with given style and svg attributes.\n */\nexport function ChartAxisText({\n  style,\n  textProps,\n  isTitle,\n  isInteractive,\n  id,\n  isRotated,\n  isRtl,\n  dataProps\n}: ChartText) {\n  const browser = getClientHints().browser;\n  const className = classNames([\n    isInteractive ? styles.isInteractive : '',\n    isTitle ? styles.axisTitle : styles.axisLabel,\n    !isTitle && browser === 'safari' ? styles.middleBaseline : ''\n  ]);\n\n  const isMultiline = textProps.lines.length > 1;\n\n  return isMultiline ? (\n    <MultilineText\n      class={className}\n      text={textProps.text}\n      dataProps={dataProps}\n      isRtl={isRtl}\n      isRotated={isRotated}\n      lines={textProps.lines}\n      lineProps={textProps.lineProps}\n      textStyle={style}\n      isTruncated={textProps.isTruncated}\n      id={id}\n    />\n  ) : (\n    <SinglelineText\n      style={style}\n      isRtl={isRtl}\n      isRotated={isRotated}\n      dataProps={dataProps}\n      text={textProps.lines[0]}\n      props={textProps.lineProps[0]}\n      isTruncated={textProps.isTruncated}\n      id={id}\n      class={className}\n    />\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { JSXInternal } from 'preact/src/jsx';\nimport { ChartAxisText } from './ChartAxisText';\nimport { getEnclosingRectDims } from './utils/labelUtils';\nimport { TextProps } from '../PRIVATE_VisSVGText/text.types';\nimport { AxisStyles, styles } from './themes/AxisStyles.css';\nimport { AxisRedwoodTheme } from './themes/redwood/AxisTheme';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\n\ntype SVGTextAttrs = JSXInternal.HTMLAttributes<SVGTextElement>;\n\ntype Props = {\n  isRtl: boolean;\n  title?: string;\n  activeId?: string;\n  titleProps?: TextProps;\n  focusedGroupIndex?: number;\n  titleStyle: SVGTextAttrs['style'];\n  tickLabelStyle?: SVGTextAttrs['style'];\n  tickLabels: (TextProps & { index: number })[];\n  isTextInteractive?: (index: number) => boolean;\n  axisPosition: 'left' | 'right' | 'top' | 'bottom';\n};\n\n/**\n * Renders the chart axis.\n */\nexport function Axis({\n  title,\n  titleStyle,\n  titleProps,\n  tickLabels,\n  tickLabelStyle,\n  focusedGroupIndex,\n  axisPosition,\n  isRtl,\n  activeId,\n  isTextInteractive\n}: Props) {\n  const { classes } = useComponentTheme<AxisStyles>(AxisRedwoodTheme);\n  return (\n    <g class={classes}>\n      {title && titleProps && (\n        <ChartAxisText\n          textProps={titleProps}\n          isRtl={isRtl}\n          isRotated={titleProps.isRotated}\n          style={titleStyle}\n          isTitle\n          isInteractive={false}\n        />\n      )}\n      {tickLabels.length > 0 && (\n        <g style={tickLabelStyle}>\n          {tickLabels.map(\n            ({ index, ...textProps }: Props['tickLabels'][0], renderedIndex: number) => {\n              const isFocused = focusedGroupIndex === renderedIndex;\n              return (\n                <>\n                  {isFocused\n                    ? textProps.text &&\n                      textProps.dims && (\n                        <rect\n                          {...getEnclosingRectDims(textProps.dims, axisPosition)}\n                          class={styles.outlineRing}></rect>\n                      )\n                    : ''}\n                  {textProps.text && (\n                    <ChartAxisText\n                      textProps={textProps}\n                      isTitle={false}\n                      isRotated={textProps.isRotated}\n                      isRtl={isRtl}\n                      dataProps={textProps.dataProps}\n                      isInteractive={!!isTextInteractive?.(index)}\n                      id={isFocused ? activeId : ''}\n                    />\n                  )}\n                </>\n              );\n            }\n          )}\n        </g>\n      )}\n    </g>\n  );\n}\n"],"names":["getClientHints","classNames","styles","_jsx","MultilineText","SinglelineText","useComponentTheme","AxisRedwoodTheme","_jsxs","getEnclosingRectDims"],"mappings":"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"}