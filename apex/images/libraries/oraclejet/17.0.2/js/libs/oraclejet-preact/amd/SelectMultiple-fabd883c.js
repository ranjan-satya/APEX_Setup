define(['exports', 'preact/jsx-runtime', './Label-3f8fc274', 'preact/hooks', 'preact/compat', './TextFieldInput-dfd9529f', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-a5e85e5d', './StyledTextField-8ac3bbb4', './Flex-1f27b601', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'css!./LabelValueLayoutStyles.styles.css', './logger-0f873e29', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./RadioStyles.styles.css', 'module', './UNSAFE_RadioItem/themes/redwood/RadioVariants.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './UNSAFE_TextField/themes/FormLayoutStyles.css', 'module', 'css!./CheckboxStyles.styles.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxVariants.css', './InputGroupContext-372087af', './LayerHost-eab40731', './useTranslationBundle-6ef0dab6', 'css!./LiveRegionStyles.styles.css', './TabbableModeContext-a9c97640', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-f4d1fa1b', './CompactUserAssistance-b2cbdbad', './useTooltipControlled-abf886f2', 'preact', 'css!./IconStyle.styles.css', './Popup-249d77c3', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useFocusableTextField-c2f98a8b', './useLoadingIndicatorTimer-20a3bf5f', './useTextField-e6877c79', './useSelectCommon-8657b927', './useAccessibleContext-23e8a333', './textAlign-ef924afd', './useFormFieldContext-8196183c', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './TextField-0fc70892', './UNSAFE_SelectMultiple/themes/SelectedValuesCountStyles.css', './Chip-26339152', './IconButton-1b328b69', './CancelS-a0d8e178', './useFocusWithin-5a504fca', './useUser-6dd85af9', './keyboardUtils-244467a7', './classNames-08d99695', './dimensions-89f18413', './mergeInterpolations-9ede4cf7', './HiddenAccessible-037ef42d', './Text-e132dec0', './Close-479a300b', './useId-c9578d26', './UNSAFE_SelectMultiple/themes/TextTagStyles.css', './UNSAFE_SelectMultiple/themes/TextTagListStyles.css', './LiveRegion-be6f36d7', './View-8701dec6', './UNSAFE_SelectMultiple/themes/MobileDropdownFooterStyles.css', './Button-43090a22', './useEffectEvent-8467275b', './equals-e73adbe3', './mergeProps-bcfa6a92', './stringUtils-0ae982c2'], (function(e,s,t,n,o,i,a,l,r,d,c,u,p,h,b,y,x,m,S,f,v,w,T,g,F,C,D,A,L,R,I,E,k,V,K,U,j,P,B,M,O,N,_,H,z,q,Y,W,$,G,Z,J,Q,X,ee,se,te,ne,oe,ie,ae,le,re,de,ce,ue,pe,he,be,ye,xe,me,Se,fe,ve,we,Te,ge,Fe,Ce,De,Ae,Le){"use strict";function Re({assistiveText:e,currentKey:t,data:n,dropdownId:o,dropdownRef:i,helpSourceLink:a,helpSourceText:l,isAddToListShown:r,isDisabled:d,isDropdownAbove:c,isEmptyResults:u,isOpen:p,isReadonly:h,isSelectedOnlyView:b,isUserFiltering:y,itemRenderer:x,itemText:m,label:S,mainFieldRef:f,searchText:v,selectedKeys:w,userAssistanceDensity:T,onAddToListAction:g,onAutoDismiss:F,onCurrentKeyChange:C,onLoadRange:D,onPosition:A,onSelectionChange:L}){const R=K.useTranslationBundle("@oracle/oraclejet-preact"),I=!p||c||d||h||!e&&!a||"efficient"!==T&&"reflow"!==T?void 0:s.jsx(Q.DropdownUserAssistance,{assistiveText:e,fieldLabel:S,helpSourceLink:a,helpSourceText:l,userAssistanceDensity:T}),E=u?r?void 0:s.jsx(Q.EmptyResults,{}):s.jsx(Q.DefaultList,{"aria-label":S??"",currentItemVariant:"highlight",currentKey:t,data:n,itemRenderer:x,itemText:m,searchText:b?void 0:y?v:void 0,selectedKeys:w,selectionMode:"multiple",onCurrentKeyChange:C,onLoadRange:D,onSelectionChange:L}),k=r?s.jsx(Q.LinkItem,{isHighlighted:u,onAction:g,children:R.select_addToList()}):void 0;return s.jsxs(Q.Dropdown,{dropdownRef:i,id:o,isOpen:p,anchorRef:f,onAutoDismiss:F,onPosition:A,children:[s.jsxs(Q.DropdownList,{hasBottomGap:void 0===I,isLoading:null===n,children:[E,k]}),I]})}function Ie({"aria-label":e,count:t=0,onKeyDown:n,onKeyUp:o,onMouseDown:i,...a}){const l=K.useTranslationBundle("@oracle/oraclejet-preact"),r=l.selectMultiple_showSelectedValues(),d=e?`${e}. `:"",c=l.selectMultiple_countPlus({COUNT:"99"}),u=t>99?`${c}`:`${t}`,p=`${d}${l.selectMultiple_valuesSelected({VALUE_COUNT:`${t}`})} ${r}`;return s.jsx("div",{class:ie.selectedValueCountStyles.base,onKeyDown:n,onKeyUp:o,onMouseDown:i,children:s.jsx(ae.Chip,{"aria-label":p,...a,children:u})})}function Ee({children:e,columnSpan:t,fieldLabel:n,hasInsideLabel:o,isBackButtonShown:i,isClearButtonShown:a,isDropdownArrowShown:l,isDropdownSelectedOnlyView:r,isSelectedValuesCountShown:c,selectedValuesCount:u,onBackButtonClick:p,onClearButtonClick:h,onDropdownArrowClick:b,onSelectedValuesCountKeyDown:y,onSelectedValuesCountKeyUp:x,onSelectedValuesCountMouseDown:m,onSelectedValuesCountToggle:S,...f}){const{isDisabled:v,isLoading:w}=se.useFormFieldContext(),T=K.useTranslationBundle("@oracle/oraclejet-preact"),g=i?s.jsx(le.IconButton,{"aria-label":T.selectMultiple_back(),size:"xs",variant:"ghost",onAction:p,children:s.jsx(re.SvgNavLeft,{})}):null,F=a?s.jsx(le.IconButton,{"aria-label":T.formControl_clear(),size:"sm",variant:"ghost",onAction:h,children:s.jsx(re.SvgCancelS,{})}):null,C=l?s.jsx(Q.DropdownArrow,{isDisabled:v,onClick:b,testId:`${f.testId}_dropdownarrow`}):null,D=w?void 0:c?s.jsxs(d.Flex,{align:"center",justify:"center",gap:[0,"1x"],children:[s.jsx(Ie,{"aria-label":n,count:u,isDisabled:v,isSelected:r,onKeyDown:y,onKeyUp:x,onMouseDown:m,onToggle:S}),a&&F,l&&C]}):s.jsxs(s.Fragment,{children:[a&&F,l&&C]});return s.jsx(oe.TextField,{columnSpan:t,startContent:i&&g,mainContent:e,endContent:D,...f})}function ke({children:e,removeIcon:t="never",isSelected:o=!1,onRemoveAction:i,onSelect:a,onRemoveIconClick:l,isFocused:r,value:d}){const c=K.useTranslationBundle("@oracle/oraclejet-preact"),u=n.useRef(null),p=Se.useId(),h=pe.classNames([fe.textTagStyles.base,o&&fe.textTagStyles.selected]),b=n.useCallback((()=>{i?.(d)}),[d,i]),y=n.useCallback((()=>{a?.(d)}),[d,a]),x=n.useCallback((()=>{l?.(d)}),[d,l]),m=n.useCallback((e=>{ue.isBackspaceOrDelete(e)&&b()}),[b]);return n.useEffect((()=>{r&&o&&(u.current?.focus(),u.current?.scrollIntoView({block:"nearest"}))}),[r,o]),s.jsxs(s.Fragment,{children:[s.jsxs("span",{ref:u,class:h,tabIndex:-1,onClick:y,onKeyUp:m,onMouseDown:Q.preventDefault,role:"option","aria-describedby":p,"aria-selected":o?"true":"false",children:[s.jsx(xe.Text,{size:"md",variant:"inherit",children:e}),"always"===t&&s.jsx(j.TabbableModeContext.Provider,{value:{isTabbable:!1},children:s.jsx(le.IconButton,{size:"xs",variant:"ghost",onAction:x,children:s.jsx(me.SvgClose,{})})})]}),s.jsx(ye.HiddenAccessible,{id:p,children:c.selectMultiple_removeSelectedTagInstructionText()})]})}const Ve=Array.from(["maxWidth"],(e=>he.dimensionInterpolations[e])),Ke=be.mergeInterpolations(Ve);const Ue=o.forwardRef((function(e,t=(()=>{})){const{"aria-label":o,data:i,hasInsideLabel:a=!1,removeIcon:l="never",onExitNavigation:r,onRemove:d}=e,c=n.useRef(null),[u,p]=n.useState([]),{direction:h}=ce.useUser(),b=n.useRef(-1),y=i.at(-1)?.value,x=n.useRef({value:y,index:i.length-1});x.current={value:y,index:i.length-1};const m=n.useCallback((e=>{const s=i.at(e)?.value;null!=s&&p([s])}),[i]),S=n.useCallback((()=>{p((e=>(b.current=-1,e.length?[]:e)))}),[]),f=n.useCallback((e=>{d?.([e]),r?.(),S()}),[S,r,d]),v=n.useCallback((e=>{const s=[...u];u.includes(e)||s.push(e),d?.(s),r?.(),S()}),[u,S,r,d]),w=n.useCallback((e=>{p([e]),b.current=i.findIndex((s=>s.value===e))}),[i,p]),T=n.useCallback((e=>{if(0!==i.length){if("ltr"===h&&"ArrowLeft"===e.code||"rtl"===h&&"ArrowRight"===e.code){if(0===b.current)return;return b.current-=1,void m(b.current)}return"ltr"===h&&"ArrowRight"===e.code||"rtl"===h&&"ArrowLeft"===e.code?b.current===i.length-1?void r?.():(b.current+=1,void m(b.current)):"Home"===e.code?(b.current=0,void m(b.current)):"End"===e.code?(b.current=i.length-1,void m(b.current)):ue.isSelectAll(e)?(p(i.map((e=>e.value))),void e.preventDefault()):void 0}}),[i,h,r,m,p]),g=n.useCallback((()=>{p((e=>e.length||void 0===x.current.value?e:(b.current=x.current.index,[x.current.value])))}),[]),F=n.useCallback((()=>{S()}),[S]),{focusProps:C}=de.useFocusWithin({onBlurWithin:F});n.useImperativeHandle(t,(()=>({blur:F,focus:g})),[F,g]),n.useEffect((()=>{c.current?.scrollTo({left:c.current.scrollWidth*("ltr"===h?1:-1)})}),[i,h]);const D=Ke(e),A=pe.classNames([ve.textTagListStyles.textTagListBase,a&&ve.textTagListStyles.textTagListInsideLabel]);return s.jsx("div",{class:A,ref:c,tabIndex:-1,onKeyDown:T,role:"listbox","aria-label":o,"aria-multiselectable":"true",style:D,...C,children:i.map(((e,t)=>s.jsx(ke,{isFocused:b.current===t,isSelected:u.includes(e.value),onRemoveAction:v,onSelect:w,onRemoveIconClick:f,removeIcon:l,value:e.value,children:e.label},e.value)))})}));function je({displayValue:e,isAddToListShown:t,isKeyboardNavigable:o,isTextTagListShown:a,isUserFiltering:l,liveRegionText:r,onExitNavigation:c,onRemove:u,removeIcon:p,selectedValuesDescriptionId:h,selectedValuesKeyboardNavDescriptionId:b,textTagListData:y,textTagListRef:x,userInput:m,virtualKeyboard:S,...f}){const v=K.useTranslationBundle("@oracle/oraclejet-preact"),w=t?v.select_addToListAvailable():void 0,T=o&&e&&e.length>0?v.selectMultiple_highlightSelectedTagsInstructionText():void 0,{isInputFocused:g}=se.useFormFieldContext(),[F,C]=n.useState(T),[D,A]=n.useState(!1);return g&&a&&!F&&T&&!D?A(!0):g||!D||A(!1),F!==T&&C(T),s.jsxs(s.Fragment,{children:[a&&s.jsx(Ue,{"aria-label":v.selectMultiple_selectedValues(),data:y,hasInsideLabel:f.hasInsideLabel,maxWidth:"50%",onExitNavigation:c,onRemove:u,ref:x,removeIcon:p}),s.jsx(d.Flex,{flex:1,children:s.jsx(i.TextFieldInput,{"aria-autocomplete":"list",autoComplete:"off",hasPrefix:a,role:"combobox",hasEndContent:!0,spellcheck:!1,type:"auto"===S?"search":S,value:l||a?m:e,...f})}),a&&s.jsx(ye.HiddenAccessible,{id:h,isHidden:!0,children:e}),a&&T&&!D&&s.jsx(ye.HiddenAccessible,{id:b,isHidden:!0,children:T}),s.jsx(we.LiveRegion,{children:r}),a&&s.jsx(we.LiveRegion,{children:D?T:void 0}),t?s.jsx(we.LiveRegion,{children:w}):void 0]})}function Pe({onApply:e}){const t=K.useTranslationBundle("@oracle/oraclejet-preact");return s.jsx("div",{class:ge.mobileDropdownFooterStyles.base,children:s.jsx(Fe.Button,{display:"label",edge:"bottom",label:t.selectMultiple_apply(),size:"sm",variant:"callToAction",onAction:e})})}function Be(e,s){const t=K.useTranslationBundle("@oracle/oraclejet-preact").plural_separator();return{displayValue:n.useMemo((()=>{if(void 0===s)return"";const n=function(e,s){const t=s?[...s?.values()]:[],n=s=>Q.renderItemText(s,e),o=t.map(n);return new Set(o)}(e,s),o=function(e,s){return Array.from(e.values()).join(s)}(n,t);return o}),[e,t,s]),textTags:n.useMemo((()=>void 0===s?[]:function(e,s=[]){return s.map((s=>({label:Q.renderItemText(s,e)??"",value:s.key})))}(e,s)),[e,s])}}function Me({isDropdownSelectedOnlyView:e=!1,valueItems:s}){const t=Ce.useEffectEvent((e=>e&&s&&0!==s.length?{offset:0,totalSize:s.length,sizePrecision:"exact",data:s.map((e=>({data:e.data,metadata:e.metadata??{key:e.key}})))}:void 0));return{data:n.useMemo((()=>t(e)),[t,e]),onLoadRange:void 0}}const Oe=[];const Ne=(e,s,t)=>s.data.forEach((s=>{t.has(s.metadata.key)&&e.set(s.metadata.key,{data:s.data,key:s.metadata.key,metadata:s.metadata})})),_e=e=>new Set(e.map((e=>e.key)));function He({"aria-describedby":e,"aria-label":o,assistiveText:i,data:a,dropdownId:l,enabledElementRef:r,helpSourceLink:d,helpSourceText:c,isAddToListShown:u,isDisabled:h,isEmptyResults:b,isFocused:y,isLoading:x,isOpen:m,isReadonly:S,isRequired:f,isSelectedOnlyView:v,isUserFiltering:w,itemRenderer:T,itemText:g,label:F,liveRegionText:C,placeholder:D,propIsLoading:A,searchText:L,selectedValuesDescriptionId:R,setDropdownOpen:I,setUserInput:E,stopFiltering:k,textAlign:V,textTagListRef:U,userAssistanceDensity:j,userInput:P,valueItems:B,virtualKeyboard:M,onAddToListAction:O,onCommit:N,onFieldBlur:_,onFieldFocus:H,onFieldInput:z,onFieldKeyDown:q,onFieldKeyUp:Y,onLoadRange:W}){const $=K.useTranslationBundle("@oracle/oraclejet-preact"),{collectionProps:G,footerProps:Z,selectMultipleFieldInputProps:X,selectMultipleFieldProps:ee,selectedValuesCountProps:se,isDropdownSelectedOnlyView:te}=function({data:e,inputRef:s,isDropdownOpen:t,isDropdownSelectedOnlyView:o,itemText:i,textTagListRef:a,userInput:l,valueItems:r=Oe,onCommit:d,onLoadRange:c,setDropdownOpen:u,setUserInput:p,stopFiltering:h}){const[b,y]=n.useState({rowKey:void 0}),[x,m]=n.useState(_e(r)),[S,f]=n.useState(o),v=n.useRef(new Map),w=n.useMemo((()=>{const e=[];return x.forEach((s=>{const t=r.find((e=>e.key===s));t?e.push(t):v.current.has(s)&&e.push(v.current.get(s))})),e}),[x,r]),{textTags:T,displayValue:g}=Be(i,w),F=n.useRef(null),{data:C,onLoadRange:D}=Me({isDropdownSelectedOnlyView:S,valueItems:w}),A=n.useCallback((e=>{y({rowKey:e.value})}),[y]),L=n.useCallback((s=>{const t=new Set(s.value.keys?.values());m(t),p(""),e&&Ne(v.current,e,t)}),[e,m,p]),R=n.useCallback((({value:e=!1})=>{f((s=>(s!==e&&h(),e)))}),[f,h]),I=n.useCallback((()=>{m(new Set(r.map((e=>e.key)))),v.current.clear(),u(!1),h(),s.current?.focus()}),[s,u,h,r]),E=n.useCallback((()=>{d({previousValue:_e(r),value:x}),I()}),[x,r,I,d]),k=n.useCallback((()=>{I()}),[I]),V=n.useCallback((()=>{m(new Set),h()}),[h]),K=n.useCallback((e=>{const s=new Set(x);e.forEach((e=>s.delete(e))),m(s)}),[x]),U=n.useCallback((()=>{setTimeout((()=>F.current?.focus()),0)}),[]),j=n.useRef(t);n.useEffect((()=>{if(t){if(j.current)return;return setTimeout((()=>F.current?.focus()),0),void(j.current=!0)}j.current=!1}),[t]);const[P,B]=n.useState(r);return P!==r&&(t||m((e=>{const s=_e(r);return De.equals(e,s)?e:s})),B(r)),{collectionProps:{currentKey:b.rowKey,data:S?C:e,selectedKeys:x,onCurrentKeyChange:A,onLoadRange:S?D:c,onSelectionChange:L},footerProps:{onApply:E},selectMultipleFieldInputProps:{displayValue:g,hasEmptyLabel:!1,hasInsideLabel:!0,inputRef:F,isTextTagListShown:T.length>0,isUserFiltering:!0,removeIcon:"always",userInput:l,textTagListData:T,textTagListRef:a,onExitNavigation:U,onRemove:K},selectMultipleFieldProps:{hasInsideLabel:!0,isBackButtonShown:!0,isClearButtonShown:!Q.isSearchTextEmptyOrUndefined(l)||0!==T.length,isDropdownArrowShown:!1,isDropdownSelectedOnlyView:S,isSelectedValuesCountShown:x.size>0||S,selectedValuesCount:x.size,styleVariant:"embedded",onBackButtonClick:k,onClearButtonClick:V},selectedValuesCountProps:{onSelectedValuesCountToggle:R},isDropdownSelectedOnlyView:S}}({data:a,inputRef:r,isDropdownOpen:m,isDropdownSelectedOnlyView:v,itemText:g,textTagListRef:U,userInput:P,valueItems:B,onCommit:N,onLoadRange:W,setDropdownOpen:I,setUserInput:E,stopFiltering:k}),{formFieldContext:ne,inputProps:oe,labelProps:ie,textFieldProps:ae,userAssistanceProps:le}=J.useTextField({ariaDescribedBy:e,helpSourceLink:d,helpSourceText:c,isDisabled:!1,isFocused:y,isLoading:x,isReadonly:!1,isRequiredShown:!1,labelEdge:"inside",styleVariant:"default",value:ee.selectedValuesCount>0||void 0});ne.hasValue=A||ne.hasValue;const re={label:s.jsx(t.Label,{...ie,children:F}),labelEdge:"inside"},de=!m||h||S||!i&&!d||"efficient"!==j&&"reflow"!==j?void 0:s.jsx(Q.DropdownUserAssistance,{assistiveText:i,fieldLabel:F,helpSourceLink:d,helpSourceText:c,userAssistanceDensity:j,...le}),ce=b?u?void 0:s.jsx(Q.EmptyResults,{}):s.jsx(Q.DefaultList,{...G,"aria-label":F??"",itemRenderer:T,itemText:g,searchText:te?void 0:w?L:void 0,selectionMode:"multiple"}),ue=u?s.jsx(Q.LinkItem,{onAction:O,children:$.select_addToList()}):void 0;return s.jsx(Q.SelectMobileDropdown,{header:s.jsxs(p.FormFieldContext.Provider,{value:ne,children:[s.jsx(Te.View,{children:s.jsx(Ee,{fieldLabel:F,onBlur:_,onFocus:H,...re,...ae,...ee,...se,children:s.jsx(je,{"aria-controls":l,"aria-expanded":m,"aria-label":o,isAddToListShown:u,isRequired:f,liveRegionText:C,placeholder:D,selectedValuesDescriptionId:R,textAlign:V,virtualKeyboard:M,onInput:z,onKeyDown:q,onKeyUp:Y,...oe,...X})})}),de]}),footer:s.jsx(Pe,{...Z}),id:l,isOpen:m,children:s.jsxs(Q.DropdownList,{hasTopGap:!ue,hasBottomGap:!0,isLoading:null===a,children:[ce,ue]})})}function ze(e){const s=e?.reduce(((e,s)=>(e.add(s.key),e)),new Set);return s}const qe=o.forwardRef((({addToList:e="off","aria-describedby":o,assistiveText:i,columnSpan:a,data:d,helpSourceLink:c,helpSourceText:h,isDisabled:b,isLoading:y,isReadonly:x,isRequired:m,isRequiredShown:S,itemRenderer:f,itemText:v,label:w,labelEdge:T,labelStartWidth:g,messages:F,onAddToListAction:C,onCommit:D,onFilter:A,onLoadRange:L,placeholder:R,testId:I,textAlign:E,userAssistanceDensity:k,valueItems:V,variant:U="default",virtualKeyboard:j},P)=>{const{isDisabled:B,isReadonly:M,labelEdge:_,labelStartWidth:z,textAlign:q,userAssistanceDensity:Y}=u.useFormContext(),W=b??B,$=x??M,X=T??_,ee=g??z,se=E??q,te=k??Y,{enabledElementRef:ne,focusProps:oe,isFocused:ie,readonlyElementRef:ae}=G.useFocusableTextField({isDisabled:W,isReadonly:$,ref:P}),{addToListEventHandlers:le,ariaProps:re,collectionProps:de,data:pe,dropdownArrowEventHandlers:he,dropdownEventHandlers:be,dropdownRef:ye,hasSelectedValuesCount:xe,inputEventHandlers:me,isAddToListShown:fe,isDataFetched:ve,isDropdownAbove:we,isDropdownOpen:Te,isDropdownSelectedOnlyView:ge,isEmptyResults:Fe,isFocused:Ce,isUserFiltering:De,mainFieldRef:Ie,mouseProps:ke,searchText:Ve,selectedValuesCountProps:Ke,selectedValuesDescriptionId:Ue,selectedValuesKeyboardNavDescriptionId:Pe,setDropdownOpen:Oe,setUserInput:Ne,stopFiltering:_e,textTagListProps:qe,userInput:Ye}=function({addToList:e,ariaDescribedBy:s,data:t,inputRef:o,isDisabled:i,isFocused:a,isReadonly:l,onAddToListAction:r,onCommit:d,onFilter:c,onLoadRange:u,valueItems:p}){const[h,b]=n.useState(!1),y=p?.length,x=void 0!==y&&y>0||h,m=Me({isDropdownSelectedOnlyView:h,valueItems:p}),S=h?m.data:t,f=h?m.onLoadRange:u,v=n.useCallback((e=>{Q.isSearchTextEmptyOrUndefined(e.searchText)||b(!1),c?.(e)}),[c]),{currentRow:w,dropdownRef:T,handleDropdownArrowClick:g,handleDropdownAutoDismiss:F,handleDropdownPosition:C,handleInput:D,handleMainFieldKeyDown:A,handleMainFieldKeyUp:L,handleUpDownArrowKeys:R,isDropdownAbove:I,isDropdownOpen:E,isFocused:k,isUserFiltering:V,mainFieldRef:K,onCurrentKeyChange:U,onMouseDown:j,searchText:P,setCurrentRow:B,setDropdownOpen:M,setUserInput:O,stopFiltering:N,userInput:_}=Q.useSelectCommon({data:S,inputRef:o,isFocused:a,onFilter:v}),[H,z]=n.useState(E),[q,Y]=n.useState(p),[W,$]=n.useState(ze(p)),G=null!=S&&!Q.isBeforeDataFetch(S),Z=G&&0===S?.totalSize,J="on"===e&&V&&null!=P&&P.length>0&&Z,X=n.useCallback((()=>{M(!1),N(),r?.({searchText:V?P:void 0})}),[V,r,P,M,N]),ee=n.useRef(null),{direction:se}=ce.useUser(),te=Se.useId(),ne=Se.useId(),oe=Le.merge([k&&ne,k&&te,s]),ie=n.useCallback((()=>{T.current?.parentElement?.removeChild(T.current)}),[T]),ae=n.useCallback((e=>V&&E&&!Q.isSearchTextEmptyOrUndefined(_)&&(S?.data.length??0)>0&&void 0!==e.rowKey),[S,E,V,_]),le=n.useCallback((e=>{if(W?.has(e))return;const s=void 0===W?new Set([e]):new Set([...W.values(),e]);d({previousValue:W,value:s}),$(s)}),[d,W,$]),re=n.useCallback((e=>{if(E&&"keydown"===e?.type){const s=e;s.code===ue.KEYS.TAB&&(s.shiftKey||!x?o.current?.focus():pe.current?.focus(),ie())}}),[x,o,E,ie]),de=n.useCallback((e=>{if(!ue.isControlOrFunctionKey(e))switch(e.code){case ue.KEYS.TAB:E&&(e.shiftKey||!x&&!e.shiftKey)&&(ie(),M(!1)),x&&!e.shiftKey&&e.stopPropagation();break;case ue.KEYS.LEFT:"ltr"===se&&o.current instanceof HTMLInputElement&&0===o.current?.selectionStart&&0===o.current?.selectionEnd&&ee.current?.focus();break;case ue.KEYS.RIGHT:"rtl"===se&&o.current instanceof HTMLInputElement&&0===o.current?.selectionStart&&0===o.current?.selectionEnd&&ee.current?.focus();break;case ue.KEYS.ENTER:case ue.KEYS.NUMPAD_ENTER:if(Q.isPhone())return;if(J)return void X();ae(w)&&(M(!1),N(),le(w.rowKey))}}),[w,se,X,x,o,J,E,ie,le,M,ae,N]);if(q!==p){const e=ze(p);$(e)}const pe=n.useRef(null);n.useEffect((()=>{pe.current=x&&K.current?.querySelector?K.current.querySelector('[role="switch"]'):null}),[x,i,l,K]);const he=n.useCallback((e=>{switch(e.code){case ue.KEYS.TAB:E&&!e.shiftKey&&(ie(),M(!1)),e.shiftKey&&e.stopPropagation();break;case ue.KEYS.UP:case ue.KEYS.DOWN:e.preventDefault();break;case ue.KEYS.ESC:E&&(M(!1),e.preventDefault(),e.stopPropagation());break;case ue.KEYS.ENTER:e.stopPropagation()}}),[E,ie,M]),be=n.useCallback((e=>{switch(e.code){case ue.KEYS.UP:case ue.KEYS.DOWN:R(e)}}),[R]),ye=n.useCallback((e=>{e.preventDefault(),o.current?.focus()}),[o]),xe=n.useCallback((e=>{E||M(!0);const s=e.value??!1;s!==h&&(b(s),s&&N())}),[E,h,M,N]);!E&&h&&b(!1);const me=n.useCallback((e=>{const s=new Set(e.value.keys?.values());$(s),O(""),d?.({value:s,previousValue:W})}),[d,W,$,O]),fe=n.useCallback((()=>{setTimeout((()=>o.current?.focus()),0)}),[o]),ve=n.useCallback((e=>{const s=W,t=new Set(W);e.forEach((e=>t.delete(e))),d?.({previousValue:s,value:t})}),[d,W]),we=n.useMemo((()=>Ae.mergeProps({onAutoDismiss:F,onPosition:C},{onAutoDismiss:re})),[F,C,re]),Te=n.useMemo((()=>Ae.mergeProps({onInput:D,onKeyDown:A,onKeyUp:L},{onKeyDown:de})),[A,D,L,de]),ge=n.useMemo((()=>({textTagListRef:ee,onExitNavigation:fe,onRemove:ve})),[fe,ve]);E&&!H&&B({rowKey:void 0}),H&&!E&&!_&&N();const Fe=n.useRef(S);if(Fe.current!==S){const e=S?.data[0]?.metadata.key;E&&V&&null!=e&&0===S?.offset&&B({rowKey:Q.isSearchTextEmptyOrUndefined(P)?void 0:e}),Fe.current=S}return H!==E&&z(E),q!==p&&Y(p),{addToListEventHandlers:{onAction:X},ariaProps:{ariaDescribedBy:oe},collectionProps:{currentKey:w.rowKey,data:S,onCurrentKeyChange:U,onSelectionChange:me,onLoadRange:f,selectedKeys:W},data:S,dropdownArrowEventHandlers:{onClick:g},dropdownEventHandlers:we,dropdownRef:T,hasSelectedValuesCount:x,inputEventHandlers:Te,inputRef:o,isAddToListShown:J,isDataFetched:G,isDropdownAbove:I,isDropdownOpen:E,isDropdownSelectedOnlyView:h,isEmptyResults:Z,isFocused:k,isUserFiltering:V,mainFieldRef:K,mouseProps:i||l?{}:{onMouseDown:j},searchText:P,selectedValuesCountProps:{onKeyDown:he,onKeyUp:be,onMouseDown:ye,onToggle:xe},selectedValuesDescriptionId:te,selectedValuesKeyboardNavDescriptionId:ne,setDropdownOpen:M,setUserInput:O,stopFiltering:N,textTagListProps:ge,userInput:_}}({addToList:e,ariaDescribedBy:o,data:d,inputRef:ne,isDisabled:W,isFocused:ie,isReadonly:$,onAddToListAction:C,onCommit:D,onFilter:A,onLoadRange:L,valueItems:V}),We=Z.useLoadingIndicatorTimer(y??!1),{baseId:$e,formFieldContext:Ge,inputProps:Ze,labelProps:Je,textFieldProps:Qe,userAssistanceProps:Xe}=J.useTextField({ariaDescribedBy:re.ariaDescribedBy,helpSourceLink:c,helpSourceText:h,isDisabled:W,isFocused:Ce,isLoading:We,isReadonly:$,isRequiredShown:S,labelEdge:X,messages:F,styleVariant:U,userAssistanceDensity:te,value:void 0!==V&&V.length>0||void 0});Ge.hasValue=y||Ge.hasValue;const es=`${$e}-dropdown`,{displayValue:ss,textTags:ts}=Be(v,V),ns="none"!==X?s.jsx(t.Label,{...Je,...Q.isPhone()?{forId:void 0}:{},children:w}):void 0,os={label:"none"!==X?ns:void 0,labelEdge:"none"!==X?X:void 0,labelStartWidth:"none"!==X?ee:void 0},is="none"===X?w:void 0,as="efficient"===te||"reflow"===te?W||$?"efficient"!==te?void 0:s.jsx(O.InlineUserAssistance,{userAssistanceDensity:te,...Xe}):s.jsx(O.InlineUserAssistance,{assistiveText:i,fieldLabel:w,helpSourceLink:c,helpSourceText:h,messages:F,isRequiredShown:S,userAssistanceDensity:te,...Xe}):void 0,ls="compact"===te?s.jsx(N.CompactUserAssistance,{anchorRef:Ie,messages:F,assistiveText:i,...Xe}):void 0,rs=K.useTranslationBundle("@oracle/oraclejet-preact");if($){const e=s.jsx(l.ReadonlyTextFieldInput,{"aria-describedby":Ze["aria-describedby"],"aria-label":is,"aria-labelledby":Je.id,as:"div",elementRef:ae,hasEmptyLabel:""===w&&"none"===X,hasInsideLabel:void 0!==w&&"inside"===X,textAlign:se,value:ss});return s.jsx(p.FormFieldContext.Provider,{value:Ge,children:s.jsx(r.ReadonlyTextField,{role:"presentation",columnSpan:a,compactUserAssistance:ls,inlineUserAssistance:as,onBlur:oe.onFocusOut,onFocus:oe.onFocusIn,ref:Ie,mainContent:e,testId:I,...os})})}const ds="inside"===X,cs=Te&&ve?0===pe?.totalSize?rs.select_noMatchesFound():1===pe?.totalSize?rs.select_oneMatchFound():"exact"===pe?.sizePrecision?rs.select_sizeMatchesFound({TOTAL_SIZE:`${pe?.totalSize}`}):rs.select_sizeOrMoreMatchesFound({TOTAL_SIZE:`${pe?.totalSize}`}):"",us=Te&&void 0!==pe&&(null===pe||pe.totalSize>0||Q.isBeforeDataFetch(pe)||Fe),ps=""===w&&"none"===X,hs=Q.isPhone()&&!W?s.jsx(Q.SelectMobileFieldInput,{"aria-controls":es,"aria-describedby":Ze["aria-describedby"],"aria-expanded":Te,"aria-invalid":Ze["aria-invalid"],"aria-label":is,"aria-labelledby":Je.id,displayValue:ss,hasEmptyLabel:ps,hasInsideLabel:ds,isRequired:m,onBlur:Ze.onBlur,onFocus:Ze.onFocus,placeholder:R,ref:ne,textAlign:se,variant:Ze.variant}):s.jsx(je,{"aria-controls":es,"aria-expanded":Te,"aria-label":is,displayValue:ss,hasEmptyLabel:ps,hasInsideLabel:ds,inputRef:ne,isAddToListShown:fe,isKeyboardNavigable:!W&&!Q.isMobile(),isRequired:m,isTextTagListShown:Ce&&0!==ts.length,isUserFiltering:De,liveRegionText:cs,placeholder:R,removeIcon:Q.isTablet()?"always":"never",selectedValuesDescriptionId:Ue,selectedValuesKeyboardNavDescriptionId:Pe,textAlign:se,textTagListData:ts,userInput:Ye,virtualKeyboard:Q.isTablet()?j:void 0,...me,...Ze,...qe}),bs=us?Q.isPhone()?s.jsx(He,{"aria-describedby":re.ariaDescribedBy,"aria-label":is,assistiveText:i,data:d,dropdownId:es,enabledElementRef:ne,helpSourceLink:c,helpSourceText:h,isAddToListShown:fe,isDisabled:W,isEmptyResults:Fe,isFocused:Ce,isLoading:We,isOpen:us,isReadonly:$,isRequired:m,isSelectedOnlyView:ge,isUserFiltering:De,itemRenderer:f,itemText:v,label:w,liveRegionText:cs,placeholder:R,propIsLoading:y,searchText:Ve,selectedValuesDescriptionId:Ue,setDropdownOpen:Oe,setUserInput:Ne,stopFiltering:_e,textAlign:se,textTagListRef:qe.textTagListRef,userAssistanceDensity:te,userInput:Ye,valueItems:V,virtualKeyboard:j,onAddToListAction:le.onAction,onCommit:D,onFieldBlur:oe.onFocusOut,onFieldFocus:oe.onFocusIn,onFieldInput:me.onInput,onFieldKeyDown:me.onKeyDown,onFieldKeyUp:me.onKeyUp,onLoadRange:L}):s.jsx(Re,{...de,...be,assistiveText:i,dropdownId:es,dropdownRef:ye,helpSourceLink:c,helpSourceText:h,isAddToListShown:fe,isDisabled:W,isDropdownAbove:we,isEmptyResults:Fe,isOpen:us,isReadonly:$,isSelectedOnlyView:ge,isUserFiltering:De,itemRenderer:f,itemText:v,label:w,mainFieldRef:Ie,onAddToListAction:le.onAction,searchText:Ve,userAssistanceDensity:te}):null;return s.jsxs(H.Fragment,{children:[s.jsx(p.FormFieldContext.Provider,{value:Ge,children:s.jsx(Ee,{columnSpan:a,compactUserAssistance:ls,fieldLabel:w,hasInsideLabel:ds,inlineUserAssistance:as,isDropdownArrowShown:!0,isDropdownSelectedOnlyView:ge,isSelectedValuesCountShown:xe,mainFieldRef:Ie,onBlur:oe.onFocusOut,onFocus:oe.onFocusIn,onDropdownArrowClick:he.onClick,onSelectedValuesCountKeyDown:Ke.onKeyDown,onSelectedValuesCountKeyUp:Ke.onKeyUp,onSelectedValuesCountMouseDown:Ke.onMouseDown,onSelectedValuesCountToggle:Ke.onToggle,selectedValuesCount:V?.length,testId:I,...os,...ke,...Qe,children:hs})}),bs]})}));e.SelectMultiple=qe}));
//# sourceMappingURL=SelectMultiple-fabd883c.js.map
