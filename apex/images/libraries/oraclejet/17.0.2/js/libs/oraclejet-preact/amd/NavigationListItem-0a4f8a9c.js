define(['exports', 'preact/jsx-runtime', 'preact/hooks', './mergeProps-bcfa6a92', './classNames-08d99695', './useId-c9578d26', './UNSAFE_NavigationList/themes/NavigationListStyles.css', './collectionUtils-6740111c', './useCollectionFocusRing-64636529', './useCurrentKey-00f81f0b', 'preact/compat', './useTestId-82cf22a4', './UNSAFE_Text/themes/TextStyles.css', './BaseNavigationListItem-4a940426', './Flex-1f27b601', './logger-0f873e29', 'preact', './useTooltipControlled-abf886f2', 'css!./IconStyle.styles.css', './UNSAFE_NavigationList/themes/NavigationListItemStyles.css', 'module', './UNSAFE_NavigationList/themes/redwood/NavigationListItemVariants.css', './LayerHost-eab40731'], (function(e,t,n,o,r,s,i,a,c,l,u,d,y,g,f,m,v,b,h,N,I,K,x){"use strict";const C=(e,t,n)=>{const o=e.closest(t),r=e.closest(n);return o?.contains(r)?null:a.keyExtractor(e,t)},S=(e,t,n)=>{const o=n.indexOf(e);if(o>0){const e=n[o===n.length-1?o-1:o+1];if(-1!==t.indexOf(e))return e}return t[0]},L=u.forwardRef((({children:e,selection:y,onSelectionChange:f,onRemove:m,"aria-label":v,"aria-labelledby":b,testId:h},N)=>{const I=n.useRef(null),{showFocusRing:K,currentKey:x,onCurrentKeyChange:L,containerHandlers:R,onKeyDown:w}=function({containerRef:e,selection:t,onRemove:r,onSelectionChange:s,children:i}){const u='[role="tab"]',[d,y]=n.useState(t),g=n.useCallback((e=>{y(e.value)}),[]),{currentKeyProps:f}=l.useCurrentKey((e=>r?C(e,u,"[data-oj-navigationlist-item-remove-icon]"):a.keyExtractor(e,u)),!1,a.getPrevNextKeyUsingRef(e,d,!0,u),a.getPrevNextKeyUsingRef(e,d,!1,u),void 0,void 0,d,g),[m,v]=c.useCollectionFocusRing(e,["Home","End","ArrowUp","ArrowDown"]),b={onFocus:n.useCallback((()=>{if(e.current&&void 0===d){const t=a.getFirstVisibleKey(e.current,u);t&&y(t)}}),[d,e])},h=n.useRef();n.useEffect((()=>{if(e.current){const t=Array.from(e.current.querySelectorAll(u),(e=>a.getKey(e)));if(null!=d&&-1!==t.indexOf(d)){const t=a.findElementByKey(e.current,d,u);t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({block:"nearest"})}else d&&-1===t.indexOf(d)&&(h.current?y(S(d,t,h.current)):y(t[0])),h.current=t}}),[i,d,e]);const N=n.useCallback((t=>{if(("Home"===t.key||"End"===t.key)&&e.current&&d){const n=Array.from(e.current.querySelectorAll(u),(e=>a.getKey(e)));g?.({value:n["Home"===t.key?0:n.length-1]})}d&&"Enter"===t.key&&s?.({value:d,reason:"keyboard"}),d&&"Delete"===t.key&&r?.({value:d})}),[d,s,r,g,e]);return{showFocusRing:m,currentKey:d,onCurrentKeyChange:g,onKeyDown:N,containerHandlers:o.mergeProps(v,f,b)}}({containerRef:I,selection:y,onRemove:m,onSelectionChange:f,children:e}),k={onKeyDown:w},p=r.classNames([i.navigationListStyles.uListStyle]),F=s.useId()+"_",E=d.useTestId(h);return u.useImperativeHandle(N,(()=>({focus:()=>{I.current&&I.current.focus()},blur:()=>{I.current&&I.current.focus()}}))),t.jsx("ul",{"aria-label":v,"aria-labelledby":b,role:"tablist",ref:I,"aria-orientation":"vertical",tabIndex:0,"aria-activedescendant":x?F+x:"",...o.mergeProps(k,R),...E,class:p,children:t.jsx(g.NavigationListContext.Provider,{value:{selection:y,onSelectionChange:f,onCurrentKeyChange:L,currentKey:x,showFocusRing:K,navigationListItemPrefix:F,onRemove:m},children:e})})}));e.NavigationList=L,e.NavigationListItem=function({itemKey:e,label:n,badge:o,metadata:r,severity:s}){return t.jsx(g.BaseNavigationListItem,{itemKey:e,label:n,badge:o,metadata:r,severity:s})}}));
//# sourceMappingURL=NavigationListItem-0a4f8a9c.js.map
