{"version":3,"file":"useDoubleTap-4e290707.js","sources":["../../src/hooks/UNSAFE_useDoubleTap/useDoubleTap.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useCallback, useRef } from 'preact/hooks';\n\ntype CallbackFunction = (event: Event) => void;\n\ntype UseDoubleTapProps = {\n  isSingleTapImmediate?: boolean;\n  onDoubleTap: CallbackFunction;\n  onSingleTap?: CallbackFunction;\n  threshold?: number;\n};\n\n/**\n * A hook that supports double tap on mobile. You can optionally pass an onSingleTap handler\n * which is called if the user taps once, but doesn't tap again within the threshold waiting\n * period (isSingleTapImmediate = false). If isSingleTapImmediate is true, onSingleTap is\n * invoked immediately after the first tap.\n *\n * If the user taps again within the threshold wait period, then onDoubleTap is called.\n */\nexport function useDoubleTap({\n  isSingleTapImmediate = true,\n  onDoubleTap,\n  onSingleTap,\n  threshold = 400\n}: UseDoubleTapProps) {\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const handler = useCallback(\n    (event: MouseEvent) => {\n      if (!timerRef.current) {\n        isSingleTapImmediate && onSingleTap?.(event);\n        timerRef.current = setTimeout(() => {\n          !isSingleTapImmediate && onSingleTap?.(event);\n          timerRef.current = null;\n        }, threshold);\n      } else {\n        clearTimeout(timerRef.current);\n        timerRef.current = null;\n        onDoubleTap?.(event);\n      }\n    },\n    [isSingleTapImmediate, onDoubleTap, onSingleTap, threshold]\n  );\n\n  return { onClick: handler };\n}\n"],"names":[],"mappings":";;;AAAA;;;;;;AAMG;AAaH;;;;;;;AAOG;AACa,SAAA,YAAY,CAAC,EAC3B,oBAAoB,GAAG,IAAI,EAC3B,WAAW,EACX,WAAW,EACX,SAAS,GAAG,GAAG,EACG,EAAA;AAClB,IAAA,MAAM,QAAQ,GAAG,MAAM,CAAuC,IAAI,CAAC,CAAC;AAEpE,IAAA,MAAM,OAAO,GAAG,WAAW,CACzB,CAAC,KAAiB,KAAI;AACpB,QAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;AACrB,YAAA,oBAAoB,IAAI,WAAW,GAAG,KAAK,CAAC,CAAC;AAC7C,YAAA,QAAQ,CAAC,OAAO,GAAG,UAAU,CAAC,MAAK;AACjC,gBAAA,CAAC,oBAAoB,IAAI,WAAW,GAAG,KAAK,CAAC,CAAC;AAC9C,gBAAA,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;aACzB,EAAE,SAAS,CAAC,CAAC;SACf;aAAM;AACL,YAAA,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AAC/B,YAAA,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;AACxB,YAAA,WAAW,GAAG,KAAK,CAAC,CAAC;SACtB;KACF,EACD,CAAC,oBAAoB,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,CAAC,CAC5D,CAAC;AAEF,IAAA,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;AAC9B;;;;"}