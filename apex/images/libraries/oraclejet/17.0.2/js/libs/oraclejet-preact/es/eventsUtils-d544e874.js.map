{"version":3,"file":"eventsUtils-d544e874.js","sources":["../../src/utils/UNSAFE_visUtils/eventsUtils.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Ref } from 'preact/hooks';\n\n/**\n * Return the dataset info of target element.\n * @param target\n * @param rootRef\n * @returns\n */\nexport function getElementData(rootRef: Ref<Element>, target: HTMLElement) {\n  let currentTarget = target;\n\n  while (currentTarget != rootRef.current) {\n    const objectId = currentTarget.dataset['ojObject'];\n    if (objectId) {\n      return currentTarget.dataset;\n    }\n    currentTarget = currentTarget.parentElement!;\n  }\n  return null;\n}\n\n/**\n * Parses the groupIndex and ItemIndex from the fiven DOMStringMap.\n * @param infoMap\n */\nexport function parseInfo(infoMap: DOMStringMap) {\n  return {\n    groupIndex: infoMap['ojGroupIndex'] ? parseInt(infoMap['ojGroupIndex'], 10) : undefined,\n    seriesIndex: infoMap['ojSeriesIndex'] ? parseInt(infoMap['ojSeriesIndex'], 10) : undefined\n  };\n}\n\n/**\n * Returns the group or item info.\n * @param rootRef\n * @param event\n * @returns\n */\nexport function getInfo(rootRef: Ref<HTMLElement>, target: HTMLElement) {\n  const elDomMap = getElementData(rootRef, target);\n  if (!elDomMap) {\n    return;\n  }\n\n  return parseInfo(elDomMap);\n}\n\n/**\n * Prevent defaults and stops propagation of event.\n * @param event\n */\nexport function cancelEvent(event: Event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n/**\n * Compares if two sets are equal.\n */\nexport const isEqual = <T>(setA: Set<T>, setB: Set<T>) => {\n  return setA.size === setB.size && [...setA].every((value) => setB.has(value));\n};\n"],"names":[],"mappings":";AAAA;;;;;;AAMG;AAIH;;;;;AAKG;AACa,SAAA,cAAc,CAAC,OAAqB,EAAE,MAAmB,EAAA;IACvE,IAAI,aAAa,GAAG,MAAM,CAAC;AAE3B,IAAA,OAAO,aAAa,IAAI,OAAO,CAAC,OAAO,EAAE;QACvC,MAAM,QAAQ,GAAG,aAAa,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,QAAQ,EAAE;YACZ,OAAO,aAAa,CAAC,OAAO,CAAC;SAC9B;AACD,QAAA,aAAa,GAAG,aAAa,CAAC,aAAc,CAAC;KAC9C;AACD,IAAA,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;AAGG;AACG,SAAU,SAAS,CAAC,OAAqB,EAAA;IAC7C,OAAO;QACL,UAAU,EAAE,OAAO,CAAC,cAAc,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,GAAG,SAAS;QACvF,WAAW,EAAE,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,GAAG,SAAS;KAC3F,CAAC;AACJ,CAAC;AAED;;;;;AAKG;AACa,SAAA,OAAO,CAAC,OAAyB,EAAE,MAAmB,EAAA;IACpE,MAAM,QAAQ,GAAG,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACjD,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO;KACR;AAED,IAAA,OAAO,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC7B,CAAC;AAED;;;AAGG;AACG,SAAU,WAAW,CAAC,KAAY,EAAA;IACtC,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,KAAK,CAAC,eAAe,EAAE,CAAC;AAC1B,CAAC;AAED;;AAEG;MACU,OAAO,GAAG,CAAI,IAAY,EAAE,IAAY,KAAI;IACvD,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AAChF;;;;"}