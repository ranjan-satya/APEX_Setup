{"version":3,"file":"ComponentMessageContainer-a9195577.js","sources":["../../src/UNSAFE_ComponentMessage/ComponentMessage.tsx","../../src/UNSAFE_ComponentMessage/ComponentMessageContainer.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { isSeverityIconNeeded, MessageStartIcon, MessageSummary } from '../PRIVATE_Message';\nimport { HiddenAccessible } from '../UNSAFE_HiddenAccessible';\nimport { ComponentMessageVariantOptions } from './themes/ComponentMessageStyles.css';\nimport { ComponentMessageRedwoodTheme } from './themes/redwood/ComponentMessageTheme';\nimport { classNames } from '#utils/UNSAFE_classNames';\nimport { type TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\nimport { UserAssistanceRedwoodTheme } from '#UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme';\n/**\n * A type for a single component message\n */\nexport type ComponentMessageItem = {\n  summary?: string;\n  detail?: string;\n  severity?: 'confirmation' | 'error' | 'info' | 'warning';\n};\n\n/**\n * Props for the Message Component\n */\ntype Props = TestIdProps & {\n  /**\n   * The error detail text for the component message\n   */\n  detail?: ComponentMessageItem['detail'];\n\n  /**\n   * The label of the field which is showing this error\n   */\n  fieldLabel?: string;\n\n  /**\n   * The severity of the component message\n   */\n  severity?: ComponentMessageItem['severity'];\n};\n\n/**\n * The component that renders an individual message for inline component messaging.\n */\nexport function ComponentMessage({ detail, fieldLabel, severity = 'error', testId }: Props) {\n  const { classes } = useComponentTheme<ComponentMessageVariantOptions>(\n    ComponentMessageRedwoodTheme,\n    {\n      severity: severity ?? 'none'\n    }\n  );\n\n  const { baseTheme } = useComponentTheme(UserAssistanceRedwoodTheme);\n  const styleClasses = classNames([classes, baseTheme]);\n  const testIdProps = useTestId(testId);\n\n  return (\n    <div class={styleClasses} aria-live=\"assertive\" aria-atomic=\"true\" {...testIdProps}>\n      {fieldLabel && <HiddenAccessible>{fieldLabel}</HiddenAccessible>}\n      {isSeverityIconNeeded(severity) && (\n        <MessageStartIcon\n          severity={severity}\n          testId={testId ? `${testId}-icon` : undefined}\n          variant=\"inline\"\n        />\n      )}\n      {/* We will be using the MessageSummary component, as this aligns with the style required */}\n      <MessageSummary\n        testId={testId ? `${testId}-summary` : undefined}\n        text={detail}\n        variant=\"inline\"\n      />\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { MessagesManager } from '../PRIVATE_Message';\nimport { Item } from '../utils/UNSAFE_dataProvider';\nimport { ComponentMessage, ComponentMessageItem } from './ComponentMessage';\nimport { componentMessageContainerBase } from './themes/ComponentMessageStyles.css';\nimport { type TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\n\n/**\n * Converts the messages data into Item\n *\n * @param messages The messages data passed down as prop\n * @returns The messages data as Item\n */\nfunction generateMessagesData(messages: ComponentMessageItem[]) {\n  return messages.map<Item<number, ComponentMessageItem>>((message, index) => {\n    return {\n      key: index,\n      data: {\n        closeAffordance: 'off',\n        severity: message.severity || 'error',\n        detail: message.detail\n      }\n    };\n  });\n}\n\n/**\n * Props for the ComponentMessaging component\n */\ntype Props = TestIdProps & {\n  /**\n   * The label of the field which is showing this error\n   */\n  fieldLabel?: string;\n\n  /**\n   * Data for the messages. This data is used for rendering each message.\n   */\n  messages?: ComponentMessageItem[];\n};\n\nexport function ComponentMessageContainer({ fieldLabel, messages = [], testId }: Props) {\n  const testIdProps = useTestId(testId);\n  return (\n    <div class={componentMessageContainerBase} {...testIdProps}>\n      <MessagesManager data={generateMessagesData(messages)}>\n        {({ item }) => (\n          <ComponentMessage\n            key={item.key}\n            detail={item.data.detail}\n            fieldLabel={fieldLabel}\n            severity={item.data.severity}\n            testId={testId ? `${testId}-message-${item.key}` : undefined}\n          />\n        )}\n      </MessagesManager>\n    </div>\n  );\n}\n"],"names":["useComponentTheme","ComponentMessageRedwoodTheme","UserAssistanceRedwoodTheme","classNames","useTestId","_jsxs","_jsx","HiddenAccessible","isSeverityIconNeeded","MessageStartIcon","MessageSummary","componentMessageContainerBase","MessagesManager"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEG;AACa,SAAA,gBAAgB,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,GAAG,OAAO,EAAE,MAAM,EAAS,EAAA;AACxF,IAAA,MAAM,EAAE,OAAO,EAAE,GAAGA,mCAAiB,CACnCC,yFAA4B,EAC5B;QACE,QAAQ,EAAE,QAAQ,IAAI,MAAM;AAC7B,KAAA,CACF,CAAC;IAEF,MAAM,EAAE,SAAS,EAAE,GAAGD,mCAAiB,CAACE,mFAA0B,CAAC,CAAC;IACpE,MAAM,YAAY,GAAGC,qBAAU,CAAC,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;AACtD,IAAA,MAAM,WAAW,GAAGC,mBAAS,CAAC,MAAM,CAAC,CAAC;AAEtC,IAAA,QACEC,eAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAE,YAAY,eAAY,WAAW,EAAA,aAAA,EAAa,MAAM,EAAA,GAAK,WAAW,EAC/E,QAAA,EAAA,CAAA,UAAU,IAAIC,cAAC,CAAAC,iCAAgB,cAAE,UAAU,EAAA,CAAoB,EAC/DC,oCAAoB,CAAC,QAAQ,CAAC,KAC7BF,eAACG,gCAAgB,EAAA,EACf,QAAQ,EAAE,QAAQ,EAClB,MAAM,EAAE,MAAM,GAAG,CAAA,EAAG,MAAM,CAAA,KAAA,CAAO,GAAG,SAAS,EAC7C,OAAO,EAAC,QAAQ,EAChB,CAAA,CACH,EAEDH,cAAC,CAAAI,8BAAc,IACb,MAAM,EAAE,MAAM,GAAG,CAAA,EAAG,MAAM,CAAU,QAAA,CAAA,GAAG,SAAS,EAChD,IAAI,EAAE,MAAM,EACZ,OAAO,EAAC,QAAQ,EAChB,CAAA,CAAA,EAAA,CACE,EACN;AACJ;;AChEA;;;;;AAKG;AACH,SAAS,oBAAoB,CAAC,QAAgC,EAAA;IAC5D,OAAO,QAAQ,CAAC,GAAG,CAAqC,CAAC,OAAO,EAAE,KAAK,KAAI;QACzE,OAAO;AACL,YAAA,GAAG,EAAE,KAAK;AACV,YAAA,IAAI,EAAE;AACJ,gBAAA,eAAe,EAAE,KAAK;AACtB,gBAAA,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,OAAO;gBACrC,MAAM,EAAE,OAAO,CAAC,MAAM;AACvB,aAAA;SACF,CAAC;AACJ,KAAC,CAAC,CAAC;AACL,CAAC;AAiBK,SAAU,yBAAyB,CAAC,EAAE,UAAU,EAAE,QAAQ,GAAG,EAAE,EAAE,MAAM,EAAS,EAAA;AACpF,IAAA,MAAM,WAAW,GAAGN,mBAAS,CAAC,MAAM,CAAC,CAAC;AACtC,IAAA,QACEE,cAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAEK,uFAA6B,EAAM,GAAA,WAAW,EACxD,QAAA,EAAAL,cAAA,CAACM,+BAAe,EAAC,EAAA,IAAI,EAAE,oBAAoB,CAAC,QAAQ,CAAC,EAClD,QAAA,EAAA,CAAC,EAAE,IAAI,EAAE,MACRN,cAAA,CAAC,gBAAgB,EAAA,EAEf,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EACxB,UAAU,EAAE,UAAU,EACtB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAC5B,MAAM,EAAE,MAAM,GAAG,CAAG,EAAA,MAAM,CAAY,SAAA,EAAA,IAAI,CAAC,GAAG,CAAA,CAAE,GAAG,SAAS,EAAA,EAJvD,IAAI,CAAC,GAAG,CAKb,CACH,EACe,CAAA,EAAA,CACd,EACN;AACJ;;;;;"}