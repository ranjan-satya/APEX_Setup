{"version":3,"file":"useTooltipControlled-2044f639.js","sources":["../../src/hooks/UNSAFE_useTooltip/TooltipContent.tsx","../../src/hooks/UNSAFE_useTooltip/TooltipManager.ts","../../src/hooks/UNSAFE_useTooltip/useTooltipControlled.tsx"],"sourcesContent":["import { useAnimation } from '../UNSAFE_useAnimation';\nimport { useComponentTheme } from '../UNSAFE_useComponentTheme';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { HTMLAttributesSignalExcluded } from '../../utils/UNSAFE_attributeUtils';\nimport {\n  TooltipContentVariantOptions,\n  TooltipContentStyles\n} from './themes/TooltipContentStyles.css';\n\nimport { useTestId, TestIdProps } from '../UNSAFE_useTestId';\nimport { useThemeInterpolations } from '../UNSAFE_useThemeInterpolations';\nimport { classNames } from '../../utils/UNSAFE_classNames';\nimport { TooltipContentRedwoodTheme } from './themes/redwood/TooltipContentTheme';\n\ntype IntrinsicProps = Pick<HTMLAttributesSignalExcluded<HTMLDivElement>, 'children'>;\n\ntype Status = 'mounted' | 'unmounted';\n\ntype ContentProps = IntrinsicProps & {\n  id: string;\n  isOpen: boolean;\n  isDatatip: boolean;\n  onTransitionEnd: () => void;\n} & TestIdProps;\n\nexport const TooltipContent = ({\n  children,\n  id,\n  isOpen,\n  isDatatip,\n  onTransitionEnd,\n  testId,\n  ...props\n}: ContentProps) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  const testIdProps = useTestId(testId);\n\n  const { baseTheme, variantClasses, styles } = useComponentTheme<\n    TooltipContentVariantOptions,\n    TooltipContentStyles\n  >(TooltipContentRedwoodTheme, {\n    variant: isDatatip ? 'datatip' : 'tooltip'\n  });\n\n  const schemeClass = useThemeInterpolations();\n\n  const { nodeRef } = useAnimation<Status, HTMLDivElement>(isOpen ? 'mounted' : 'unmounted', {\n    animationStates: {\n      mounted: (_node) => {\n        const childNode = _node.firstChild as HTMLDivElement;\n        return {\n          from: {\n            maxHeight: '0',\n            opacity: '0%'\n          },\n          to: {\n            maxHeight: `${childNode?.offsetHeight}px`,\n            opacity: isDatatip ? '100%' : '95%'\n          },\n          options: {\n            duration: isDatatip ? 1 : 100,\n            easing: [0.0, 0.0, 0.2, 1]\n          }\n        };\n      },\n      unmounted: (_node) => {\n        return {\n          from: {\n            opacity: isDatatip ? '100%' : '95%'\n          },\n          to: {\n            maxHeight: '0',\n            opacity: '0%'\n          },\n          options: {\n            duration: isDatatip ? 1 : 100,\n            easing: [0.0, 0.0, 0.2, 1]\n          }\n        };\n      }\n    },\n    isAnimatedOnMount: true,\n    onAnimationEnd: () => onTransitionEnd?.()\n  });\n\n  // Set up initial wrapper height so Tooltip can animate from the bottom to the top\n  useEffect(() => {\n    if (wrapperRef.current && popoverRef.current?.offsetHeight) {\n      wrapperRef.current.style.height = `${popoverRef.current?.offsetHeight}px`;\n    }\n  }, []);\n\n  return (\n    <div\n      ref={wrapperRef}\n      id={id}\n      role=\"tooltip\"\n      class={classNames([styles.wrapper, schemeClass, baseTheme])}\n      {...testIdProps}>\n      <div ref={nodeRef} class={styles.inner} {...props}>\n        <div ref={popoverRef} class={classNames([variantClasses, styles.content])}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nexport type TooltipManagerCallback = () => void;\n\n/**\n * A global tooltip manager that\n * - ensures that only one tooltip is shown at a time\n * - detects a Tab key press and allows tooltips to check if their target was focused via keyboard\n */\nexport class TooltipManager {\n  private activeCallback: TooltipManagerCallback | null;\n\n  private tabKeyActive: boolean;\n\n  private keyDownHandler = (event: KeyboardEvent) => {\n    if (event.key === 'Tab') {\n      this.tabKeyActive = true;\n      setTimeout(() => {\n        this.tabKeyActive = false;\n      }, 100);\n    }\n  };\n\n  constructor() {\n    this.activeCallback = null;\n    this.tabKeyActive = false;\n    window.addEventListener('keydown', this.keyDownHandler, true);\n  }\n\n  /**\n   * notifies the previously registered active tooltip callback and registers a new one\n   */\n  public register = (callback: TooltipManagerCallback) => {\n    if (this.activeCallback && this.activeCallback !== callback) {\n      this.activeCallback();\n    }\n    this.activeCallback = callback;\n  };\n\n  /**\n   * resets the registered active callback\n   */\n  public unregister = (callback: TooltipManagerCallback) => {\n    if (this.activeCallback === callback) {\n      this.activeCallback = null;\n    }\n  };\n\n  /**\n   * returns the active Tab key status ('active' means a Tab key press within the last 100ms)\n   */\n  public isTabKeyActive = () => {\n    return this.tabKeyActive;\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { ComponentChild } from 'preact';\nimport { useState, useRef, useEffect, useCallback } from 'preact/hooks';\nimport { useId } from '../UNSAFE_useId';\nimport { Floating, Placement, Coords } from '../../UNSAFE_Floating';\nimport { Layer } from '../../UNSAFE_Layer';\nimport { useHover } from '../UNSAFE_useHover';\nimport { useFocus } from '../UNSAFE_useFocus';\nimport { useTouch } from '../UNSAFE_useTouch';\nimport { mergeProps } from '../../utils/UNSAFE_mergeProps';\nimport { TooltipContent } from './TooltipContent';\nimport { EnvironmentProvider } from '../../UNSAFE_Environment';\nimport { useColorScheme } from '../UNSAFE_useColorScheme';\nimport { TestIdProps } from '../UNSAFE_useTestId';\nimport { TooltipManager } from './TooltipManager';\n\n// Global TooltipManager singleton instance\nconst globalTooltipManager = new TooltipManager();\n\nexport const positions = [\n  'start',\n  'top-start',\n  'top',\n  'top-end',\n  'end',\n  'bottom-end',\n  'bottom',\n  'bottom-start'\n] as const;\ntype Position = (typeof positions)[number];\n\nconst positionToPlacement = (position: Position) => {\n  let placement: Placement = 'bottom';\n\n  switch (position) {\n    case 'top':\n    case 'end':\n    case 'bottom':\n    case 'start':\n      placement = position as Placement;\n      break;\n\n    case 'top-end':\n      placement = 'top-end-corner';\n      break;\n\n    case 'bottom-end':\n      placement = 'bottom-end-corner';\n      break;\n\n    case 'bottom-start':\n      placement = 'bottom-start-corner';\n      break;\n\n    case 'top-start':\n      placement = 'top-start-corner';\n      break;\n  }\n\n  return placement;\n};\n\nexport const anchorTos = ['element', 'pointer'] as const;\ntype AnchorTo = (typeof anchorTos)[number];\n\ntype AnchorModel = { x: AnchorTo; y: AnchorTo };\n\ntype Props = {\n  text?: string;\n  variant?: 'tooltip' | 'datatip';\n  isOpen: boolean;\n  position?: Position;\n  isDisabled?: boolean;\n  focusStrategy?: 'browser' | 'logical';\n  anchor?: AnchorModel;\n  offset?: { mainAxis?: number; crossAxis?: number };\n  onToggle?: (details: { value: boolean }) => void;\n} & TestIdProps;\n\n/**\n * The 'mounting' and 'unmounting' states are related to the animation. The 'unmounted' state\n * is used for conditional rendering. In this state, the Tooltip content is completely removed\n * from the DOM. The 'mountPending' and 'unmountPending' are used when timeout is active.\n * The 'reposition' state is used to trigger a transition with new coordinates within\n * the same element.\n */\ntype Status =\n  | 'unmounted'\n  | 'mountPending'\n  | 'mounting'\n  | 'mounted'\n  | 'unmountPending'\n  | 'unmounting';\n\nexport const useTooltipControlled = ({\n  text,\n  isOpen = false,\n  variant = 'tooltip',\n  position = 'bottom',\n  focusStrategy = 'browser',\n  isDisabled = false,\n  anchor = { x: 'element', y: 'element' },\n  offset = { mainAxis: 0, crossAxis: 0 },\n  onToggle,\n  testId\n}: Props): {\n  tooltipContent: ComponentChild;\n  tooltipProps: Record<string, any>;\n} => {\n  const disabled = isDisabled || !text;\n  const isInitialRenderState = useRef<boolean>(true);\n\n  const [state, _setState] = useState<Status>(!disabled && isOpen ? 'mounting' : 'unmounted');\n  const stateRef = useRef<Status>(state);\n  const setState = (newState: Status) => {\n    stateRef.current = newState;\n    _setState(newState);\n  };\n\n  // const tooltipId = useRef<string>(useId());\n\n  const [needsUpdate, setNeedsUpdate] = useState<boolean>(false);\n  setNeedsUpdate(false);\n\n  const isDatatip = variant === 'datatip';\n\n  const [isLogicalFocus, setLogicalFocus] = useState<boolean>(false);\n  const isLogicalFocusStrategy = focusStrategy === 'logical';\n  const isInitialRenderTrigger = useRef<boolean>(true);\n  const { hoverProps, isHover } = useHover({});\n  const { touchProps, isTouch } = useTouch({ isDisabled }); // TODO replace by useLongPress actionhook\n  // we only care about keyboard focus, don't enable useFocus hook if isHover or isTouch are active\n  const { focusProps, isFocus } = useFocus({\n    isDisabled: isLogicalFocusStrategy\n  });\n  const { hoverProps: popoverHoverProps, isHover: popoverIsHover } = useHover({ isDisabled });\n\n  const isPointer = anchor.x === 'pointer' || anchor.y === 'pointer';\n\n  const uniqueIdRef = useRef<string>(useId());\n  const targetRef = useRef<HTMLElement | null>(null);\n  const coordsRef = useRef<Coords>({ x: -9999, y: -9999 });\n  // if anchor is set to pointer and target does not have keyboard focus, use coords\n  const usedRef = isPointer && !isFocus ? coordsRef : targetRef;\n  const delay = isDatatip ? 0 : 250;\n  const toggleTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const currentColorScheme = useColorScheme();\n  const newColorScheme = !currentColorScheme || currentColorScheme === 'light' ? 'dark' : 'light';\n\n  const focusActive = useRef<boolean>(false);\n  const hoverActive = useRef<boolean>(false);\n\n  const toggleTimeoutClear = () => {\n    if (toggleTimeoutRef.current) {\n      clearTimeout(toggleTimeoutRef.current);\n      toggleTimeoutRef.current = null;\n    }\n  };\n\n  /*\n   * This effect executes when isFocus/isLogicalFocus changes\n   * - focusActive ref is set if the focus change follows a Tab key\n   * - hoverActive ref is reset, if focusActive becomes true\n   */\n  useEffect(() => {\n    if (isLogicalFocusStrategy) {\n      focusActive.current = isLogicalFocus;\n    } else {\n      focusActive.current = isFocus && globalTooltipManager.isTabKeyActive();\n    }\n    if (focusActive.current) {\n      hoverActive.current = false;\n    }\n  }, [isFocus, isLogicalFocus, isLogicalFocusStrategy]);\n\n  /*\n   * This effect executes when isHover state changes\n   * - focusActive ref is reset, if hoverActive becomes true\n   */\n  useEffect(() => {\n    hoverActive.current = isHover;\n    if (hoverActive.current) {\n      focusActive.current = false;\n    }\n  }, [isHover]);\n\n  useEffect(() => {\n    // inner function for state transitions on various trigger changes\n    const updateState = (open: boolean) => {\n      if (open) {\n        // At least one toggle event is set to true\n        switch (state) {\n          case 'unmounted':\n            setState('mountPending'); // Set mount pending state if tooltip is unmounted\n            break;\n          case 'unmounting': // Switch back to mounting when unmounting was in progress and the tooltip should stay on\n            setState('mounting');\n            onToggle?.({ value: true });\n            break;\n          case 'unmountPending':\n            toggleTimeoutClear();\n            setState('mounted'); // Clear timers immediately and keep the tooltip mounted\n            break;\n        }\n      } else {\n        // No toggle events are set to true\n        switch (state) {\n          case 'mounting':\n          case 'mounted':\n            setState('unmountPending'); // Set unmount pending state if tooltip is mounted or in mounting transition\n            break;\n          case 'mountPending':\n            toggleTimeoutClear();\n            __resetCoords();\n            setState('unmounted'); // Unmount tooltip immediately if mounting is pending\n            break;\n        }\n      }\n    };\n\n    if (isInitialRenderTrigger.current) {\n      // On onitial render do not trigger rerender\n      isInitialRenderTrigger.current = false;\n      return;\n    }\n    // When pointer is used, handleMouseMove method is responsible for state updates\n    // until the tooltip is mounted\n    if (isPointer && isHover && state === 'unmounted') {\n      return;\n    }\n    updateState(\n      (isHover && hoverActive.current) ||\n        ((isFocus || isLogicalFocus) && focusActive.current) ||\n        popoverIsHover ||\n        isTouch\n    );\n  }, [isHover, isFocus, isLogicalFocus, popoverIsHover, isTouch, isPointer, state, onToggle]);\n\n  const destroyCallback = useCallback(() => {\n    focusActive.current = false;\n    hoverActive.current = false;\n    onToggle?.({ value: false });\n  }, []); // cannot depend on the 'onToggle' prop as some clients tend to pass a new callback on each render\n\n  useEffect(() => {\n    if (isInitialRenderState.current) {\n      // On onitial render do not trigger rerender\n      isInitialRenderState.current = false;\n      return;\n    }\n    setState(isOpen ? 'mounting' : 'unmounting');\n  }, [isOpen]);\n\n  useEffect(() => {\n    return () => {\n      // make sure to clear the toggle timeout on unmount\n      toggleTimeoutClear();\n      // reset focusActive and hoverActive refs\n      focusActive.current = false;\n      hoverActive.current = false;\n    };\n  }, []);\n\n  /*\n   * This effect executes when the component state changes.\n   * On 'mounted' state, the tooltip registers itself with the global tooltip manager.\n   * On 'unmounted', the tooltip unregisters from the global tooltip manager.\n   */\n  useEffect(() => {\n    if (state === 'mounted') {\n      globalTooltipManager.register(destroyCallback);\n    } else if (state === 'unmounted') {\n      globalTooltipManager.unregister(destroyCallback);\n    }\n  }, [state, destroyCallback]);\n\n  /*\n   * Set a timer to toggle the state afer the 'pending' period expires\n   */\n  useEffect(() => {\n    if (!toggleTimeoutRef.current && (state === 'mountPending' || state === 'unmountPending')) {\n      toggleTimeoutRef.current = setTimeout(() => {\n        toggleTimeoutClear();\n        // make sure the state has not changed in the mean time before onToggle\n        if (\n          (state === 'mountPending' || state === 'unmountPending') &&\n          state === stateRef.current\n        ) {\n          onToggle?.({ value: state === 'mountPending' });\n        }\n      }, delay);\n    }\n    return () => {\n      toggleTimeoutClear();\n    };\n  }, [state, delay, onToggle]);\n\n  const handleMouseMove = (event: MouseEvent) => {\n    // we only want track mouse move while the state is 'unmounted' or when moving a 'mounted' datatip\n    if (state !== 'unmounted' && !(variant === 'datatip' && state === 'mounted')) {\n      return;\n    }\n    const targetRect = targetRef?.current?.getBoundingClientRect();\n\n    // Tooltip maintains static offset from left side of window\n    const distanceX = document.body.scrollLeft + (targetRect?.left || 0) + (targetRect?.width || 0);\n\n    // Tooltip maintains static offset from top side of the window\n    const distanceY = document.body.scrollTop + (targetRect?.top || 0) + (targetRect?.height || 0);\n\n    // Display tooltip at the mouse position if both anchors are set to pointer\n    const x = anchor.x === 'pointer' ? event.clientX : distanceX;\n    const y = anchor.y === 'pointer' ? event.clientY : distanceY;\n\n    if (state === 'mounted') {\n      coordsRef.current = { x, y };\n      if (needsUpdate !== true) setNeedsUpdate(true);\n    } else if (state === 'unmounted') {\n      toggleTimeoutClear();\n      toggleTimeoutRef.current = setTimeout(() => {\n        if (state === 'unmounted') {\n          coordsRef.current = { x, y };\n          onToggle?.({ value: true });\n        }\n      }, delay);\n    }\n  };\n\n  const onLogicalFocus = (target: HTMLElement) => {\n    setLogicalFocus(true);\n    targetRef.current = target;\n    usedRef.current = target;\n  };\n\n  const onLogicalBlur = () => {\n    setLogicalFocus(false);\n  };\n\n  const onFocusCallback = useCallback(\n    (event: FocusEvent) => {\n      if (\n        event.eventPhase === Event.AT_TARGET ||\n        (event.eventPhase === Event.BUBBLING_PHASE && isDatatip)\n      ) {\n        targetRef.current = event.target as HTMLElement;\n      }\n    },\n    [isDatatip]\n  );\n\n  const onBlurCallback = useCallback((event: FocusEvent) => {\n    if (event.eventPhase === Event.AT_TARGET) {\n      // reset focusActive flag\n      focusActive.current = false;\n    }\n  }, []);\n\n  const focusInitProps = isLogicalFocusStrategy\n    ? {}\n    : {\n        onFocus: onFocusCallback,\n        onBlur: onBlurCallback\n      };\n\n  const hoverInitProps = {\n    onMouseEnter: useCallback((event: MouseEvent) => {\n      targetRef.current = event.target as HTMLElement;\n    }, [])\n  };\n\n  const keyInitProps = {\n    onKeyDown: useCallback(\n      (event: KeyboardEvent) => {\n        if (event.code === 'Escape' && focusActive.current) {\n          event.preventDefault();\n          // focus no longer active after Escape\n          focusActive.current = false;\n          onToggle?.({ value: false });\n        }\n      },\n      [onToggle]\n    )\n  };\n\n  let actionableProps;\n\n  const __resetCoords = () => {\n    coordsRef.current = { x: -9999, y: -9999 };\n  };\n\n  if (disabled) {\n    actionableProps = mergeProps(hoverProps, focusProps, hoverInitProps, focusInitProps);\n  } else {\n    const anchorInitProps = {\n      'aria-describedby': uniqueIdRef.current,\n\n      ...(isPointer && {\n        onMouseLeave: () => {\n          if (state === 'mounting') {\n            return;\n          }\n          toggleTimeoutClear();\n        },\n        onMouseMove: (event: MouseEvent) => {\n          handleMouseMove(event);\n        }\n      })\n    };\n    actionableProps = mergeProps(\n      hoverProps,\n      focusProps,\n      touchProps,\n      hoverInitProps,\n      focusInitProps,\n      anchorInitProps,\n      keyInitProps,\n      isLogicalFocusStrategy ? { onLogicalFocus, onLogicalBlur } : {}\n    );\n  }\n\n  // No need to process tooltip if disabled or no text is provided\n  // Include actionableProps to detect mouseenter in components\n  // hovered state won't update unless actionableProps are already present in the component when mouse enters\n  if (disabled) {\n    toggleTimeoutClear();\n    __resetCoords();\n    return {\n      tooltipContent: null,\n      tooltipProps: actionableProps\n    };\n  }\n\n  const placement = positionToPlacement(position);\n\n  const handleTransitionEnd = () => {\n    if (state === 'mounting') {\n      setState('mounted');\n    }\n    if (state === 'unmounting') {\n      __resetCoords();\n      setState('unmounted');\n    }\n  };\n\n  const renderRawContent = (\n    <TooltipContent\n      id={uniqueIdRef.current}\n      testId={testId}\n      isOpen={['mounting', 'mounted', 'unmountPending'].includes(state)}\n      {...popoverHoverProps}\n      isDatatip={isDatatip}\n      onTransitionEnd={handleTransitionEnd}>\n      {text}\n    </TooltipContent>\n  );\n\n  const renderTooltipOrDatatip = () => {\n    if (variant === 'tooltip') {\n      return (\n        <EnvironmentProvider environment={{ colorScheme: newColorScheme }}>\n          {renderRawContent}\n        </EnvironmentProvider>\n      );\n    } else {\n      return <>{renderRawContent}</>;\n    }\n  };\n\n  const renderContent = (\n    <Layer>\n      <Floating anchorRef={usedRef} placement={placement} offsetValue={offset}>\n        {renderTooltipOrDatatip()}\n      </Floating>\n    </Layer>\n  );\n\n  return {\n    tooltipContent: !['unmounted', 'mountPending'].includes(state) && renderContent,\n    tooltipProps: actionableProps\n  };\n};\n"],"names":["_jsx","_Fragment"],"mappings":"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"}