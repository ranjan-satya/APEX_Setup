define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-5130e198', './useFormContext-30acdd33', './FormFieldContext-3c44aaaa', 'preact/hooks', './useFocusableTextField-c2f98a8b', './Label-3f8fc274', './TextFieldInput-dfd9529f', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-a5e85e5d', './StyledTextField-8ac3bbb4', './TextField-0fc70892', './MaxLengthLiveRegion-23d7e335', './useTextField-e6877c79', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-6ef0dab6', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-f4d1fa1b', './CompactUserAssistance-b2cbdbad', './useTooltipControlled-abf886f2', 'preact', 'css!./IconStyle.styles.css', './Popup-249d77c3', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './LayerHost-eab40731', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-ed8959a4', './useCurrentValueReducer-faded381', './TextArea-2c7af40c'], (function(e,t,s,a,n,i,o,l,r,d,c,u,m,p,x,b,h,f,g,F,y,R,v,L,A,C,T,S,I,w,E,U,j,H,P,D,_,B,V,k){"use strict";const M=({isReadonly:e,enabledElementRef:t,readonlyElementRef:s,minRows:a=2,maxRows:n,value:i})=>{o.useLayoutEffect((()=>{const i=e?s:t;if(null===i.current)return;if(i.current instanceof HTMLDivElement)return;const o=i.current,l=(e=>{const t=window.getComputedStyle(e),s=t.lineHeight;if("normal"===s)return 1.2*parseFloat(t.fontSize);return parseFloat(s)})(o);o.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const t=window.getComputedStyle(e);return{paddingHeight:parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),borderHeight:parseFloat(t.borderTop)+parseFloat(t.borderBottom)}})(o),c=l*a+r+d,u=o.scrollHeight+d;let m=0;if(void 0===n)m=u<c?c:u;else if(n>a){const e=l*n+r+d;m=u>e?e:u<c?c:u}else m=c;o.style.height=m+.5+"px"}),[i,a,n,e,t,s])},N=s.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:o="off",autoFocus:c=!1,columnSpan:h,helpSourceLink:f,helpSourceText:y,isDisabled:R,isReadonly:v,isRequired:C=!1,isRequiredShown:T,label:S,labelEdge:I,labelStartWidth:w,maxLength:E,maxLengthCounter:U="remaining",maxLengthUnit:j,maxRows:H,messages:D,minRows:_=2,placeholder:N,role:q,textAlign:W,userAssistanceDensity:$,value:z,variant:G="default",onInput:O,onCommit:X,testId:J},K)=>{const Q=F.useTranslationBundle("@oracle/oraclejet-preact"),Y=E?Q.formControl_limitReached({CHARACTER_LIMIT:E}):"",{currentCommitValue:Z,dispatch:ee}=V.useCurrentValueReducer({value:z}),te=s.useCallback((e=>{ee({type:"input",payload:e.value}),O?.(e)}),[O,ee]),se=s.useCallback((e=>{ee({type:"commit",payload:e.value}),X?.(e)}),[X,ee]),{isDisabled:ae,isReadonly:ne,labelEdge:ie,labelStartWidth:oe,textAlign:le,userAssistanceDensity:re}=n.useFormContext(),de=R??ae,ce=v??ne,ue=I??ie,me=w??oe,pe=W??le,xe=$??re,be=s.useRef(g.useId()),he=e?`${e} ${be.current}`:be.current,{enabledElementRef:fe,readonlyElementRef:ge,focusProps:Fe,isFocused:ye}=l.useFocusableTextField({isDisabled:de,isReadonly:ce,ref:K}),{isMaxLengthReached:Re,valueLength:ve,onFilteredInput:Le}=B.useLengthFilter({maxLength:E,maxLengthUnit:j,value:z,onInput:te,onCommit:se}),Ae=[...D??[],...Re?[{detail:Y,severity:"info"}]:[]],{formFieldContext:Ce,inputProps:Te,labelProps:Se,textFieldProps:Ie,userAssistanceProps:we}=b.useTextField({ariaDescribedBy:ce||de?e:he,contentVariant:"textarea",helpSourceLink:f,helpSourceText:y,isDisabled:de,isFocused:ye,isReadonly:ce,isRequiredShown:T,labelEdge:ue,messages:Ae,styleVariant:G,userAssistanceDensity:xe,value:z}),Ee=s.useCallback((()=>{const e=fe.current,t=e?e.value.length:null;fe.current?.setSelectionRange(t,t),fe.current?.focus()}),[fe]),Ue="none"!==ue?t.jsx(r.Label,{...Se,children:S}):void 0,je={label:"none"!==ue?Ue:void 0,labelEdge:"none"!==ue?ue:void 0,labelStartWidth:"none"!==ue?me:void 0},He="none"===ue?S:void 0,Pe="efficient"===xe||"reflow"===xe?de||ce?"efficient"!==xe?void 0:t.jsx(L.InlineUserAssistance,{userAssistanceDensity:xe,...we}):t.jsx(L.InlineUserAssistance,{assistiveText:a,fieldLabel:S,helpSourceLink:f,helpSourceText:y,messages:Ae,isRequiredShown:T,userAssistanceDensity:xe,...we}):void 0,De=s.useRef(null),_e="compact"===xe?t.jsx(A.CompactUserAssistance,{anchorRef:De,messages:Ae,assistiveText:a,...we}):void 0;if(M({isReadonly:ce,enabledElementRef:fe,readonlyElementRef:ge,minRows:_,maxRows:H,value:z}),ce){const e=t.jsx(u.ReadonlyTextFieldInput,{"aria-describedby":Te["aria-describedby"],"aria-label":He,"aria-labelledby":Se.id,elementRef:ge,...H?{as:"textarea",rows:_}:{as:"div"},autoFocus:c,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===S&&"none"===ue,hasInsideLabel:void 0!==S&&"inside"===ue});return t.jsx(i.FormFieldContext.Provider,{value:Ce,children:t.jsx(m.ReadonlyTextField,{role:"presentation",colSpan:h,compactUserAssistance:_e,inlineUserAssistance:Pe,variant:"textarea",mainContent:e,ref:De,testId:J,...je})})}const Be=void 0!==E,Ve=t.jsxs(t.Fragment,{children:[t.jsx(d.TextFieldInput,{as:"textarea","aria-label":He,autoComplete:o,autoFocus:c,currentCommitValue:Z,hasEmptyLabel:""===S&&"none"===ue,hasInsideLabel:void 0!==Ue&&"inside"===ue,isRequired:C,inputRef:fe,onCommit:se,onInput:Le,placeholder:N,role:q,rows:_,textAlign:pe,value:z,...Te}),"remaining"===U&&Be&&t.jsx(k.MaxLengthCounter,{maxLength:E,valueLength:ve,onClick:Ee}),Be&&t.jsx(P.HiddenAccessible,{id:be.current,children:Q.formControl_maxLength({MAX_LENGTH:`${E}`})}),Be&&ye&&t.jsx(x.MaxLengthLiveRegion,{maxLength:E,valueLength:ve,testId:J+"_remainingChars"})]});return t.jsx(i.FormFieldContext.Provider,{value:Ce,children:t.jsx(p.TextField,{mainContent:Ve,columnSpan:h,compactUserAssistance:_e,inlineUserAssistance:Pe,onBlur:Fe?.onFocusOut,onFocus:Fe?.onFocusIn,mainFieldRef:De,testId:J,...Ie,...je})})}));e.TextAreaAutosize=N}));
//# sourceMappingURL=TextAreaAutosize-9dc5bffe.js.map
