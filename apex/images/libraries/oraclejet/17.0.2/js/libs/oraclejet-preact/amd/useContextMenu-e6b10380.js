define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Menu-51409b28', './MenuItem-644f8619', 'preact', './useTooltipControlled-abf886f2', 'css!./IconStyle.styles.css', './SelectMenuGroupContext-67f24a8f', './logger-0f873e29', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./MenuSeparatorStyles.styles.css', 'module', './UNSAFE_Menu/themes/redwood/MenuSeparatorVariants.css', 'preact/compat', './LayerHost-eab40731', './useContextMenuGesture-06cf28ca'], (function(e,t,n,o,s,r,u,a,c,i,l,f,M,m,p,x,C){"use strict";const d={isOpen:!1,initialFocus:"menu",placement:"bottom-start",offsetValue:0,anchorRef:{current:null}};function S({contextMenuConfig:e,contextMenuContext:s,rootRef:r,setMenuProps:u,onContextMenuDismissed:a,gestureRef:c,...i}){const l=n.useCallback((e=>{"dismissed"!==e.reason&&"itemAction"!==e.reason||(r.current?.focus({preventScroll:!0}),a?.(c.current)),u(d)}),[r,u,a]);return t.jsx(o.Menu,{...i,onClose:l,"aria-label":e.accessibleLabel,children:i.isOpen&&e.itemsRenderer(s)})}const g={mouse:{initialFocus:"menu",placement:"bottom-start",offsetValue:0},keyboard:{initialFocus:"firstItem",placement:"bottom-start",offsetValue:0},touch:{initialFocus:"menu",placement:"end",offsetValue:30}};e.ContextMenu=S,e.useContextMenu=function({onContextMenuHandler:e,contextMenuOptions:o,rootRef:s,contextMenuConfig:r,onContextMenuDismissed:u}){const[a,c]=n.useState(),[i,l]=n.useState(d),f=n.useRef(null),M=n.useCallback((({gesture:t,anchor:n,target:o})=>{f.current=t;const{context:s,elem:r}=e({gesture:t,target:o});c(s),l({...g[t],anchorRef:{current:r||n},isOpen:!0})}),[e]),m=r&&t.jsx(S,{...i,onContextMenuDismissed:u,gestureRef:f,setMenuProps:l,rootRef:s,contextMenuConfig:r,contextMenuContext:a}),{triggerProps:p}=C.useContextMenuGesture(M,o);return{contextMenuProps:p,contextMenuContent:m}}}));
//# sourceMappingURL=useContextMenu-e6b10380.js.map
