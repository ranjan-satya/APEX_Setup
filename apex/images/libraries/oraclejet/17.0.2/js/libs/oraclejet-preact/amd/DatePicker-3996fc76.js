define(['exports', 'preact/jsx-runtime', './Flex-1f27b601', './useTestId-82cf22a4', './useFocusWithin-5a504fca', './useTranslationBundle-6ef0dab6', './calendarDateUtils-1f56aaf5', 'preact/compat', './useBreakpointValues-3a067093', './Button-43090a22', './UNSAFE_DatePicker/themes/DatePickerContract.css', './useComponentTheme-5aa41a8f', './UNSAFE_DatePicker/themes/redwood/DatePickerTheme', './DatePickerHeader-52c085e6', './MonthView-b5d1d69d', './YearsGridView-91e4744d'], (function(e,a,o,t,i,n,s,r,d,c,u,l,h,w,y,v){"use strict";const V=["monthView","monthsGridView","yearsGridView","viewFocus","viewBlur"],p=["daySelected","goToToday","previousDay","nextDay","previousWeek","nextWeek","previousMonth","previousMonthAndFocus","nextMonth","nextMonthAndFocus","previousYear","nextYear","firstDayOfMonth","lastDayOfMonth"],m=["previousMonthInGridView","nextMonthInGridView","previousMonthRowInGridView","nextMonthRowInGridView","monthSelected"],b=["previousYearInGridView","nextYearInGridView","previousYearRowInGridView","nextYearRowInGridView","previousDecade","previousDecadeAndFocus","nextDecade","nextDecadeAndFocus","yearSelected"],g=(e,a)=>{if("reset"===a.type)return a.payload;switch(a.type){case"monthView":return{...e,currentView:"monthView",isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1};case"monthsGridView":return{...e,currentView:"monthsGridView",focusableMonth:e.focusableDate.month,isViewFocused:!1,isNextNavigationButtonHidden:!0,isPreviousNavigationButtonHidden:!0,isTodayNavigationButtonHidden:!0};case"yearsGridView":return{...e,currentView:"yearsGridView",focusableYear:e.focusableDate.year,isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!0};case"viewFocus":return e.isViewFocused?e:{...e,isViewFocused:!0};case"viewBlur":return e.isViewFocused?{...e,isViewFocused:!1}:e;case"daySelected":case"goToToday":return{...e,isViewFocused:!0,focusableDate:a.payload};case"previousDay":{const o=s.addToCalendarDate(a.payload,{days:-1});return{...e,isViewFocused:!0,focusableDate:o}}case"nextDay":{const o=s.addToCalendarDate(a.payload,{days:1});return{...e,isViewFocused:!0,focusableDate:o}}case"previousWeek":{const o=s.addToCalendarDate(a.payload,{days:-7});return{...e,isViewFocused:!0,focusableDate:o}}case"nextWeek":{const o=s.addToCalendarDate(a.payload,{days:7});return{...e,isViewFocused:!0,focusableDate:o}}case"previousMonth":case"previousMonthAndFocus":{const o=s.addToCalendarDate(a.payload,{months:-1});return{...e,isViewFocused:"previousMonthAndFocus"===a.type,focusableDate:o}}case"nextMonth":case"nextMonthAndFocus":{const o=s.addToCalendarDate(a.payload,{months:1});return{...e,isViewFocused:"nextMonthAndFocus"===a.type,focusableDate:o}}case"previousYear":{const o=s.addToCalendarDate(a.payload,{years:-1});return{...e,isViewFocused:!0,focusableDate:o}}case"nextYear":{const o=s.addToCalendarDate(a.payload,{years:1});return{...e,isViewFocused:!0,focusableDate:o}}case"firstDayOfMonth":{const o=a.payload,t={year:o.year,month:o.month,day:1};return{...e,isViewFocused:!0,focusableDate:t}}case"lastDayOfMonth":{const o=a.payload,t=s.getDaysInMonth(o.month,o.year),i={year:o.year,month:o.month,day:t};return{...e,isViewFocused:!0,focusableDate:i}}case"previousMonthInGridView":{const o=s.addToMonth(a.payload.month,-1);return{...e,focusableMonth:o,isViewFocused:!0}}case"previousMonthRowInGridView":{const o=s.addToMonth(a.payload.month,-4);return{...e,focusableMonth:o,isViewFocused:!0}}case"nextMonthInGridView":{const o=s.addToMonth(a.payload.month,1);return{...e,focusableMonth:o,isViewFocused:!0}}case"nextMonthRowInGridView":{const o=s.addToMonth(a.payload.month,4);return{...e,focusableMonth:o,isViewFocused:!0}}case"monthSelected":{const o=a.payload.month-e.focusableDate.month,t=s.addToCalendarDate(e.focusableDate,{months:o});return{...e,currentView:"monthView",focusableDate:t,isViewFocused:!0,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1}}case"previousYearInGridView":{const o=s.addToYear(a.payload.year,-1);return{...e,focusableYear:o,isViewFocused:!0}}case"previousYearRowInGridView":{const o=s.addToYear(a.payload.year,-4);return{...e,focusableYear:o,isViewFocused:!0}}case"previousDecade":case"previousDecadeAndFocus":{const o=s.addToYear(a.payload.year,-10);return{...e,focusableYear:o,isViewFocused:"previousDecadeAndFocus"===a.type}}case"nextYearInGridView":{const o=s.addToYear(a.payload.year,1);return{...e,focusableYear:o,isViewFocused:!0}}case"nextYearRowInGridView":{const o=s.addToYear(a.payload.year,4);return{...e,focusableYear:o,isViewFocused:!0}}case"nextDecade":case"nextDecadeAndFocus":{const o=s.addToYear(a.payload.year,10);return{...e,focusableYear:o,isViewFocused:"nextDecadeAndFocus"===a.type}}case"yearSelected":{const o=a.payload.year-e.focusableDate.year,t=s.addToCalendarDate(e.focusableDate,{years:o});return{...e,currentView:"monthView",focusableDate:t,isViewFocused:!0,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1}}default:return e}},D={monthView:"none",monthsGridView:"month",yearsGridView:"year"},x=({isReadonly:e,max:a,min:o,todayTimeZone:t,value:d,onCommit:c})=>{if(o&&a&&s.isCalendarDateBefore(a,o))throw new Error("DatePicker: min must be equal or less than max.");const u=s.getCalendarDateToday(t),l=r.useMemo((()=>s.constrainCalendarDate(d??u,o,a)),[d,u,o,a]),{state:h,actions:w}=(({initialFocusableDate:e})=>{const a={currentView:"monthView",focusableDate:e,focusableMonth:e.month,focusableYear:e.year,isViewFocused:!1,isNextNavigationButtonHidden:!1,isPreviousNavigationButtonHidden:!1,isTodayNavigationButtonHidden:!1},[o,t]=r.useReducer(g,a),i=r.useRef(e);return 0!==s.compareDates(i.current,e)&&(i.current=e,0!==s.compareDates(e,o.focusableDate)&&t({type:"reset",payload:a})),{state:o,actions:r.useMemo((()=>{const e={};return V.forEach((a=>{e[a]=()=>t({type:a})})),p.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),m.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),b.forEach((a=>{e[a]=e=>t({type:a,payload:e})})),e}),[t])}})({initialFocusableDate:l}),y=n.useTranslationBundle("@oracle/oraclejet-preact"),v={next:y.datePicker_next(),previous:y.datePicker_prev(),goToToday:y.datePicker_goToToday(),today:y.datePicker_today()},x={handleMonthToggle:r.useCallback((()=>{"monthsGridView"!==h.currentView?w.monthsGridView(void 0):w.monthView(void 0)}),[w,h.currentView]),handleYearToggle:r.useCallback((()=>{"yearsGridView"!==h.currentView?w.yearsGridView(void 0):w.monthView(void 0)}),[w,h.currentView]),handleTodayNavigation:r.useCallback((()=>{w.goToToday(u)}),[w,u]),handlePreviousNavigation:r.useCallback((()=>"monthView"===h.currentView?w.previousMonth(h.focusableDate):"yearsGridView"===h.currentView?w.previousDecade({year:h.focusableYear}):void 0),[w,h.currentView,h.focusableDate,h.focusableYear]),handleNextNavigation:r.useCallback((()=>"monthView"===h.currentView?w.nextMonth(h.focusableDate):"yearsGridView"===h.currentView?w.nextDecade({year:h.focusableYear}):void 0),[w,h.currentView,h.focusableDate,h.focusableYear]),handleMonthViewAction:r.useCallback((a=>{void 0===a.date||e||(w.daySelected(a.date),c?.({previousValue:d,value:a.date}))}),[w,e,c,d]),handleMonthViewNavigation:r.useCallback((e=>{switch(e.direction){case"previousMonth":return w.previousMonthAndFocus(e.date);case"nextMonth":return w.nextMonthAndFocus(e.date);case"today":return w.goToToday(u);default:return w[e.direction](e.date)}}),[w,u]),handleMonthsGridViewAction:r.useCallback((e=>{w.monthSelected(e)}),[w]),handleMonthsGridViewNavigation:r.useCallback((e=>{switch(e.direction){case"down":return w.nextMonthRowInGridView({month:e.month});case"next":return w.nextMonthInGridView({month:e.month});case"previous":return w.previousMonthInGridView({month:e.month});case"up":return w.previousMonthRowInGridView({month:e.month})}}),[w]),handleYearsGridViewAction:r.useCallback((e=>{w.yearSelected(e)}),[w]),handleYearsGridViewNavigation:r.useCallback((e=>{switch(e.direction){case"down":return w.nextYearRowInGridView({year:e.year});case"next":return w.nextYearInGridView({year:e.year});case"nextDecade":return w.nextDecadeAndFocus({year:e.year});case"previous":return w.previousYearInGridView({year:e.year});case"previousDecade":return w.previousDecadeAndFocus({year:e.year});case"up":return w.previousYearRowInGridView({year:e.year})}}),[w])},{focusProps:f}=i.useFocusWithin({onBlurWithin:r.useCallback((()=>w.viewBlur(void 0)),[w]),onFocusWithin:r.useCallback((()=>w.viewFocus(void 0)),[w])});return{accessibleLabels:v,actions:w,handlers:x,state:h,todaysDate:u,toggleSelection:D[h.currentView],viewContainerProps:{...f}}},f=({onTodayNavigationAction:e,testId:t,todayNavigationAriaLabel:i,todayNavigationLabel:n})=>a.jsx(o.Flex,{direction:"column",children:a.jsx(c.Button,{testId:t,label:n,"aria-label":i,size:"sm",onAction:e})});e.DatePicker=({dayFormatter:e,daysOutsideMonth:i,isReadonly:n=!1,monthAndYearPicker:s="on",max:r,maxWidth:c,min:V,value:p,testId:m,todayTimeZone:b,todayButton:g="visible",width:D,onCommit:T})=>{const{accessibleLabels:F,handlers:N,state:M,todaysDate:G,toggleSelection:Y,viewContainerProps:B}=x({isReadonly:n,max:r,min:V,todayTimeZone:b,value:p,onCommit:T}),{month:P,year:k}=M.focusableDate,A="on"===s&&!n,I=d.useBreakpointValues({sm:!0,md:!1},{sm:"0px",md:"360px"}),C=!M.isTodayNavigationButtonHidden&&I&&"visible"===g,{baseTheme:H}=l.useComponentTheme(h.DatePickerRedwoodTheme),R=t.useTestId(m);return a.jsx("div",{class:H,...R,children:a.jsxs(o.Flex,{direction:"column",gap:"monthView"===M.currentView?u.datePickerPropVars.calendarGridRowGap:u.datePickerPropVars.monthYearGridRowGap,height:C?u.datePickerPropVars.todayFooterButtonHeight:u.datePickerPropVars.height,width:void 0!==D?D:u.datePickerPropVars.width,maxWidth:void 0!==c?c:u.datePickerPropVars.maxWidth,children:[a.jsx(w.DatePickerHeader,{testId:m?m+"_header":void 0,month:P,year:k,isPreviousNavigationButtonHidden:M.isPreviousNavigationButtonHidden,isTodayNavigationButtonHidden:"hidden"===g||M.isTodayNavigationButtonHidden||I,isNextNavigationButtonHidden:M.isNextNavigationButtonHidden,monthYearHeader:A?"independentButtons":"text",toggleSelection:A?Y:void 0,previousNavigationAccessibleLabel:F.previous,todayNavigationAccessibleLabel:F.goToToday,nextNavigationAccessibleLabel:F.next,onTodayNavigationAction:N.handleTodayNavigation,onPreviousNavigationAction:N.handlePreviousNavigation,onNextNavigationAction:N.handleNextNavigation,onMonthToggle:A?N.handleMonthToggle:void 0,onYearToggle:A?N.handleYearToggle:void 0}),a.jsxs("div",{...B,children:["monthView"===M.currentView&&a.jsx(y.MonthView,{dayFormatter:e,daysOutsideMonth:i,isReadonly:n,max:r,min:V,selectedDate:p,focusableDate:M.focusableDate,isFocused:M.isViewFocused,testId:m?m+"_monthView":void 0,todaysDate:G,onNavigation:N.handleMonthViewNavigation,onAction:N.handleMonthViewAction}),"monthsGridView"===M.currentView&&a.jsx(v.MonthsGridView,{currentMonth:G.month,focusableMonth:M.focusableMonth,isFocused:M.isViewFocused,selectedMonth:P,testId:m?m+"_monthsGridView":void 0,onAction:N.handleMonthsGridViewAction,onNavigation:N.handleMonthsGridViewNavigation}),"yearsGridView"===M.currentView&&a.jsx(v.YearsGridView,{currentYear:G.year,focusableYear:M.focusableYear,isFocused:M.isViewFocused,selectedYear:k,testId:m?m+"_yearsGridView":void 0,onAction:N.handleYearsGridViewAction,onNavigation:N.handleYearsGridViewNavigation})]}),C&&a.jsx("div",{children:a.jsx(f,{testId:m?m+"_footerTodayButton":void 0,todayNavigationLabel:F.today,todayNavigationAriaLabel:F.goToToday,onTodayNavigationAction:N.handleTodayNavigation})})]})})}}));
//# sourceMappingURL=DatePicker-3996fc76.js.map
