{"version":3,"file":"GroupLoadingIndicator-9c995e99.js","sources":["../../src/PRIVATE_List/ListGroupHeader.tsx","../../src/PRIVATE_List/GroupLoadingIndicator.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { Keys, containsKey } from '../utils/UNSAFE_keys';\nimport { useId } from '../hooks/UNSAFE_useId';\nimport { ToggleDetail } from '../UNSAFE_Collection';\nimport { useViewportIntersect, ViewportConfig } from '../hooks/UNSAFE_useViewportIntersect';\nimport { TabbableModeContext } from '../hooks/UNSAFE_useTabbableMode';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { useInteractionStyle } from '../hooks/UNSAFE_useInteractionStyle';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { flexitemInterpolations } from '../utils/UNSAFE_interpolations/flexitem';\nimport type { FlexitemProps } from '../utils/UNSAFE_interpolations/flexitem';\nimport { GroupedListStyles } from 'src/UNSAFE_GroupedList/themes/GroupedListStyles.css';\nimport { listGroupHeaderMultiVariantStyles } from './themes/ListStyles.css';\nimport { GroupedListRedwoodTheme } from '../UNSAFE_GroupedList/themes/redwood/GroupedListTheme';\n\n// default style class for items in ListView\nexport const GROUP_SELECTOR = '[data-oj-listview-group]';\nexport const STICKY_SELECTOR = '[data-oj-listview-sticky]';\n\n/**\n * Props for the ListViewItem Component\n */\nexport type Props<K> = {\n  children: ComponentChildren;\n  itemKey: K;\n  itemIndex: number;\n  itemDepth: number;\n  isFocused: boolean;\n  isFocusRingVisible: boolean;\n  isActive: boolean;\n  isGridlineVisible: boolean;\n  isExpandable: boolean;\n  expandedKeys: Keys<K>;\n  ariaDescribedBy?: string;\n  onToggle?: (detail: ToggleDetail<K>) => void;\n  viewportConfig?: ViewportConfig;\n};\n\n/**\n * The internal component used to render a group header in ExpandableList and GroupedList.\n */\nexport function ListGroupHeader<K extends string | number>({\n  ariaDescribedBy,\n  children,\n  itemKey,\n  itemIndex,\n  itemDepth,\n  isFocused,\n  isFocusRingVisible,\n  isActive,\n  isGridlineVisible,\n  isExpandable,\n  expandedKeys,\n  viewportConfig\n}: Props<K>) {\n  const [isStuck, setStuck] = useState(false);\n\n  const { classes: groupedListThemeClasses, styles: groupedListStyles } = useComponentTheme<\n    never,\n    GroupedListStyles\n  >(GroupedListRedwoodTheme);\n\n  const { interactionProps, applyHoverStyle, applyPseudoHoverStyle, applyActiveStyle } =\n    useInteractionStyle();\n\n  const variantClasses = listGroupHeaderMultiVariantStyles({\n    expandable: isExpandable ? 'isExpandable' : 'notExpandable',\n    needsEventsHover: applyHoverStyle ? 'isNeedsEventsHover' : 'notNeedsEventsHover',\n    pseudoHover: applyPseudoHoverStyle ? 'isPseudoHover' : 'notPseudoHover',\n    active: applyActiveStyle || isActive ? 'isActive' : 'notActive',\n    focusRingVisible:\n      isFocusRingVisible && isFocused ? 'isFocusRingVisible' : 'notFocusRingVisible',\n    gridlineTop: itemIndex > 0 ? 'visible' : 'hidden',\n    gridlineBottom: isGridlineVisible ? 'visible' : 'hidden'\n  });\n\n  const baseClasses = [variantClasses];\n  if (isStuck) {\n    baseClasses.push(groupedListThemeClasses);\n    baseClasses.push(groupedListStyles.stuckHeader);\n  }\n\n  const classes = classNames(baseClasses);\n  const styleInterpolations = mergeInterpolations<FlexitemProps>([\n    ...Object.values(flexitemInterpolations)\n  ]);\n  const { class: cls, ...cellStyles } = styleInterpolations({\n    alignSelf: 'center',\n    flex: '1 0 auto'\n  });\n\n  useViewportIntersect(\n    {\n      scroller: () => {\n        if (isExpandable) {\n          return null;\n        }\n        if (viewportConfig == null) {\n          return document.body;\n        }\n        return viewportConfig.scroller();\n      }\n    },\n    0,\n    1,\n    '[data-oj-key=' + itemKey + ']',\n    () => {\n      setStuck(false);\n    },\n    (entry: IntersectionObserverEntry) => {\n      if (entry.boundingClientRect.y !== entry.intersectionRect.y) {\n        setStuck(true);\n      }\n    }\n  );\n  return (\n    <div\n      id={useId()}\n      role=\"row\"\n      aria-rowindex={itemIndex + 1}\n      aria-level={isNaN(itemDepth) ? undefined : itemDepth + 1}\n      data-oj-key={itemKey}\n      class={classes}\n      {...(typeof itemKey === 'number' && { 'data-oj-key-type': 'number' })}\n      {...interactionProps}>\n      <div\n        id={useId()}\n        role=\"gridcell\"\n        aria-describedby={ariaDescribedBy}\n        aria-colindex={1}\n        aria-expanded={containsKey(expandedKeys, itemKey)}\n        style={cellStyles}>\n        <TabbableModeContext.Provider value={{ isTabbable: false }}>\n          {children}\n        </TabbableModeContext.Provider>\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Flex } from '../UNSAFE_Flex';\nimport { Skeleton } from '../UNSAFE_Skeleton';\nimport { SkeletonContainer } from './SkeletonContainer';\n\nexport const GroupLoadingIndicator = () => (\n  <SkeletonContainer minimumCount={3}>\n    {(index: number) => {\n      const padding = { paddingLeft: index * 10 + 'px' };\n      return (\n        <Flex height=\"12x\" align=\"center\">\n          <span style={padding}></span>\n          <Skeleton height=\"4x\" />\n        </Flex>\n      );\n    }}\n  </SkeletonContainer>\n);\n"],"names":["_jsx","_jsxs"],"mappings":"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"}