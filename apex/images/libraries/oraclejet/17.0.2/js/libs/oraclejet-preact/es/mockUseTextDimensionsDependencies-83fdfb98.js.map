{"version":3,"file":"mockUseTextDimensionsDependencies-83fdfb98.js","sources":["../../test/mocks/mockUseTextDimensionsDependencies.ts"],"sourcesContent":["/**\n * Utility function that mocks the `FontFaceSet` interface of the document.\n * This is returned by 'document.fonts'.\n */\nconst setupDocumentFontsMock = () => {\n  // document.fonts isn't available in test environment\n  Object.defineProperty(global.document, 'fonts', {\n    writable: true,\n    configurable: true,\n    value: {\n      ready: Promise.resolve()\n    }\n  });\n};\n\n/**\n * Utility function that mocks the `FontFaceSet` interface of the document.\n * This is returned by 'document.fonts'.\n *\n * TODO: See if we can avoid passing the SVGElement reference.\n * For whatever reason, global.SVGElement is not defined until test runtime (global.HTMLElement is available though).\n */\nconst setupSVGTextElementMethodsMock = (SVGElement: any) => {\n  SVGElement.prototype.getBBox = jest.fn().mockReturnValue({\n    x: 0,\n    y: -15,\n    width: 18,\n    height: 18\n  });\n};\n\n/**\n * Utility function that mocks the dependencies of the useTextDimensions hook.\n *\n * Recommended to execute inside `beforeEach` of tests of components that consume useTextDimensions.\n * @param window The window object at test runtime.\n */\nexport const setupUseTextDimensionsDependenciesMock = (window: typeof globalThis) => {\n  if (!window.document.fonts) {\n    setupDocumentFontsMock();\n  }\n  // If headless, SVGTextElement is not defined and all svg elements are\n  // instances of SVGElement\n  if (!window.SVGTextElement) {\n    setupSVGTextElementMethodsMock(window.SVGElement);\n  }\n};\n"],"names":[],"mappings":";AAAA;;;AAGG;AACH,MAAM,sBAAsB,GAAG,MAAK;;IAElC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE;AAC9C,QAAA,QAAQ,EAAE,IAAI;AACd,QAAA,YAAY,EAAE,IAAI;AAClB,QAAA,KAAK,EAAE;AACL,YAAA,KAAK,EAAE,OAAO,CAAC,OAAO,EAAE;AACzB,SAAA;AACF,KAAA,CAAC,CAAC;AACL,CAAC,CAAC;AAEF;;;;;;AAMG;AACH,MAAM,8BAA8B,GAAG,CAAC,UAAe,KAAI;IACzD,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,eAAe,CAAC;AACvD,QAAA,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC,EAAE;AACN,QAAA,KAAK,EAAE,EAAE;AACT,QAAA,MAAM,EAAE,EAAE;AACX,KAAA,CAAC,CAAC;AACL,CAAC,CAAC;AAEF;;;;;AAKG;AACU,MAAA,sCAAsC,GAAG,CAAC,MAAyB,KAAI;AAClF,IAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE;AAC1B,QAAA,sBAAsB,EAAE,CAAC;KAC1B;;;AAGD,IAAA,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;AAC1B,QAAA,8BAA8B,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;KACnD;AACH;;;;"}