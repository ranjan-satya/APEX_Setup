define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Message-51d787d0', 'preact', './useTooltipControlled-abf886f2', 'css!./IconStyle.styles.css', './IconButton-1b328b69', './useTranslationBundle-6ef0dab6', './classNames-08d99695', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-2e19d8de', './MessagesManager-78a10f78', './Flex-1f27b601', './useTestId-82cf22a4', './LiveRegion-be6f36d7', './useMessagesFocusManager-8777bce0', './useComponentTheme-5aa41a8f', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './timer-571d3748', './Close-479a300b', './Icon-599f55f3', './size-4e81acac', './utils-61ef4ad6', './Common/themes/themeContract.css', './colorUtils-7c069766', './_curry1-df649359', './useTooltip-d28e9b0f', './UNSAFE_Icon/themes/IconStyle.css', './PRIVATE_Message/themes/MessageStyles.css', './useId-c9578d26', './Floating-85851b1a', 'preact/compat', './useFloating-bbd3396b', './useUser-6dd85af9', './LayerHost-eab40731', './Common/themes/redwood/theme', './positionUtils-3193ab54', './refUtils-d354a169', './useOutsideClick-4519a64e', './arrayUtils-6ee96a35', './Layer-3cc44164', './UNSAFE_Layer/themes/LayerStyles.css', 'css!./LayerStyles.styles.css', './useThemeInterpolations-41cbd433', './useColorScheme-711c1e4b', './useScale-e6b83382', './theme-a8f3d819', './Theme-d945adae', './mergeInterpolations-9ede4cf7', './mergeDeepWithKey-aaab9019', './_curry3-83878f86', './_curry2-86c52b86', './_isObject-42bafc94', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-d881c69a', './vanilla-extract-dynamic.esm-eceadd82', './UNSAFE_Floating/themes/FloatingContract.css', './useHover-1890d6a0', './useToggle-a29f97af', './useFocus-4194fc59', './useTouch-37489bb5', './mergeProps-bcfa6a92', './useAnimation-5bd3adfc', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', 'css!./TooltipContentStyles.styles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./TooltipContentVariants.styles.css', './EnvironmentProvider-46d0a245', './LayerManager-d0836029', './BaseButton-83ce1d00', './usePress-a9ed1488', './useActive-59e52f97', './TabbableModeContext-a9c97640', './useTabbableMode-dc440317', './dimensions-89f18413', './clientHints-030d25aa', './UNSAFE_BaseButton/themes/redwood/BaseButtonTheme', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './UNSAFE_BaseButton/themes/redwood/BaseButtonVariants.css', 'module', './ButtonLabelLayout-204d32ae', './Text-e132dec0', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutTheme', './UNSAFE_ButtonLabelLayout/themes/ButtonLabelLayoutStyles.css', 'css!./ButtonLabelLayoutStyles.styles.css', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutVariants.css', 'css!./ButtonLabelLayoutVariants.styles.css', './buttonUtils-20d1b249', './id-c70ab33c', './getLocale-ae79e654', './stringUtils-0ae982c2', './SuccessS-e1f2cad9', './ErrorS-f41bce95', './InformationS-28ac133d', './WarningS-f0365779', './logger-0f873e29', './soundUtils-f6535f03', './TransitionGroup-3b9d81b6', './MessagesContext-602a69a2', './useMessagesContext-1395a997', './Transition-04efcc49', './boxalignment-1e23a8e6', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-84d30764', './flexbox-8521f6aa', 'css!./flexbox.styles.css', './flexitem-5db48325', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', 'css!./LiveRegionStyles.styles.css', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'css!./MessageBannerStyles.styles.css', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css'], (function(e,s,t,a,o,n,l,r,i,c,d,u,m,g,h,y,f,b,B,S,F,T,p,x,M,U,_,L,E,A,N,w,v,C,R,k,I,H,j,V,P,O,W,z,K,$,D,G,q,J,Q,X,Y,Z,ee,se,te,ae,oe,ne,le,re,ie,ce,de,ue,me,ge,he,ye,fe,be,Be,Se,Fe,Te,pe,xe,Me,Ue,_e,Le,Ee,Ae,Ne,we,ve,Ce,Re,ke,Ie,He,je,Ve,Pe,Oe,We,ze,Ke,$e,De,Ge,qe,Je,Qe,Xe,Ye,Ze,es,ss,ts,as,os,ns,ls,rs,is,cs,ds,us,ms,gs,hs,ys,fs,bs,Bs,Ss,Fs,Ts){"use strict";const ps={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}},to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},xs={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({detailRendererKey:e,data:o,onClose:n,renderers:l,testId:r,variant:d="section"}){const u=h.useTestId(r),S=t.useRef(new Map),F=t.useRef(null),T=t.useRef(null),[p,x]=t.useState(),[M,U]=t.useState(o.length>0),_=i.useTranslationBundle("@oracle/oraclejet-preact"),L=t.useRef(o.length),E=t.useRef(0);L.current=o.length;const A=t.useCallback((e=>s=>S.current.set(e,s)),[]);t.useImperativeHandle(T,(()=>({focus:()=>{if(o.length){const e=o[0].key;return S.current.get(e)?.focus(),!0}return!1},contains:e=>!(!o.length||!e)&&(F.current?.contains(e)??!1)})),[o]);const{controller:N,handlers:w}=f.useMessageFocusManager(T,{onFocus:t.useCallback((()=>{x(_.message_navigationFromMessagesRegion())}),[x,_])}),v=t.useCallback((e=>{n?.(e)}),[n]),C=t.useCallback(((e,s,t)=>{const a=t?.contains(document.activeElement);if(0===L.current)return U(!1),void(a&&N.restorePriorFocus());const n=s+1<o.length?s+1:s-1;if(n>-1&&a){const e=o[n].key;S.current.get(e)?.focus()}}),[N,o]);t.useEffect((()=>{o.length?(U(!0),o.length>E.current&&x(_.message_navigationToMessagesRegion()),N.prioritize()):x(""),E.current=o.length}),[N,o,_]);const{classes:R}=b.useComponentTheme(B.MessageBannerRedwoodTheme);return M||0!==o.length?s.jsx("div",{ref:F,class:c.classNames(["oj-c-messagebanner",R]),tabIndex:-1,...w,...u,children:s.jsxs(g.Flex,{direction:"column",gap:"section"===d?"1x":void 0,children:[s.jsx(m.MessagesManager,{animationStates:ps,initialAnimationStyles:xs,data:o,onMessageWillRemove:C,children:({item:t})=>s.jsx(a.Message,{messageRef:A(t.key),item:t,detailRenderer:m.getRenderer(t,e,l),variant:"page"===d?"pageBanner":"sectionBanner",onClose:v},t.key)}),s.jsx(y.LiveRegion,{children:p})]})}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
