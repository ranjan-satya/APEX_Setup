{"version":3,"file":"TimeComponentCanvas2D-c2ab38ba.js","sources":["../../src/PRIVATE_TimeComponent/TimeComponentLayersStack.tsx","../../src/PRIVATE_TimeComponent/TimeComponentOverlayControlsContainer.tsx","../../src/PRIVATE_TimeComponent/TimeComponentPanZoomLayout.tsx","../../src/PRIVATE_TimeComponent/TimeComponentZoomControl.tsx","../../src/PRIVATE_TimeComponent/utils/timeUtils.ts","../../src/PRIVATE_TimeComponent/hooks/useWheel.ts","../../src/PRIVATE_TimeComponent/utils/timeZoomUtils.ts","../../src/PRIVATE_TimeComponent/TimeComponentZoomInControl.tsx","../../src/PRIVATE_TimeComponent/TimeComponentZoomOutControl.tsx","../../src/PRIVATE_TimeComponent/TimeComponentZoomControls.tsx","../../src/PRIVATE_TimeComponent/TimeComponentVerticalScrollbarContainer.tsx","../../src/PRIVATE_TimeComponent/hooks/useDrag.ts","../../src/PRIVATE_TimeComponent/TimeComponentScrollbar.tsx","../../src/PRIVATE_TimeComponent/TimeComponentVerticalScrollbar.tsx","../../src/PRIVATE_TimeComponent/TimeComponentHorizontalScrollbarContainer.tsx","../../src/PRIVATE_TimeComponent/TimeComponentHorizontalScrollbar.tsx","../../src/PRIVATE_TimeComponent/TimeComponentVerticalGridlines.tsx","../../src/PRIVATE_TimeComponent/TimeComponentHorizontalTimeAxisLabel.tsx","../../src/PRIVATE_TimeComponent/TimeComponentHorizontalTimeAxis.tsx","../../src/PRIVATE_TimeComponent/TimeComponentCanvas2D.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { toChildArray } from 'preact';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\nimport type { BoxAlignmentProps } from '../utils/UNSAFE_interpolations/boxalignment';\nimport { layersStackStyles } from './themes/TimeComponentStyles.css';\nimport { Size } from '../utils/UNSAFE_size';\n\ntype IntrinsicProps = Pick<HTMLAttributesSignalExcluded<HTMLDivElement>, 'children'>;\ntype Props = IntrinsicProps &\n  Omit<BoxAlignmentProps, 'gap'> & {\n    width?: Size;\n    height?: Size;\n  };\n\nexport function TimeComponentLayersStack({ width, height, children, align, justify }: Props) {\n  const layers = toChildArray(children);\n  return (\n    <div\n      class={layersStackStyles.base}\n      style={{ width, height, alignItems: align, justifyItems: justify }}>\n      {layers.map((layer) => (\n        <div class={layersStackStyles.layer}>{layer}</div>\n      ))}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Ref, useState } from 'preact/hooks';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { overlayControlsContainerStyles } from './themes/TimeComponentStyles.css';\nimport { HTMLAttributesSignalExcluded } from '../utils/UNSAFE_attributeUtils';\n\ntype IntrinsicProps = Pick<HTMLAttributesSignalExcluded<HTMLDivElement>, 'children'>;\ntype Props = IntrinsicProps & {\n  innerRef: Ref<HTMLDivElement>;\n};\n\nexport function TimeComponentOverlayControlsContainer({ innerRef, children }: Props) {\n  const [isVisible, setIsVisible] = useState(false);\n  const onControlsShow = () => setIsVisible(true);\n  const onControlsHide = () => setIsVisible(false);\n  const visibilityProps = { onControlsShow, onControlsHide };\n\n  return (\n    <div\n      ref={innerRef}\n      {...visibilityProps}\n      class={classNames([\n        overlayControlsContainerStyles.base,\n        isVisible && overlayControlsContainerStyles.visible\n      ])}>\n      {children}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Ref } from 'preact/hooks';\nimport { ComponentChildren } from 'preact';\nimport { panZoomLayoutStyles } from './themes/TimeComponentStyles.css';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { TimeComponentLayersStack } from './TimeComponentLayersStack';\nimport { TimeComponentOverlayControlsContainer } from './TimeComponentOverlayControlsContainer';\nimport { Size } from '../utils/UNSAFE_size';\n\ntype Props = {\n  overlayControlsContainerRef: Ref<HTMLDivElement>;\n  width?: Size;\n  height?: Size;\n  overlayControls?: ComponentChildren;\n  verticalControl?: ComponentChildren;\n  verticalControlTopGap?: string;\n  verticalControlBottomGap?: string;\n  verticalControlStartGap?: boolean;\n  horizontalControl?: ComponentChildren;\n  horizontalControlStartGap?: string;\n  horizontalControlEndGap?: string;\n  horizontalControlTopGap?: boolean;\n  vis: ComponentChildren;\n};\n\nexport function TimeComponentPanZoomLayout({\n  overlayControlsContainerRef,\n  width,\n  height,\n  overlayControls,\n  verticalControl,\n  verticalControlTopGap = '0',\n  verticalControlBottomGap = '0',\n  verticalControlStartGap = true,\n  horizontalControl,\n  horizontalControlStartGap = '0',\n  horizontalControlEndGap = '0',\n  horizontalControlTopGap = true,\n  vis\n}: Props) {\n  return (\n    <div\n      class={panZoomLayoutStyles.base}\n      style={{\n        gridTemplateColumns: `${horizontalControlStartGap} minmax(0, 1fr) ${horizontalControlEndGap} auto`,\n        gridTemplateRows: `${verticalControlTopGap} minmax(0, 1fr) ${verticalControlBottomGap} auto`,\n        width,\n        height\n      }}>\n      <div\n        class={classNames([\n          panZoomLayoutStyles.verticalControl,\n          verticalControlStartGap && panZoomLayoutStyles.verticalControlWithSpacing\n        ])}>\n        {verticalControl}\n      </div>\n      <div\n        class={classNames([\n          panZoomLayoutStyles.horizontalControl,\n          horizontalControlTopGap && panZoomLayoutStyles.horizontalControlWithSpacing\n        ])}>\n        {horizontalControl}\n      </div>\n      <div class={panZoomLayoutStyles.vis}>\n        {overlayControls ? (\n          <TimeComponentLayersStack>\n            {vis}\n            <TimeComponentOverlayControlsContainer innerRef={overlayControlsContainerRef}>\n              {overlayControls}\n            </TimeComponentOverlayControlsContainer>\n          </TimeComponentLayersStack>\n        ) : (\n          vis\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren } from 'preact';\nimport { BaseButton } from '../UNSAFE_BaseButton';\nimport { ButtonLabelLayout } from '../UNSAFE_ButtonLabelLayout';\nimport { zoomControlStyles } from './themes/TimeComponentStyles.css';\nimport { useTooltip } from '../hooks/UNSAFE_useTooltip';\n\ntype Props = {\n  children?: ComponentChildren;\n  accessibleLabel: string;\n  isDisabled: boolean;\n  onAction: () => void;\n};\n\nexport function TimeComponentZoomControl({\n  children,\n  accessibleLabel,\n  isDisabled = false,\n  onAction\n}: Props) {\n  const {\n    tooltipContent,\n    tooltipProps: { onFocus, onBlur, ...restTooltipProps }\n  } = useTooltip({ text: accessibleLabel });\n\n  // Note that below we ensure the button is not tabbable;\n  // one should use a specific set of keyboard shortcuts for zooming instead.\n  // TODO: Work with UX to confirm the final look, and then switch to use the EmbeddedIconButton.\n  return (\n    <div class={zoomControlStyles.base} {...restTooltipProps}>\n      <BaseButton\n        elementDetails={isDisabled ? undefined : { type: 'span', isFocusable: false }}\n        isDisabled={isDisabled}\n        size=\"sm\"\n        variant=\"outlined\"\n        styling={['min']}\n        onAction={onAction}>\n        <ButtonLabelLayout display={'icons'} startIcon={children} size={'sm'}></ButtonLabelLayout>\n      </BaseButton>\n      {tooltipContent}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { getFormatParse } from '../../UNSAFE_IntlDateTime';\nimport { TimeComponentScale } from '../timeComponent.types';\n\nconst DAY = 1000 * 60 * 60 * 24;\n\n/**\n * Returns the timestamp value of the given ISO date string.\n * @param date The ISO date string.\n * @returns The number of milliseconds that has elapsed since the epoch.\n */\nconst parseDate = (date: string) => Date.parse(date);\n\n/**\n * Returns the ISO date string given a date timestamp.\n * @param date The timestamp (number of milliseconds that has elapsed since the epoch.)\n * @returns The corresponding ISO date string.\n */\nconst getISOString = (time: number) => new Date(time).toISOString();\n\n/**\n * Gets the pixel position of the given time in a given viewport.\n * @param time The query time.\n * @param viewportStartTime The viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param width The viewport width.\n * @param isRTL Whether the reading direction is rtl.\n * @returns The pixel position.\n */\nconst getTimePosition = (\n  time: number,\n  viewportStartTime: number,\n  viewportEndTime: number,\n  width: number,\n  isRTL: boolean\n) => {\n  const ltrPos = (width * (time - viewportStartTime)) / (viewportEndTime - viewportStartTime);\n  return isRTL ? width - ltrPos : ltrPos;\n};\n\n/**\n * Gets the time of a given pixel position in a given viewport.\n * @param pos The query position.\n * @param viewportStartTime Thew viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param width The viewport width.\n * @param isRTL Whether the reading direction is rtl.\n * @returns The time.\n */\nconst getPositionTime = (\n  pos: number,\n  viewportStartTime: number,\n  viewportEndTime: number,\n  width: number,\n  isRTL: boolean\n) => {\n  const ltrPos = isRTL ? width - pos : pos;\n  return (ltrPos * (viewportEndTime - viewportStartTime)) / width + viewportStartTime;\n};\n\n/**\n * Gets an appropriate date formatter function for the given scale.\n * @param scale The time scale.\n * @param timeTest A time to invoke the scale on to determine the best date formatter function to return.\n * @returns The date formatter function.\n */\nconst getDefaultDateFormatter = (scale: TimeComponentScale, timeTest: number) => {\n  // This is used for default datatip and acc.\n  // Note that in legacy, the default converter depends on the enum scale of the minor axis.\n  // However, in preact, we don't have enum scales, so we'll instead default based\n  // on the duration of a minor axis scale interval, i.e. if interval < 1 day, use datetime formatter,\n  // otherwise use date formatter. This should yield the same desired behavior if the default importable scales\n  // are used. For custom scales in legacy we just use dateformatter always even when the resolution is in < day.\n  // So arguably, this is a better default behavior than what we have in legacy.\n  //\n  // TODO: Decide whether to change legacy to do this behavior, OR in corepack, to 100%\n  // preserve the legacy behavior for default datatips + custom time scales,\n  // we'll make sure to pass the appropriate default converter to\n  // preact comp's valueformats based on scale (when we support valueformats in the future).\n  const timeTestString = getISOString(timeTest);\n  const intervalStart = parseDate(scale.getPreviousDate(timeTestString));\n  const intervalEnd = parseDate(scale.getNextDate(timeTestString));\n  const duration = intervalEnd - intervalStart;\n  const formatOptions =\n    duration <= DAY\n      ? {\n          dateStyle: 'medium' as const,\n          timeStyle: 'medium' as const,\n          locale: navigator.language\n        }\n      : {\n          dateStyle: 'medium' as const,\n          locale: navigator.language\n        };\n  return getFormatParse(formatOptions).format as (date: string) => string;\n};\n\nexport { parseDate, getISOString, getTimePosition, getPositionTime, getDefaultDateFormatter };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\ntype WheelDetail = {\n  x: number;\n  y: number;\n  deltaX: number;\n  deltaY: number;\n  ctrlKey: boolean;\n};\n\ntype UseWheelOptions = {\n  onWheel: (detail: WheelDetail) => void;\n  preventDefault?: boolean;\n  isDisabled?: boolean;\n};\n\nconst PX_FACTOR_PER_LINE = 15; // Value used in Toolkit\nconst PX_FACTOR_PER_PAGE = 40; // Value copied from datagrid; this is not handled in Toolkit\n\nconst getNormalizedDelta = (e: WheelEvent) => {\n  const { deltaX, deltaY, deltaMode } = e;\n\n  switch (deltaMode) {\n    case e.DOM_DELTA_PIXEL:\n      return { deltaX: -deltaX, deltaY: -deltaY };\n    case e.DOM_DELTA_LINE:\n      return { deltaX: -deltaX * PX_FACTOR_PER_LINE, deltaY: -deltaY * PX_FACTOR_PER_LINE };\n    case e.DOM_DELTA_PAGE:\n      return { deltaX: -deltaX * PX_FACTOR_PER_PAGE, deltaY: -deltaY * PX_FACTOR_PER_PAGE };\n    default:\n      return { deltaX: -deltaX, deltaY: -deltaY };\n  }\n};\n\n/**\n * Hook that enables and handles wheel gestures.\n */\nconst useWheel = ({\n  onWheel: onWheelCallback,\n  preventDefault = true,\n  isDisabled = false\n}: UseWheelOptions) => {\n  const onWheel = (e: WheelEvent) => {\n    const { deltaX, deltaY } = getNormalizedDelta(e);\n    if (preventDefault) e.preventDefault();\n    onWheelCallback({\n      x: e.offsetX,\n      y: e.offsetY,\n      deltaX,\n      deltaY,\n      ctrlKey: e.ctrlKey || e.metaKey\n    });\n  };\n  return isDisabled ? {} : { onWheel };\n};\n\nexport { useWheel, PX_FACTOR_PER_LINE };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport type {\n  OnTimeComponentViewportChange,\n  TimeComponentZoomParameters\n} from '../timeComponent.types';\nimport { PX_FACTOR_PER_LINE } from '../hooks/useWheel';\nimport { getISOString } from './timeUtils';\n\nconst DEFAULT_ZOOM_IN_FACTOR = 1.25;\nconst DEFAULT_ZOOM_OUT_FACTOR = 1 / 1.25;\n\n/**\n * Gets the zoom viewport given the current viewport, zoom location, zoom factor, etc.\n * @param time The zoom location.\n * @param viewportStartTime The viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param startTime The start time.\n * @param endTime The end time.\n * @param zoomFactor The zoom factor.\n * @param minViewportDuration The min viewport duration.\n * @param maxViewportDuration The max viewport duration.\n * @returns The new viewport if the zoom were to happen.\n */\nconst getZoomViewport = (\n  time: number,\n  viewportStartTime: number,\n  viewportEndTime: number,\n  startTime: number,\n  endTime: number,\n  zoomFactor: number,\n  minViewportDuration: number,\n  maxViewportDuration: number\n) => {\n  // Let\n  // t = time point that triggered the zoom\n  // vs = viewport start time\n  // ve = viewport end time\n  // s = start time\n  // e = end time\n  // N = zoom factor, e.g. zoom factor == 2 means the content should \"stretch\"/\"scale\" by 2x.\n  //\n  // Zooming by N means:\n  //     current viewport: (vs, ve)\n  //     current viewport duration: (ve - vs)\n  //     final viewport: (vs + ds, ve - de) for some ds, de\n  //     final viewport duration: (1/N)*(ve - vs) = (ve - de) - (vs + ds)\n  //\n  // Solving for ds and de:\n  // (ve - de) - (vs + ds) = (1/N)*(ve - vs)\n  // (ve - vs) - (de + ds) = (1/N)*(ve - vs)\n  // (de + ds) = (ve - vs) * (1 - 1/N)\n  //\n  // Note that (t - vs) / (ve - vs) = ds / (de + ds). Rearranging and substituting the above:\n  // ds = (de + ds) * (t - vs) / (ve - vs)\n  // ds = (ve - vs) * (1 - 1/N) * (t - vs) / (ve - vs)\n  // ds = (1 - 1/N) * (t - vs)\n  //\n  // de = (ve - vs) * (1 - 1/N) - ds\n  // de = (ve - vs) * (1 - 1/N) - (1 - 1/N) * (t - vs)\n  // de = (1 - 1/N)(ve - vs - t + vs)\n  // de = (1 - 1/N)(ve - t)\n  //\n  // Therefore, assuming NO bounds and constraints:\n  // ds = (1 - 1/N) * (t - vs)\n  // de = (1 - 1/N)(ve - t)\n  // Final viewport after zoom: (vs + ds, ve - de)\n  //\n  // In reality, there is a max amount of zoom in (minViewportDuration),\n  // and a max amount of zoom out (maxViewportDuration),\n  // and the final viewport is constrained by the start and end edges,\n  // so the code below takes these constraints into account:\n\n  const t = time;\n  const vs = viewportStartTime;\n  const ve = viewportEndTime;\n  const s = startTime;\n  const e = endTime;\n  const N = zoomFactor;\n\n  const dur = ve - vs;\n  const dsMax = Math.max(0, dur - minViewportDuration) * ((t - vs) / dur);\n  const deMax = Math.max(0, dur - minViewportDuration) * ((ve - t) / dur);\n  const dsMin = -Math.max(0, maxViewportDuration - dur) * ((t - vs) / dur);\n  const deMin = -Math.max(0, maxViewportDuration - dur) * ((ve - t) / dur);\n\n  const ds = Math.max(dsMin, Math.min(dsMax, (1 - 1 / N) * (t - vs)));\n  const de = Math.max(deMin, Math.min(deMax, (1 - 1 / N) * (ve - t)));\n\n  const sOverShoot = Math.max(0, s - (vs + ds));\n  const eOverShoot = Math.max(0, ve - de - e);\n\n  return {\n    newViewportStartTime: Math.max(s, vs + (ds - eOverShoot)),\n    newViewportEndTime: Math.min(e, ve - (de - sOverShoot))\n  };\n};\n\n/**\n * Gets the best zoom order index given a viewport.\n * @param viewportStartTime The viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param zoomOrderViewDurationThresholds The computed zoom order viewport duration thresholds.\n * @returns\n */\nconst getZoomOrderIndex = (\n  viewportStartTime: number,\n  viewportEndTime: number,\n  zoomOrderViewDurationThresholds: number[]\n) => {\n  const duration = viewportEndTime - viewportStartTime;\n  const nextIndex = [...zoomOrderViewDurationThresholds, -Infinity].findIndex(\n    (threshold) => duration > threshold\n  );\n  return nextIndex - 1;\n};\n\n/**\n * Gets the best time axes scales given the viewport.\n * @param viewportStartTime The viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param zoomOrderViewDurationThresholds The computed zoom order viewport duration thresholds.\n * @param minorAxisZoomOrder The minor axis zoom order.\n * @param minorAxisZoomOrderIndex The current minor axis zoom order index.\n * @param majorAxisZoomOrder The major axis zoom order.\n * @param majorAxisZoomOrderIndex The current major axis zoom order index.\n * @returns The best time axes scales given the viewport.\n */\nconst getZoomScales = (\n  viewportStartTime: number,\n  viewportEndTime: number,\n  zoomOrderViewDurationThresholds: number[],\n  minorAxisZoomOrder: TimeComponentZoomParameters['minorAxisZoomOrder'],\n  minorAxisZoomOrderIndex: number,\n  majorAxisZoomOrder?: TimeComponentZoomParameters['majorAxisZoomOrder'],\n  majorAxisZoomOrderIndex?: number\n) => {\n  const idealMinorZoomOrderIndex = getZoomOrderIndex(\n    viewportStartTime,\n    viewportEndTime,\n    zoomOrderViewDurationThresholds\n  );\n  let indexOffset = 0;\n  if (majorAxisZoomOrder === undefined) {\n    indexOffset = idealMinorZoomOrderIndex - minorAxisZoomOrderIndex;\n  } else if (idealMinorZoomOrderIndex >= minorAxisZoomOrderIndex) {\n    indexOffset = Math.min(\n      idealMinorZoomOrderIndex - minorAxisZoomOrderIndex,\n      majorAxisZoomOrder.length - 1 - majorAxisZoomOrderIndex!\n    );\n  } else {\n    indexOffset = -Math.min(\n      minorAxisZoomOrderIndex - idealMinorZoomOrderIndex,\n      majorAxisZoomOrderIndex!\n    );\n  }\n  return {\n    minorAxisScale: minorAxisZoomOrder[minorAxisZoomOrderIndex + indexOffset],\n    majorAxisScale: majorAxisZoomOrder && majorAxisZoomOrder[majorAxisZoomOrderIndex! + indexOffset]\n  };\n};\n\n/**\n * Gets the equivalent zoom factor from a zoom gesture value (e.g. wheel delta value).\n * @param delta The zoom gesture value.\n * @returns The corresponding zoom factor to apply.\n */\nconst getGestureZoomFactor = (delta: number) => {\n  const deltaVal = Math.abs(delta);\n  const deltaSign = Math.sign(delta);\n  // Formula is adopted from TimeComponent Toolkit\n  // But in toolkit we use the deprecated WheelEvent.wheelDelta(Y) instead of WheelEvent.delta(Y)\n  // We use the latter here, but the two values are a bit different and it's unclear how they relate.\n  // According to MDN wheelDelta is platform dependent but generally represents mouse wheel turns,\n  // and in our case delta represent pixels.\n  // So the constants in the formula below are tweaked based on \"feel\"\n  // (e.g., changed from 0.02 toolkit value to 0.05, and approximating wheelDelta as delta/(px per line)).\n  return ((deltaVal / PX_FACTOR_PER_LINE) * 0.05 + 1) ** deltaSign;\n};\n\n/**\n * Performs a zoom, by invoking a viewport change callback with the new viewport.\n * @param time The zoom location.\n * @param viewportStartTime The viewport start time.\n * @param viewportEndTime The viewport end time.\n * @param startTime The start time.\n * @param endTime The end time.\n * @param zoomFactor The zoom factor.\n * @param minZoomViewportDuration The min viewport duration.\n * @param maxZoomViewportDuration The max viewport duration.\n * @param zoomOrderViewDurationThresholds The computed zoom order viewport duration thresholds.\n * @param minorAxisZoomOrder The major axis zoom order.\n * @param minorAxisZoomOrderIndex The current minor axis zoom order index.\n * @param majorAxisZoomOrder The major axis zoom order.\n * @param majorAxisZoomOrderIndex The current major axis zoom order index.\n * @param onViewportChange The viewport change callback.\n * @returns The new viewport, and whether the viewport actually changed.\n */\nconst zoomTime = (\n  time: number,\n  viewportStartTime: number,\n  viewportEndTime: number,\n  startTime: number,\n  endTime: number,\n  zoomFactor: number,\n  minZoomViewportDuration: number,\n  maxZoomViewportDuration: number,\n  zoomOrderViewDurationThresholds: number[],\n  minorAxisZoomOrder: TimeComponentZoomParameters['minorAxisZoomOrder'],\n  minorAxisZoomOrderIndex: number,\n  majorAxisZoomOrder?: TimeComponentZoomParameters['majorAxisZoomOrder'],\n  majorAxisZoomOrderIndex?: number,\n  onViewportChange?: OnTimeComponentViewportChange\n) => {\n  const { newViewportStartTime, newViewportEndTime } = getZoomViewport(\n    time,\n    viewportStartTime,\n    viewportEndTime,\n    startTime,\n    endTime,\n    zoomFactor,\n    minZoomViewportDuration,\n    maxZoomViewportDuration\n  );\n  const { minorAxisScale, majorAxisScale } = getZoomScales(\n    newViewportStartTime,\n    newViewportEndTime,\n    zoomOrderViewDurationThresholds,\n    minorAxisZoomOrder,\n    minorAxisZoomOrderIndex,\n    majorAxisZoomOrder,\n    majorAxisZoomOrderIndex\n  );\n  const newViewport = {\n    viewportStartTime: newViewportStartTime,\n    viewportEndTime: newViewportEndTime,\n    majorAxisScale,\n    minorAxisScale\n  };\n  const isViewportChanged =\n    newViewportStartTime !== viewportStartTime || newViewportEndTime !== viewportEndTime;\n\n  if (onViewportChange && isViewportChanged) {\n    onViewportChange({\n      viewportStart: getISOString(newViewportStartTime),\n      viewportEnd: getISOString(newViewportEndTime),\n      majorAxisScale,\n      minorAxisScale\n    });\n  }\n\n  return { newViewport, isViewportChanged };\n};\n\nexport { zoomTime, getGestureZoomFactor, DEFAULT_ZOOM_IN_FACTOR, DEFAULT_ZOOM_OUT_FACTOR };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { TimeComponentZoomControl } from './TimeComponentZoomControl';\nimport { PlusIcon } from '../PRIVATE_ThemedIcons/PlusIcon';\nimport type {\n  OnTimeComponentViewportChange,\n  TimeComponentZoomParameters\n} from './timeComponent.types';\nimport { getISOString } from './utils/timeUtils';\nimport { zoomTime, DEFAULT_ZOOM_IN_FACTOR } from './utils/timeZoomUtils';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\ntype Props = {\n  zoomFactor?: number;\n  startTime: number;\n  endTime: number;\n  viewportStartTime: number;\n  viewportEndTime: number;\n  majorAxisZoomOrder?: TimeComponentZoomParameters['majorAxisZoomOrder'];\n  majorAxisZoomOrderIndex?: TimeComponentZoomParameters['majorAxisZoomOrderIndex'];\n  minorAxisZoomOrder: TimeComponentZoomParameters['minorAxisZoomOrder'];\n  minorAxisZoomOrderIndex: TimeComponentZoomParameters['minorAxisZoomOrderIndex'];\n  zoomOrderViewDurationThresholds: ReturnType<\n    TimeComponentZoomParameters['getZoomOrderViewDurationThresholds']\n  >;\n  minZoomViewportDuration: TimeComponentZoomParameters['minZoomViewportDuration'];\n  maxZoomViewportDuration: TimeComponentZoomParameters['maxZoomViewportDuration'];\n  onViewportChange?: OnTimeComponentViewportChange;\n};\n\nexport function TimeComponentZoomInControl({\n  zoomFactor = DEFAULT_ZOOM_IN_FACTOR,\n  startTime,\n  endTime,\n  viewportStartTime,\n  viewportEndTime,\n  majorAxisZoomOrder,\n  majorAxisZoomOrderIndex,\n  minorAxisZoomOrder,\n  minorAxisZoomOrderIndex,\n  zoomOrderViewDurationThresholds,\n  minZoomViewportDuration,\n  maxZoomViewportDuration,\n  onViewportChange\n}: Props) {\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const accessibleLabel = translations.timeComponent_tooltipZoomIn();\n\n  const viewportCenter = viewportStartTime + (viewportEndTime - viewportStartTime) / 2;\n  const { newViewport, isViewportChanged } = zoomTime(\n    viewportCenter,\n    viewportStartTime,\n    viewportEndTime,\n    startTime,\n    endTime,\n    zoomFactor,\n    minZoomViewportDuration,\n    maxZoomViewportDuration,\n    zoomOrderViewDurationThresholds,\n    minorAxisZoomOrder,\n    minorAxisZoomOrderIndex,\n    majorAxisZoomOrder,\n    majorAxisZoomOrderIndex\n  );\n  const isDisabled = !isViewportChanged;\n\n  const onAction = () => {\n    onViewportChange?.({\n      viewportStart: getISOString(newViewport.viewportStartTime),\n      viewportEnd: getISOString(newViewport.viewportEndTime),\n      majorAxisScale: newViewport.majorAxisScale,\n      minorAxisScale: newViewport.minorAxisScale\n    });\n  };\n\n  return (\n    <TimeComponentZoomControl\n      accessibleLabel={accessibleLabel}\n      isDisabled={isDisabled}\n      onAction={onAction}>\n      <PlusIcon size=\"4x\" />\n    </TimeComponentZoomControl>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { TimeComponentZoomControl } from './TimeComponentZoomControl';\nimport { MinusIcon } from '../PRIVATE_ThemedIcons/MinusIcon';\nimport type {\n  OnTimeComponentViewportChange,\n  TimeComponentZoomParameters\n} from './timeComponent.types';\nimport { getISOString } from './utils/timeUtils';\nimport { zoomTime, DEFAULT_ZOOM_OUT_FACTOR } from './utils/timeZoomUtils';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\ntype Props = {\n  zoomFactor?: number;\n  startTime: number;\n  endTime: number;\n  viewportStartTime: number;\n  viewportEndTime: number;\n  majorAxisZoomOrder?: TimeComponentZoomParameters['majorAxisZoomOrder'];\n  majorAxisZoomOrderIndex?: TimeComponentZoomParameters['majorAxisZoomOrderIndex'];\n  minorAxisZoomOrder: TimeComponentZoomParameters['minorAxisZoomOrder'];\n  minorAxisZoomOrderIndex: TimeComponentZoomParameters['minorAxisZoomOrderIndex'];\n  zoomOrderViewDurationThresholds: ReturnType<\n    TimeComponentZoomParameters['getZoomOrderViewDurationThresholds']\n  >;\n  minZoomViewportDuration: TimeComponentZoomParameters['minZoomViewportDuration'];\n  maxZoomViewportDuration: TimeComponentZoomParameters['maxZoomViewportDuration'];\n  onViewportChange?: OnTimeComponentViewportChange;\n};\n\nexport function TimeComponentZoomOutControl({\n  zoomFactor = DEFAULT_ZOOM_OUT_FACTOR,\n  startTime,\n  endTime,\n  viewportStartTime,\n  viewportEndTime,\n  majorAxisZoomOrder,\n  majorAxisZoomOrderIndex,\n  minorAxisZoomOrder,\n  minorAxisZoomOrderIndex,\n  zoomOrderViewDurationThresholds,\n  minZoomViewportDuration,\n  maxZoomViewportDuration,\n  onViewportChange\n}: Props) {\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const accessibleLabel = translations.timeComponent_tooltipZoomOut();\n\n  const viewportCenter = viewportStartTime + (viewportEndTime - viewportStartTime) / 2;\n  const { newViewport, isViewportChanged } = zoomTime(\n    viewportCenter,\n    viewportStartTime,\n    viewportEndTime,\n    startTime,\n    endTime,\n    zoomFactor,\n    minZoomViewportDuration,\n    maxZoomViewportDuration,\n    zoomOrderViewDurationThresholds,\n    minorAxisZoomOrder,\n    minorAxisZoomOrderIndex,\n    majorAxisZoomOrder,\n    majorAxisZoomOrderIndex\n  );\n  const isDisabled = !isViewportChanged;\n\n  const onAction = () => {\n    onViewportChange?.({\n      viewportStart: getISOString(newViewport.viewportStartTime),\n      viewportEnd: getISOString(newViewport.viewportEndTime),\n      majorAxisScale: newViewport.majorAxisScale,\n      minorAxisScale: newViewport.minorAxisScale\n    });\n  };\n\n  return (\n    <TimeComponentZoomControl\n      accessibleLabel={accessibleLabel}\n      isDisabled={isDisabled}\n      onAction={onAction}>\n      <MinusIcon size=\"4x\" />\n    </TimeComponentZoomControl>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { TrackResizeContainer } from '../PRIVATE_TrackResizeContainer';\nimport { Flex } from '../UNSAFE_Flex';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { zoomControlsLayoutStyles } from './themes/TimeComponentStyles.css';\nimport { TimeComponentZoomInControl } from './TimeComponentZoomInControl';\nimport { TimeComponentZoomOutControl } from './TimeComponentZoomOutControl';\nimport type {\n  OnTimeComponentViewportChange,\n  TimeComponentZoomParameters\n} from './timeComponent.types';\n\ntype Props = {\n  position?: 'topStart' | 'topEnd' | 'bottomStart' | 'bottomEnd';\n  zoomParameters: TimeComponentZoomParameters;\n  onViewportChange?: OnTimeComponentViewportChange;\n};\n\nexport function TimeComponentZoomControls({\n  position = 'topEnd',\n  zoomParameters,\n  onViewportChange\n}: Props) {\n  return (\n    <TrackResizeContainer width=\"100%\" height=\"100%\">\n      {(width, _) => {\n        const { getZoomOrderViewDurationThresholds, ...restZoomParameters } = zoomParameters;\n        const zoomOrderViewDurationThresholds = getZoomOrderViewDurationThresholds(width);\n        return (\n          <div\n            class={classNames([zoomControlsLayoutStyles.base, zoomControlsLayoutStyles[position]])}>\n            <div class={zoomControlsLayoutStyles.controls}>\n              <Flex direction=\"column\" gap=\"2.25x\">\n                <TimeComponentZoomInControl\n                  {...restZoomParameters}\n                  zoomOrderViewDurationThresholds={zoomOrderViewDurationThresholds}\n                  onViewportChange={onViewportChange}\n                />\n                <TimeComponentZoomOutControl\n                  {...restZoomParameters}\n                  zoomOrderViewDurationThresholds={zoomOrderViewDurationThresholds}\n                  onViewportChange={onViewportChange}\n                />\n              </Flex>\n            </div>\n          </div>\n        );\n      }}\n    </TrackResizeContainer>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren } from 'preact';\nimport { TrackResizeContainer } from '../PRIVATE_TrackResizeContainer';\nimport { verticalScrollbarStyles } from './themes/TimeComponentStyles.css';\nimport type { getResolvedVerticalScrollbarLayout } from './utils/scrollbarLayoutUtils';\n\ntype GetLayout = ReturnType<typeof getResolvedVerticalScrollbarLayout>;\ntype OnRangeChange = (newMin: number, newMax: number) => void;\ntype Layout = ReturnType<GetLayout> & { onRangeChange: OnRangeChange } & {\n  width: number;\n  height: number;\n};\n\ntype Props = {\n  getLayout: GetLayout;\n  onRangeChange: OnRangeChange;\n  children: (layout: Layout) => ComponentChildren;\n};\n\nexport function TimeComponentVerticalScrollbarContainer({\n  getLayout,\n  onRangeChange,\n  children\n}: Props) {\n  return (\n    <div class={verticalScrollbarStyles.base}>\n      <TrackResizeContainer width=\"100%\" height=\"100%\">\n        {(width, height) => children({ ...getLayout(height), onRangeChange, width, height })}\n      </TrackResizeContainer>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Ref, useRef } from 'preact/hooks';\nimport { usePointerGesture } from './usePointerGesture';\n\ntype DraggableRegion = {\n  xMin: number;\n  xMax: number;\n  yMin: number;\n  yMax: number;\n};\n\ntype DragDetail = {\n  x: number;\n  y: number;\n  dx: number;\n  dy: number;\n  regionOffsetX: number;\n  regionOffsetY: number;\n  originalEvent: PointerEvent;\n};\n\ntype UseDragOptions = {\n  captureTargetRef: Ref<HTMLDivElement>;\n  draggableRegion?: DraggableRegion;\n  onDragStart?: (detail: Omit<DragDetail, 'dx' | 'dy'>) => void;\n  onDragMove?: (detail: DragDetail) => void;\n  onDragEnd?: (detail: DragDetail) => void;\n  isDisabled?: boolean;\n};\n\nconst inDraggableRegion = (x: number, y: number, region?: DraggableRegion) => {\n  if (!region) return true;\n  const { xMin, xMax, yMin, yMax } = region;\n  return x >= xMin && x <= xMax && y >= yMin && y <= yMax;\n};\n\nconst getRegionOffset = (x: number, y: number, region?: DraggableRegion) => {\n  if (!region) return { regionOffsetX: x, regionOffsetY: y };\n  return { regionOffsetX: x - region.xMin, regionOffsetY: y - region.yMin };\n};\n\n/**\n * Hook that enables and handles drag gestures.\n */\nconst useDrag = ({\n  captureTargetRef,\n  draggableRegion,\n  onDragStart,\n  onDragMove,\n  onDragEnd,\n  isDisabled = false\n}: UseDragOptions) => {\n  const inactiveState = { isDragging: false, x0: -1, y0: -1, regionOffsetX: -1, regionOffsetY: -1 };\n  const dragState = useRef(inactiveState);\n\n  const handlePointerEvent = (e: PointerEvent, cb?: (detail: DragDetail) => void) => {\n    const { isDragging, x0, y0, regionOffsetX, regionOffsetY } = dragState.current;\n    if (!isDragging) return;\n    const x = e.offsetX;\n    const y = e.offsetY;\n    cb && cb({ x, y, dx: x - x0, dy: y - y0, regionOffsetX, regionOffsetY, originalEvent: e });\n  };\n\n  const dragProps = usePointerGesture({\n    captureTargetRef,\n    numPointers: 1, // Only allow 1 pointer dragging\n    onExtraneousPointerDown: () => {\n      dragState.current = inactiveState;\n    },\n    onPointerGestureDown: ({ pointers: [e] }) => {\n      const x = e.offsetX;\n      const y = e.offsetY;\n      if (e.button !== 0 || !inDraggableRegion(x, y, draggableRegion)) return;\n      const { regionOffsetX, regionOffsetY } = getRegionOffset(x, y, draggableRegion);\n      dragState.current = { isDragging: true, x0: x, y0: y, regionOffsetX, regionOffsetY };\n      // captureTargetRef.current!.setPointerCapture(e.pointerId);\n      onDragStart && onDragStart({ x, y, regionOffsetX, regionOffsetY, originalEvent: e });\n    },\n    onPointerGestureMove: ({ pointers: [e] }) => {\n      handlePointerEvent(e, onDragMove);\n    },\n    onPointerGestureEnd: ({ pointers: [e] }) => {\n      handlePointerEvent(e, onDragEnd);\n      dragState.current = inactiveState;\n    }\n  });\n\n  return isDisabled ? {} : dragProps;\n};\n\nexport { useDrag };\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useRef } from 'preact/hooks';\nimport { useDrag } from './hooks/useDrag';\nimport type {\n  horizontalScrollbarStyles,\n  verticalScrollbarStyles\n} from './themes/TimeComponentStyles.css';\n\ntype HorizontalThumbProps = {\n  thumbWidth: number;\n  thumbHeight?: undefined;\n  thumbTop?: undefined;\n  thumbLeft?: number;\n  thumbRight?: number;\n  styles: typeof horizontalScrollbarStyles;\n};\n\ntype VerticalThumbProps = {\n  thumbWidth?: undefined;\n  thumbHeight: number;\n  thumbTop: number;\n  thumbLeft?: undefined;\n  thumbRight?: undefined;\n  styles: typeof verticalScrollbarStyles;\n};\n\ntype Props = (HorizontalThumbProps | VerticalThumbProps) & {\n  draggableRegion: { xMin: number; xMax: number; yMin: number; yMax: number };\n  processDragRangeXChange?: (x: number, thumbOffsetX: number) => void;\n  processDragRangeYChange?: (y: number, thumbOffsetY: number) => void;\n  processClickRangeXChange?: (x: number) => void;\n  processClickRangeYChange?: (y: number) => void;\n  width: number;\n  height: number;\n};\n\nexport function TimeComponentScrollbar({\n  thumbWidth,\n  thumbHeight,\n  thumbTop,\n  thumbLeft,\n  thumbRight,\n  draggableRegion,\n  processDragRangeXChange,\n  processDragRangeYChange,\n  processClickRangeXChange,\n  processClickRangeYChange,\n  styles,\n  width,\n  height\n}: Props) {\n  // Scrollbar is draggable to change the range\n  const ref = useRef<HTMLDivElement>(null);\n  const dragProps = useDrag({\n    captureTargetRef: ref,\n    draggableRegion,\n    onDragMove: ({ x, y, regionOffsetX, regionOffsetY }) => {\n      processDragRangeXChange?.(x, regionOffsetX);\n      processDragRangeYChange?.(y, regionOffsetY);\n    }\n  });\n\n  // Scrollbar is also clickable to jump to an arbitrary range\n  const handleClick = (e: MouseEvent) => {\n    const x = e.offsetX;\n    const y = e.offsetY;\n    const { xMin, xMax, yMin, yMax } = draggableRegion;\n    const inDraggableRegion = x >= xMin && x <= xMax && y >= yMin && y <= yMax;\n    if (inDraggableRegion) return;\n    processClickRangeXChange?.(x);\n    processClickRangeYChange?.(y);\n  };\n\n  return (\n    <div\n      ref={ref}\n      class={styles.container}\n      style={{ width, height }}\n      onClick={handleClick}\n      {...dragProps}>\n      <div class={styles.track}>\n        <div\n          class={styles.thumb}\n          style={{\n            width: thumbWidth,\n            height: thumbHeight,\n            top: thumbTop,\n            left: thumbLeft,\n            right: thumbRight\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useRef } from 'preact/hooks';\nimport { verticalScrollbarStyles } from './themes/TimeComponentStyles.css';\nimport { TimeComponentScrollbar } from './TimeComponentScrollbar';\n\ntype Props = {\n  thumbHeight: number;\n  thumbTop: number;\n  draggableRegion: { xMin: number; xMax: number; yMin: number; yMax: number };\n  getNewRange: (newThumbTop: number) => { newMin: number; newMax: number };\n  onRangeChange: (newMin: number, newMax: number) => void;\n  width: number;\n  height: number;\n};\n\nexport function TimeComponentVerticalScrollbar({ getNewRange, onRangeChange, ...props }: Props) {\n  const prevRange = useRef({ min: 0, max: 0 });\n  const processRange = (newMin: number, newMax: number) => {\n    const { min: prevMin, max: prevMax } = prevRange.current;\n    const isRangeChanged = newMin !== prevMin || newMax !== prevMax;\n    isRangeChanged && onRangeChange(newMin, newMax);\n    prevRange.current = { min: newMin, max: newMax };\n  };\n\n  const processDragRangeYChange = (y: number, thumbOffsetY: number) => {\n    const { newMin, newMax } = getNewRange(Math.max(0, y - thumbOffsetY));\n    processRange(newMin, newMax);\n  };\n\n  const processClickRangeYChange = (y: number) => {\n    const { yMin, yMax } = props.draggableRegion;\n    const halfThumbWidth = (yMax - yMin) / 2;\n    const { newMin, newMax } = getNewRange(Math.max(0, y - halfThumbWidth));\n    processRange(newMin, newMax);\n  };\n\n  return (\n    <TimeComponentScrollbar\n      {...props}\n      processDragRangeYChange={processDragRangeYChange}\n      processClickRangeYChange={processClickRangeYChange}\n      styles={verticalScrollbarStyles}\n    />\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren } from 'preact';\nimport { TrackResizeContainer } from '../PRIVATE_TrackResizeContainer';\nimport { horizontalScrollbarStyles } from './themes/TimeComponentStyles.css';\nimport type { getResolvedHorizontalScrollbarLayout } from './utils/scrollbarLayoutUtils';\n\ntype GetLayout = ReturnType<typeof getResolvedHorizontalScrollbarLayout>;\ntype OnRangeChange = (newMin: number, newMax: number) => void;\ntype Layout = ReturnType<GetLayout> & { onRangeChange: OnRangeChange } & {\n  width: number;\n  height: number;\n};\n\ntype Props = {\n  getLayout: GetLayout;\n  onRangeChange: OnRangeChange;\n  children: (layout: Layout) => ComponentChildren;\n};\n\nexport function TimeComponentHorizontalScrollbarContainer({\n  getLayout,\n  onRangeChange,\n  children\n}: Props) {\n  return (\n    <div class={horizontalScrollbarStyles.base}>\n      <TrackResizeContainer width=\"100%\" height=\"100%\">\n        {(width, height) => children({ ...getLayout(width), onRangeChange, width, height })}\n      </TrackResizeContainer>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useRef } from 'preact/hooks';\nimport { horizontalScrollbarStyles } from './themes/TimeComponentStyles.css';\nimport { TimeComponentScrollbar } from './TimeComponentScrollbar';\n\ntype Props = {\n  thumbWidth: number;\n  thumbLeft?: number;\n  thumbRight?: number;\n  draggableRegion: { xMin: number; xMax: number; yMin: number; yMax: number };\n  getNewRange: (newThumbLeft: number) => { newMin: number; newMax: number };\n  onRangeChange: (newMin: number, newMax: number) => void;\n  width: number;\n  height: number;\n};\n\nexport function TimeComponentHorizontalScrollbar({ getNewRange, onRangeChange, ...props }: Props) {\n  const prevRange = useRef({ min: 0, max: 0 });\n  const processRange = (newMin: number, newMax: number) => {\n    const { min: prevMin, max: prevMax } = prevRange.current;\n    const isRangeChanged = newMin !== prevMin || newMax !== prevMax;\n    isRangeChanged && onRangeChange(newMin, newMax);\n    prevRange.current = { min: newMin, max: newMax };\n  };\n\n  const processDragRangeXChange = (x: number, thumbOffsetX: number) => {\n    const { newMin, newMax } = getNewRange(Math.max(0, x - thumbOffsetX));\n    processRange(newMin, newMax);\n  };\n\n  const processClickRangeXChange = (x: number) => {\n    const { xMin, xMax } = props.draggableRegion;\n    const halfThumbWidth = (xMax - xMin) / 2;\n    const { newMin, newMax } = getNewRange(Math.max(0, x - halfThumbWidth));\n    processRange(newMin, newMax);\n  };\n\n  return (\n    <TimeComponentScrollbar\n      {...props}\n      processDragRangeXChange={processDragRangeXChange}\n      processClickRangeXChange={processClickRangeXChange}\n      styles={horizontalScrollbarStyles}\n    />\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { verticalGridlinesStyles } from './themes/TimeComponentStyles.css';\n\ntype Props = {\n  width: number;\n  height: number;\n  positions: number[];\n  variant: 'major' | 'minor';\n};\n\nexport function TimeComponentVerticalGridlines({ width, height, positions, variant }: Props) {\n  const cmd = positions.map((p) => `M${p},0 V${height}`).join(' ');\n  return (\n    <svg width={width} height={height}>\n      <path class={verticalGridlinesStyles[variant]} d={cmd} />\n    </svg>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { useTooltip } from '../hooks/UNSAFE_useTooltip';\nimport { Text } from '../UNSAFE_Text';\nimport { timeAxisLabelsStyles } from './themes/TimeComponentStyles.css';\n\ntype Props = {\n  x: number;\n  y: number;\n  width: number;\n  label: string;\n  labelPosition: 'start' | 'center';\n  font: { fontSize?: string; fontWeight?: string };\n  isTruncated: boolean;\n  isStartIntervalTruncated: boolean;\n  isRTL: boolean;\n};\n\nexport function TimeComponentHorizontalTimeAxisLabel({\n  x,\n  y,\n  width,\n  label,\n  font,\n  labelPosition,\n  isTruncated,\n  isStartIntervalTruncated,\n  isRTL\n}: Props) {\n  const {\n    tooltipContent,\n    tooltipProps: { onFocus, onBlur, ...restTooltipProps }\n  } = useTooltip({ text: label, isDisabled: !isTruncated });\n\n  const textAlign = labelPosition === 'center' ? 'center' : undefined;\n\n  // If start truncated, we want the ellipsis to be the prefix rather than suffix in ltr,\n  // so a trick is to locally set the direction to rtl\n  const direction = isStartIntervalTruncated && isTruncated ? (isRTL ? 'ltr' : 'rtl') : undefined;\n\n  return (\n    <div\n      {...restTooltipProps}\n      aria-hidden=\"true\"\n      class={classNames([\n        timeAxisLabelsStyles.label,\n        isTruncated && timeAxisLabelsStyles.labelTruncated\n      ])}\n      style={{ left: x, top: y, width, textAlign, direction, ...font }}>\n      <Text variant=\"primary\" truncation=\"ellipsis\" size=\"inherit\" weight=\"inherit\">\n        {label}\n      </Text>\n      {tooltipContent}\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { TimeComponentLayersStack } from './TimeComponentLayersStack';\nimport { TimeComponentVerticalGridlines } from './TimeComponentVerticalGridlines';\nimport { TimeComponentHorizontalTimeAxisLabel } from './TimeComponentHorizontalTimeAxisLabel';\nimport { timeAxisLabelsStyles } from './themes/TimeComponentStyles.css';\n\ntype Props = {\n  font: { fontSize?: string; fontWeight?: string };\n  labelPosition: 'start' | 'center';\n  labels: string[];\n  labelTicks: number[];\n  labelPositions: number[];\n  isLabelTruncated: boolean[];\n  isIntervalStartTruncated: boolean;\n  intervalWidths: number[];\n  majorGridTicksPos?: number[];\n  minorGridTicksPos?: number[];\n  isRTL: boolean;\n  width: number;\n  height: number;\n};\n\nexport function TimeComponentHorizontalTimeAxis({\n  font,\n  labelPosition,\n  labels,\n  labelTicks,\n  labelPositions,\n  isLabelTruncated,\n  isIntervalStartTruncated,\n  intervalWidths,\n  majorGridTicksPos,\n  minorGridTicksPos,\n  isRTL,\n  width,\n  height\n}: Props) {\n  return (\n    <TimeComponentLayersStack width={`${width}px`} height={`${height}px`}>\n      <div class={timeAxisLabelsStyles.base}>\n        {labels.map((text, i) => (\n          <TimeComponentHorizontalTimeAxisLabel\n            key={labelTicks[i]}\n            font={font}\n            label={text}\n            labelPosition={labelPosition}\n            x={labelPositions[i]}\n            y={0}\n            width={intervalWidths[i]}\n            isTruncated={isLabelTruncated[i]}\n            isStartIntervalTruncated={i === 0 ? isIntervalStartTruncated : false}\n            isRTL={isRTL}\n          />\n        ))}\n      </div>\n      {minorGridTicksPos && (\n        <TimeComponentVerticalGridlines\n          width={width}\n          height={height}\n          positions={minorGridTicksPos}\n          variant=\"minor\"\n        />\n      )}\n      {majorGridTicksPos && (\n        <TimeComponentVerticalGridlines\n          width={width}\n          height={height}\n          positions={majorGridTicksPos}\n          variant=\"major\"\n        />\n      )}\n    </TimeComponentLayersStack>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { useLayoutEffect, useRef } from 'preact/hooks';\n\ntype Props = {\n  width: number;\n  height: number;\n  draw: (ctx: CanvasRenderingContext2D) => void;\n};\n\nexport function TimeComponentCanvas2D({ width, height, draw }: Props) {\n  const ref = useRef<HTMLCanvasElement>(null);\n\n  useLayoutEffect(() => {\n    const canvas = ref.current!;\n    const ctx = canvas.getContext('2d')!;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n\n    const scale = window.devicePixelRatio;\n    canvas.width = Math.floor(width * scale);\n    canvas.height = Math.floor(height * scale);\n    ctx.scale(scale, scale);\n  }, [width, height]);\n\n  useLayoutEffect(() => {\n    const canvas = ref.current!;\n    const ctx = canvas.getContext('2d')!;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    draw(ctx);\n  }, [width, height, draw]);\n\n  return <canvas ref={ref}></canvas>;\n}\n"],"names":["_jsx","_jsxs","PlusIcon","MinusIcon"],"mappings":"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"}