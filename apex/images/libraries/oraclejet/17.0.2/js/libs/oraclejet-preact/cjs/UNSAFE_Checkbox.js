/* @oracle/oraclejet-preact: undefined */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var jsxRuntime = require('preact/jsx-runtime');
var compat = require('preact/compat');
require('./logger-2b636482.js');
require('./TabbableModeContext-e99d527e.js');
require('preact/hooks');
var useId = require('./useId-6c0eeb27.js');
require('./LayerHost-46e4d858.js');


require('./UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css.js');
var InlineUserAssistance = require('./InlineUserAssistance-ad3fa8cc.js');
require('./Flex-fbba4ad6.js');


require('./UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css.js');
require('preact');
require('./useTooltipControlled-706a3651.js');

require('./IconButton-94f8ca5c.js');

require('./MessageFormattingUtils-42d84399.js');
require('./TransitionGroup-b239d98f.js');
require('./MessagesContext-4e939750.js');



require('./UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css.js');
require('./FormFieldContext-8418dc68.js');
require('./Popup-881aae20.js');
require('./UNSAFE_Separator/themes/SeparatorStyles.css.js');


require('./UNSAFE_Label/themes/redwood/LabelVariants.css.js');
require('./InputGroupContext-05f2a46f.js');

require('./UNSAFE_Popup/themes/redwood/PopupVariants.css.js');
require('./FormContext-9452bd30.js');
var useFormContext = require('./useFormContext-4c3091dc.js');
var CheckboxRadioContext = require('./CheckboxRadioContext-3b134bd1.js');
var CheckboxControl = require('./CheckboxControl-24658cde.js');
require('./Common/themes/redwood/theme.js');
require('./Common/themes/themeContract.css.js');
require('./vanilla-extract-recipes-createRuntimeFn.esm-d1301b2d.js');
require('./ComponentMessageContainer-a9195577.js');
require('./useTestId-8234ec1e.js');
require('./MessagesManager-9cc43d3a.js');
require('./classNames-c14c6ef3.js');
require('./SuccessS-862e9e4b.js');
require('./Icon-3ffd13dc.js');
require('./size-4e606ce4.js');
require('./utils-b7099be5.js');
require('./colorUtils-fe6f2fbf.js');
require('./_curry1-e8f0d7ea.js');
require('./useTooltip-468c1c92.js');
require('./UNSAFE_Icon/themes/IconStyle.css.js');
require('./ErrorS-bfe081e3.js');
require('./InformationS-5bf32f4c.js');
require('./WarningS-d18b9e00.js');
require('./PRIVATE_Message/themes/MessageStyles.css.js');
require('./useTranslationBundle-9da032d6.js');
require('./soundUtils-ff3c9c0d.js');
require('./useAnimation-2f7dd313.js');
require('./useMessagesContext-23d62331.js');
require('./Transition-942950ed.js');
require('./useComponentTheme-082fc8e4.js');
require('./HiddenAccessible-087eb49a.js');
require('./UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme.js');
require('./UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css.js');
require('./UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css.js');
require('./UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme.js');
require('./UNSAFE_UserAssistance/themes/UserAssistanceStyles.css.js');
require('./UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css.js');
require('./useFormFieldContext-20f419ef.js');
require('./InlineHelp-020ee2df.js');
require('./InlineHelpSource-7b793104.js');
require('./useTabbableMode-5c8fd9e5.js');
require('./useInputGroupContext-4c10bd57.js');
require('./boxalignment-5ef612ee.js');
require('./arrayUtils-7d8dcfc3.js');

require('./vanilla-extract-sprinkles-createRuntimeSprinkles.esm-d68f3e0f.js');
require('./dimensions-b48bf1ab.js');
require('./flexbox-2cae9a01.js');

require('./flexitem-fee13e26.js');

require('./mergeInterpolations-6727b536.js');
require('./mergeDeepWithKey-210b024d.js');
require('./_curry3-18677bca.js');
require('./_curry2-c15d89cd.js');
require('./_isObject-28636267.js');


require('./Floating-1280c2ce.js');
require('./useFloating-7800fd56.js');
require('./useUser-a6d15333.js');
require('./positionUtils-ae9279d7.js');
require('./refUtils-915b985d.js');
require('./useOutsideClick-7420644b.js');
require('./Layer-3700cd37.js');
require('./UNSAFE_Layer/themes/LayerStyles.css.js');

require('./useThemeInterpolations-25313f34.js');
require('./useColorScheme-d2c4adcc.js');
require('./useScale-74bd6456.js');
require('./theme-dfd6a9fe.js');
require('./Theme-f06687af.js');
require('./UNSAFE_Floating/themes/redwood/FloatingTheme.js');
require('./UNSAFE_Floating/themes/FloatingStyles.css.js');

require('./UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css.js');

require('./UNSAFE_Floating/themes/redwood/FloatingVariants.css.js');
require('./vanilla-extract-dynamic.esm-d5dffce7.js');
require('./UNSAFE_Floating/themes/FloatingContract.css.js');
require('./useHover-910b8e32.js');
require('./useToggle-3ebba7d8.js');
require('./useFocus-1b288fb9.js');
require('./useTouch-4dec8729.js');
require('./mergeProps-e3da7237.js');
require('./hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme.js');
require('./hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css.js');

require('./hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css.js');

require('./hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css.js');

require('./EnvironmentProvider-42b2b998.js');
require('./LayerManager-fa20a462.js');
require('./BaseButton-ff6f39f2.js');
require('./usePress-00deca01.js');
require('./useActive-b15c9e7e.js');
require('./clientHints-9e411b6e.js');
require('./UNSAFE_BaseButton/themes/redwood/BaseButtonTheme.js');
require('./UNSAFE_BaseButton/themes/BaseButtonStyles.css.js');

require('./UNSAFE_BaseButton/themes/redwood/BaseButtonVariants.css.js');

require('./ButtonLabelLayout-3399b9e1.js');
require('./Text-aaacb6a0.js');
require('./UNSAFE_Text/themes/TextStyles.css.js');

require('./UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutTheme.js');
require('./UNSAFE_ButtonLabelLayout/themes/ButtonLabelLayoutStyles.css.js');

require('./UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutBaseTheme.css.js');

require('./UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutVariants.css.js');

require('./buttonUtils-252661e7.js');
require('./id-86356250.js');
require('./getLocale-8e17dc46.js');
require('./stringUtils-4e4a6b2b.js');
require('./tabbableUtils-b49673af.js');
require('./head-68d0992f.js');
require('./_arity-c228159c.js');
require('./_isArray-73160ad5.js');
require('./_isString-f4443c9e.js');
require('./FocusTrap-0a03f5a2.js');
require('./FocusTracker-9cc329a3.js');
require('./PRIVATE_FocusTracker/themes/FocusTrackerStyles.css.js');

require('./Modal-52fa4530.js');
require('./UNSAFE_Modal/themes/ModalStyles.css.js');

require('./WindowOverlay-d255542f.js');
require('./UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css.js');

require('./UNSAFE_WindowOverlay/themes/WindowOverlayContract.css.js');
require('./UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme.js');
require('./UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css.js');

require('./UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css.js');
require('./usePopupAnimation-78a173e8.js');
require('./useAnimationStatus-a3d51709.js');
require('./popupAnimationUtils-a3dfbdfd.js');
require('./UNSAFE_Popup/themes/PopupContract.css.js');
require('./UNSAFE_Popup/themes/redwood/PopupTheme.js');
require('./UNSAFE_Popup/themes/redwood/PopupBaseTheme.css.js');


require('./useFocusWithin-eb7f956a.js');
require('./IconUserAssistance-c31c2875.js');
require('./Help-23015ba0.js');
require('./StyledCheckbox-7576d44a.js');
require('./Check-f72ac53c.js');
require('./CheckboxOff-9a4efabf.js');
require('./CheckboxOn-9b9aa373.js');
require('./CheckboxMixed-7728d6aa.js');
require('./UNSAFE_Checkbox/themes/CheckboxIconContract.css.js');
require('./UNSAFE_Checkbox/themes/redwood/CheckboxIconTheme.js');
require('./UNSAFE_Checkbox/themes/CheckboxIconStyles.css.js');

require('./UNSAFE_Checkbox/themes/redwood/CheckboxIconBaseTheme.css.js');

require('./UNSAFE_Checkbox/themes/redwood/CheckboxIconVariants.css.js');


require('./useCollectionGestureContext-daada886.js');
require('./UNSAFE_Checkbox/themes/redwood/CheckboxTheme.js');
require('./UNSAFE_Checkbox/themes/CheckboxStyles.css.js');

require('./UNSAFE_Checkbox/themes/redwood/CheckboxBaseTheme.css.js');

require('./UNSAFE_Checkbox/themes/redwood/CheckboxVariants.css.js');

require('./LayoutStyles.css-8af668b9.js');


/**
 * Checkbox is a single standalone checkbox control. It represents a boolean value.
 */
const Checkbox = compat.forwardRef(({ 'aria-describedby': ariaDescribedBy, assistiveText, columnSpan, helpSourceLink, helpSourceText, isDisabled: propIsDisabled, isReadonly: propIsReadonly, isRequired = false, messages, onCommit, userAssistanceDensity: propUserAssistanceDensity, value: propValue, testId, children }, ref = null) => {
    const { isDisabled: isFormDisabled, isReadonly: isFormReadonly, userAssistanceDensity: formUserAssistanceDensity } = useFormContext.useFormContext();
    const checkboxRef = compat.useRef(null);
    const id = useId.useId();
    const UAtestId = testId ? `${testId}-inline-user-assistance` : undefined;
    // default to FormContext values if component properties are not specified
    const isDisabled = propIsDisabled ?? isFormDisabled;
    const isReadonly = propIsReadonly ?? isFormReadonly;
    const userAssistanceDensity = propUserAssistanceDensity ?? formUserAssistanceDensity;
    // we still render <InlineUserAssistance/> if density is 'efficient' or 'compact' to save space,
    // even though we don't render user assistance for disabled or readonly fields
    const hasBottomUserAssistance = !isDisabled && !isReadonly;
    const bottomUaId = hasBottomUserAssistance ? `${id}-bottom-ua` : undefined;
    const onChangeHandler = compat.useCallback((e) => {
        // return early on keyup if key isn't spacebar
        const { key } = e;
        const hasKey = key !== undefined;
        if (hasKey && key !== ' ') {
            return;
        }
        const input = e.target;
        // While mouse clicking StyledCheckbox results in toggling the checked state on an input element, spacebar key events do not.
        // If it is a spacebar key event, we will return the toggled value of its current state.
        const value = hasKey ? !input.checked : input.checked;
        const previousValue = !!propValue;
        if (previousValue !== value) {
            onCommit({
                value,
                previousValue
            });
        }
    }, [onCommit, propValue]);
    compat.useImperativeHandle(ref, () => ({
        focus: () => {
            !isDisabled && checkboxRef.current?.focus();
        },
        blur: () => {
            const activeElement = document.activeElement;
            checkboxRef.current === activeElement && activeElement.blur();
        }
    }));
    // TODO fix issue with tooltip and link in label
    // 
    return (jsxRuntime.jsxs(CheckboxRadioContext.CheckboxRadioContext.Provider, { value: { isFocusRingShown: !isDisabled }, children: [jsxRuntime.jsx(CheckboxControl.CheckboxControl, { ...(hasBottomUserAssistance
                    ? {
                        onChange: onChangeHandler,
                        onKeyUp: onChangeHandler
                    }
                    : {}), "aria-describedby": ariaDescribedBy, assistiveText: assistiveText, columnSpan: columnSpan, helpSourceLink: helpSourceLink, helpSourceText: helpSourceText, isChecked: propValue, isDisabled: isDisabled, isReadonly: isReadonly, isRequired: isRequired, ref: checkboxRef, children: children }), hasBottomUserAssistance ? (jsxRuntime.jsx(InlineUserAssistance.InlineUserAssistance, { id: bottomUaId, isRequiredShown: !!isRequired && !propValue, requiredAlignment: "start", messages: messages, userAssistanceDensity: userAssistanceDensity === 'reflow' ? 'reflow' : 'efficient', testId: UAtestId })) : userAssistanceDensity === 'reflow' ? undefined : (
            /* save space for user assistance if density is 'efficient' or 'compact', even though we don't
               render user assistance for disabled or readonly fields */
            jsxRuntime.jsx(InlineUserAssistance.InlineUserAssistance, { userAssistanceDensity: "efficient", testId: UAtestId }))] }));
});

exports.Checkbox = Checkbox;
//# sourceMappingURL=UNSAFE_Checkbox.js.map
