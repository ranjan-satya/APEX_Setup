define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-c09fece2', './useTestId-82cf22a4', './useAnimation-5bd3adfc', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-eb3989cb', './Layer-3cc44164', './LayerHost-eab40731', './Modal-8c095bea', './classNames-08d99695', './ImageVars.css-17386400', './useComponentTheme-5aa41a8f', './useId-c9578d26', './mergeInterpolations-9ede4cf7', './mergeDeepWithKey-aaab9019', './_curry3-83878f86', './_curry1-df649359', './_curry2-86c52b86', './_isObject-42bafc94', './vanilla-extract-dynamic.esm-eceadd82', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-6dd85af9', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-d881c69a', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-62c44f56', './head-9cb1a3da', './_arity-5a5f5f71', './_isArray-32602db6', './_isString-d0ada3cb', './FocusTracker-545d5904', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './UNSAFE_Layer/themes/LayerStyles.css', 'css!./LayerStyles.styles.css', './useThemeInterpolations-41cbd433', './useColorScheme-711c1e4b', './useScale-e6b83382', './theme-a8f3d819', './Theme-d945adae', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-0f873e29'], (function(e,s,a,o,t,l,r,d,i,n,c,m,y,h,u,f,g,S,b,p,w,v,T,F,_,N,O,D,A,E,x,j,W,I,U,C,B,L,R,M,k,K,V,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se,ae,oe,te){"use strict";const le=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},re=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:i,ariaDescribedBy:n,onKeyDown:c,testId:m},f)=>{const{classes:g,styles:S}=u.useComponentTheme(d.DialogRedwoodTheme),b=t.useTestId(m);return s.jsx("div",{ref:f,className:y.classNames([g,h.globalImages]),style:{opacity:0},onKeyDown:c,role:r,"aria-labelledby":i,"aria-describedby":n,...b,children:s.jsxs("div",{className:S.dialogContainerStyle,children:[s.jsx(le,{id:l,header:a}),s.jsx("div",{className:S.dialogContentStyle,children:s.jsx("div",{className:S.dialogBodyStyle,children:e})}),s.jsx("div",{className:S.dialogFooterStyle,children:o})]})})})),de={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:c,modality:y="modal",placement:h="center",offset:u=0,onClose:g,onTransitionEnd:S,role:b="dialog","aria-labelledby":p,"aria-describedby":w,testId:v})=>{const[T,F]=r.useState(t?"opening":"unmounted"),_=f.useId(),N=p||_;r.useEffect((()=>{("unmounted"!==T||t)&&F(t?"opening":"closing")}),[t,T]);const{nodeRef:O}=l.useAnimation(T,{animationStates:de,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),S?.(!1)):S?.(!0)}}),D=e=>{if("Escape"===e.code)g?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(i.FocusTrap,{autoFocusRef:e,children:s.jsx(re,{ref:O,labelId:N,header:d,footer:c,role:b,ariaLabelledBy:N,ariaDescribedBy:w,onKeyDown:D,testId:v,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==T,children:A()}):"unmounted"!==T?s.jsx(n.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
