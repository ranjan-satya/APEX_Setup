define(['exports', 'preact/jsx-runtime', 'preact/hooks', './HighlightText-ad9bc1f8', './Flex-1f27b601', './Grid-85171367', 'css!./ListItemLayoutStyles.styles.css', './ListItemText-408dbc8c', './Skeleton-325116ff', './logger-0f873e29', './PRIVATE_SelectCommon/themes/dropdownStyles.css', './List-5958c802', './Floating-85851b1a', './Layer-3cc44164', 'preact/compat', './LayerHost-eab40731', './keyboardUtils-244467a7', './useOutsideMousedown-73d5a78a', './usePress-a9ed1488', './CaretDown-73423335', './classNames-08d99695', './useComponentTheme-5aa41a8f', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutTheme', './useTestId-82cf22a4', './UNSAFE_BaseButton/themes/redwood/BaseButtonTheme', './useCollectionGestureContext-b082d378', './FormFieldContext-3c44aaaa', './TabbableModeContext-a9c97640', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-f4d1fa1b', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'preact', './useTooltipControlled-abf886f2', 'css!./IconStyle.styles.css', './IconButton-1b328b69', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-2e19d8de', './TransitionGroup-3b9d81b6', './MessagesContext-602a69a2', 'css!./HiddenAccessibleStyles.styles.css', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './Popup-249d77c3', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useTranslationBundle-6ef0dab6', './Link-6f583879', './useFocusWithin-5a504fca', './useHover-1890d6a0', './Separator-181f7541', './WindowOverlay-c09fece2', './PRIVATE_SelectCommon/themes/mobileDropdownStyles.css', './PRIVATE_SelectCommon/themes/selectMobileDropdownStyles.css', './textAlign-ef924afd', './mergeInterpolations-9ede4cf7', './useFormFieldContext-8196183c', './PRIVATE_SelectCommon/themes/SelectMobileFieldInputStyles.css', './TextFieldUtils-f3868e96', './useTabbableMode-dc440317', './Text-e132dec0', './useAccessibleContext-23e8a333', './stringUtils-0ae982c2', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './clientHints-030d25aa', './tabbableUtils-62c44f56'], (function(e,s,t,n,a,o,l,r,i,d,c,u,p,h,m,b,f,S,y,x,w,C,g,v,T,F,D,A,I,M,E,k,j,L,U,P,K,B,N,R,_,O,H,V,G,W,Y,z,q,$,J,Q,X,Z,ee,se,te,ne,ae,oe,le,re,ie,de,ce,ue,pe,he,me,be,fe,Se,ye,xe,we){"use strict";function Ce(e,s){if("string"!=typeof s)return s(e);if(e.data?.hasOwnProperty(s)){const t=e.data[s];return String(t)}d.error("SelectMultiple: itemText specifies field that does not exist: "+s)}const ge=()=>{};const ve=s.jsx(u.SkeletonContainer,{minimumCount:3,children:()=>s.jsx(a.Flex,{height:"12x",align:"center",children:s.jsx(i.Skeleton,{height:"4x"})})}),Te=e=>0===e.button&&!e.ctrlKey,Fe=e=>{e.currentTarget===e.target&&e.preventDefault()},De="bottom-start";const Ae=()=>{};function Ie({children:e,id:t,isOpen:n}){return n?s.jsx(h.Layer,{children:s.jsx(le.WindowOverlay,{children:s.jsx("div",{id:t,class:re.mobileDropdownStyles.base,role:"dialog","aria-modal":"true",children:s.jsx(a.Flex,{width:"100%",height:"100%",maxHeight:"100%",direction:"column",children:e})})})}):null}const Me=[...Object.values(de.textInterpolations)],Ee=ce.mergeInterpolations(Me),ke=m.forwardRef((({"aria-controls":e,"aria-describedby":t,"aria-expanded":n,"aria-invalid":a,"aria-label":o,"aria-labelledby":l,displayValue:r,hasEmptyLabel:i,hasInsideLabel:d=!1,isRequired:c,onBlur:u,onFocus:p,placeholder:h,textAlign:m,variant:b="default"},f)=>{const{isDisabled:S,isFocused:y,hasValue:x=!1}=ue.useFormFieldContext(),{isTabbable:g,tabbableModeProps:v}=me.useTabbableMode(),T=he.isInputPlaceholderShown(d,x,y)?h:void 0,{UNSAFE_ariaLabelledBy:F}=fe.useAccessibleContext(),D=i?Se.merge([l,F]):l,{class:A}=Ee({textAlign:m}),{classes:I}=C.useComponentTheme(ye.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:b,textarea:"notTextArea",input:"isInput",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"hasEndContent",insideLabel:d?"hasInsideLabel":"noInsideLabel",value:x?"hasValue":"noValue",focused:y?"isFocused":"notFocused",disabled:S?"isDisabled":"notDisabled"}),M=w.classNames([pe.selectMobileFieldInputStyles.base,A,I]);return s.jsx("div",{"aria-autocomplete":"list","aria-controls":e,"aria-describedby":t,"aria-expanded":n,"aria-invalid":a,"aria-label":o,"aria-labelledby":D,"aria-required":c?"true":void 0,class:M,onBlur:u,onFocus:p,ref:f,role:"combobox",...g&&v,children:s.jsx("div",{class:pe.selectMobileFieldInputStyles.content,children:s.jsx(be.Text,{variant:r?"inherit":"secondary",children:r||T})})})}));e.DefaultList=function({"aria-label":e,currentItemVariant:o,currentKey:l,data:i,itemRenderer:d,itemText:p,onCurrentKeyChange:h,onItemAction:m,onLoadRange:b=ge,onSelectionChange:f,searchText:S,selectedKeys:y,selectionMode:x}){const w=t.useCallback((e=>{const t={data:e.data,index:e.index,metadata:e.metadata,selector:e.selector,searchText:S,selectedKeys:y,onSelectionChange:({target:e,value:s})=>{f?.({target:e,value:{all:!1,keys:s}})}},o={data:e.data,key:e.metadata.key,metadata:e.metadata};return d?d(t):s.jsxs(a.Flex,{align:"center",children:[e.selector&&s.jsx("div",{class:c.dropdownStyles.selectorWrapper,children:e.selector()}),s.jsx("div",{class:"single"===x?c.dropdownStyles.singleSelectItem:c.dropdownStyles.multiSelectItem,children:s.jsx(r.ListItemText,{variant:"primary",children:s.jsx(n.HighlightText,{matchText:S,children:Ce(o,p)})})})]})}),[d,p,f,S,y,x]),C=t.useMemo((()=>({all:!1,keys:y??new Set})),[y]);return s.jsx(u.List,{"aria-label":e,allowTabbableMode:!1,currentItemVariant:o,currentKey:l,data:i??null,loadingIndicator:ve,onCurrentKeyChange:h,onItemAction:m,onLoadRange:b,onSelectionChange:f,role:"listbox",selectedKeys:C,selectionMode:x,children:e=>w(e)})},e.Dropdown=function({anchorRef:e,children:n,dropdownRef:a,id:o,isOpen:l,onAutoDismiss:r,onPosition:i}){const[d,u]=t.useState(De),[m,b]=t.useState(l);m!==l&&(l||u(De));const y=t.useCallback((e=>{u(e.placement),i?.(e)}),[i,u]),x=t.useCallback((e=>{r?.(e)}),[r]),w=t.useCallback((e=>{if(!e.defaultPrevented&&!f.isControlOrFunctionKey(e))switch(e.code){case f.KEYS.ESC:case f.KEYS.TAB:x(e)}}),[x]);S.useOutsideMousedown({isDisabled:!l,ref:[e,a],handler:x});const C=l?{minWidth:`${e.current?.offsetWidth}px`}:{};return m!==l&&b(l),l?s.jsx(h.Layer,{logicalParentRef:e,children:s.jsx(p.Floating,{anchorRef:e,sizeOptions:{isMaxHeightAdjusted:!0,maxHeightCeiling:400},ref:a,placement:d,offsetValue:{mainAxis:4,crossAxis:0},onPosition:y,children:s.jsx("div",{class:c.dropdownStyles.base,id:o,style:C,onKeyDown:w,onMouseDown:Fe,children:n})})}):null},e.DropdownArrow=function({isDisabled:e=!1,onClick:n,testId:a}){const{classes:o}=C.useComponentTheme(g.ButtonLabelLayoutRedwoodTheme,{size:"sm"}),{baseTheme:l}=C.useComponentTheme(T.BaseButtonRedwoodTheme),r=t.useCallback((e=>{e.preventDefault()}),[]),{pressProps:i}=y.usePress(n??Ae,{isDisabled:e}),d=w.classNames([o,l,c.dropdownStyles.arrow.base,e?c.dropdownStyles.arrow.disabled:c.dropdownStyles.arrow.enabled]),u=v.useTestId(a);return s.jsx("span",{"aria-hidden":"true",class:d,tabIndex:-1,onMouseDown:r,...u,...i,children:s.jsx(x.SvgCaretDown,{})})},e.DropdownList=function({children:e,hasTopGap:t=!0,hasBottomGap:n=!0,isLoading:a=!1}){const o=w.classNames([c.dropdownStyles.list.base,t&&c.dropdownStyles.list.topGap,n&&c.dropdownStyles.list.bottomGap,a&&c.dropdownStyles.list.loading]);return s.jsx(F.CollectionGestureContext.Provider,{value:"embedded",children:s.jsx("div",{class:o,onMouseDown:Fe,children:e})})},e.DropdownUserAssistance=function(e){const n=t.useCallback((e=>{"A"!==e.target?.tagName&&e.preventDefault()}),[]);return s.jsx(D.FormFieldContext.Provider,{value:{isFocused:!0},children:s.jsx("div",{class:c.dropdownStyles.userAssistance,onMouseDown:n,children:s.jsx(k.InlineUserAssistance,{...e})})})},e.EmptyResults=function(){const e=se.useTranslationBundle("@oracle/oraclejet-preact");return s.jsx("div",{class:c.dropdownStyles.results.extraItem,onMouseDown:Fe,children:e.select_noMatchesFound()})},e.LinkItem=({children:e,isHighlighted:n,onAction:a})=>{const{isHover:o,hoverProps:l}=ae.useHover(),{isFocused:r,focusProps:i}=ne.useFocusWithin(),d=t.useCallback((e=>(e.preventDefault(),a?.(),!1)),[a]),u=w.classNames([r?c.dropdownStyles.results.linkItemFocus:void 0]),p=w.classNames([c.dropdownStyles.results.extraItem,o||r||n?c.dropdownStyles.results.linkItemHighlight:void 0]);return s.jsx("div",{class:u,...i,children:s.jsx(te.Link,{href:"#",onClick:d,children:s.jsx("div",{class:p,...l,children:e})})})},e.MobileDropdown=Ie,e.SelectMobileDropdown=function({children:e,footer:t,hasHeaderSeparator:n=!0,header:a,id:o,isOpen:l}){return s.jsxs(Ie,{id:o,isOpen:l,children:[a,n&&s.jsx(oe.Separator,{}),s.jsx("div",{class:ie.selectMobileDropdownStyles.content,children:e}),s.jsx(oe.Separator,{}),t]})},e.SelectMobileFieldInput=ke,e.isBeforeDataFetch=function(e){return"atLeast"===e.sizePrecision&&0===e.totalSize},e.isMobile=function(){const e=xe.getClientHints().deviceType;return"phone"===e||"tablet"===e},e.isPhone=function(){return"phone"===xe.getClientHints().deviceType},e.isSearchTextEmptyOrUndefined=function(e){return void 0===e||0===e.length},e.isSimpleClick=Te,e.isTablet=function(){return"tablet"===xe.getClientHints().deviceType},e.preventDefault=e=>{e.preventDefault()},e.preventDefaultForCurrentTarget=Fe,e.renderItemText=Ce,e.useSelectCommon=function({data:e,inputRef:s,isFocused:n,onFilter:a}){const o=t.useRef(null),l=t.useRef(null),[r,i]=t.useState(!1),[d,c]=t.useState(!1),[u,p]=t.useState({rowKey:void 0}),[h,m]=t.useState(!1),[b,S]=t.useState(),[y,x]=t.useState(),[w,C]=t.useState(r),[g,v]=t.useState(n),[T,F]=t.useState(h),D=t.useCallback((e=>{!e.defaultPrevented&&Te(e)&&(r||i(!0),setTimeout((function(){s.current?.focus()}),0))}),[s,r]),A=t.useCallback((()=>{i(!r),s.current?.focus()}),[s,r]),I=t.useCallback((e=>{if(r)switch(i(!1),e?.type){case"keydown":if(e.code===f.KEYS.ESC)s.current?.focus();break;case"mousedown":l.current?.contains(document.activeElement)&&s.current?.focus()}}),[s,r]),M=t.useCallback((e=>{c(e.placement.startsWith("top"))}),[]),E=t.useCallback((()=>r&&l.current?we.allTabbableElements(l.current):void 0),[r]),k=t.useCallback((s=>{if(r){if(null!=e){const s=E();s?.[0]?.focus(),void 0===u.rowKey&&p({rowKey:e.data[0]?.metadata?.key})}}else i(!0);s.preventDefault()}),[u,e,E,r]),j=t.useCallback((e=>{if(!f.isControlOrFunctionKey(e))switch(e.code){case f.KEYS.PAGE_UP:case f.KEYS.PAGE_DOWN:return void e.preventDefault();case f.KEYS.UP:case f.KEYS.DOWN:e.preventDefault();break;case f.KEYS.ESC:r&&(i(!1),e.preventDefault(),e.stopPropagation())}}),[r]),L=t.useCallback((e=>{if(!f.isControlOrFunctionKey(e))switch(e.code){case f.KEYS.UP:case f.KEYS.DOWN:k(e)}}),[k]),U=t.useCallback((e=>{r||i(!0),m(!0),S(e.value);const s=e.value;x(s),a?.({searchText:s})}),[r,a]),P=t.useCallback((e=>{p({rowKey:e.value})}),[]),K=t.useCallback((()=>{m(!1),S(""),x("")}),[]);return w===r&&g===n&&T===h||r||n||!h||K(),t.useEffect((()=>{r&&!h&&a?.({searchText:void 0})}),[r,h,a]),w!==r&&(r||c(!1),C(r)),g!==n&&v(n),T!==h&&F(h),{currentRow:u,dropdownRef:l,getDropdownTabbableElems:E,handleDropdownArrowClick:A,handleDropdownAutoDismiss:I,handleDropdownPosition:M,handleInput:U,handleMainFieldKeyDown:j,handleMainFieldKeyUp:L,handleUpDownArrowKeys:k,isDropdownAbove:d,isDropdownOpen:r,isFocused:n||r,isUserFiltering:h,mainFieldRef:o,onCurrentKeyChange:P,onMouseDown:D,searchText:y,setCurrentRow:p,setDropdownOpen:i,setUserInput:S,stopFiltering:K,userInput:b}}}));
//# sourceMappingURL=useSelectCommon-8657b927.js.map
