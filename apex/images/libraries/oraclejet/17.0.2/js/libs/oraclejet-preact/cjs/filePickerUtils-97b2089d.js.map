{"version":3,"file":"filePickerUtils-97b2089d.js","sources":["../../src/utils/UNSAFE_filePickerUtils/filePickerUtils.ts"],"sourcesContent":["// Contains utility functions intended to be used to pick files\n\nexport type FileOptions = {\n  accept?: Array<string>;\n  capture?: 'user' | 'environment' | 'implementation' | 'none';\n  selectionMode?: 'single' | 'multiple';\n};\n\nexport function pickFiles(\n  callback: (files: FileList) => void,\n  { accept = [], capture = 'none', selectionMode = 'single' }: FileOptions\n) {\n  const input = createInput({ accept, capture, selectionMode }) as any;\n\n  input.addEventListener(\n    'change',\n    () => {\n      // If this is a webdriver test, _pickerTestData will be populated and should use it\n      const files = input._pickerTestData ? input._pickerTestData : input.files;\n      callback(files as FileList);\n    },\n    { once: true }\n  );\n\n  input.click();\n}\n\nconst createInput = (fileOptions: Required<FileOptions>) => {\n  const input = document.createElement('input');\n  input.type = 'file';\n  if (fileOptions?.capture && fileOptions.capture != 'none') {\n    input.capture = fileOptions.capture;\n  }\n  input.accept = fileOptions.accept.join(',');\n  input.multiple = fileOptions.selectionMode === 'multiple';\n  input.style.display = 'none';\n  return input;\n};\n"],"names":[],"mappings":";;;AAAA;SAQgB,SAAS,CACvB,QAAmC,EACnC,EAAE,MAAM,GAAG,EAAE,EAAE,OAAO,GAAG,MAAM,EAAE,aAAa,GAAG,QAAQ,EAAe,EAAA;AAExE,IAAA,MAAM,KAAK,GAAG,WAAW,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,CAAQ,CAAC;AAErE,IAAA,KAAK,CAAC,gBAAgB,CACpB,QAAQ,EACR,MAAK;;AAEH,QAAA,MAAM,KAAK,GAAG,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC,KAAK,CAAC;QAC1E,QAAQ,CAAC,KAAiB,CAAC,CAAC;AAC9B,KAAC,EACD,EAAE,IAAI,EAAE,IAAI,EAAE,CACf,CAAC;IAEF,KAAK,CAAC,KAAK,EAAE,CAAC;AAChB,CAAC;AAED,MAAM,WAAW,GAAG,CAAC,WAAkC,KAAI;IACzD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,IAAA,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;IACpB,IAAI,WAAW,EAAE,OAAO,IAAI,WAAW,CAAC,OAAO,IAAI,MAAM,EAAE;AACzD,QAAA,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;KACrC;IACD,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,aAAa,KAAK,UAAU,CAAC;AAC1D,IAAA,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAC7B,IAAA,OAAO,KAAK,CAAC;AACf,CAAC;;;;"}