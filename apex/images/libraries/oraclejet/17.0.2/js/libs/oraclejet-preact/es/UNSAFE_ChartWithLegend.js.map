{"version":3,"file":"UNSAFE_ChartWithLegend.js","sources":["../../src/UNSAFE_ChartWithLegend/utils.ts","../../src/UNSAFE_ChartWithLegend/ChartWithLegend.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nexport type CategoriesItem = {\n  id: string | number;\n  categories: string[];\n};\n\n/**\n * Returns the flex order of the legend and chart in the flex container.\n * @param legendPos The legend position.\n * @returns\n */\nexport function getFlexOrder(legendPos: 'start' | 'top' | 'bottom' | 'end') {\n  const isLegendFirst = legendPos === 'start' || legendPos === 'top';\n  return {\n    chartOrder: isLegendFirst ? 2 : 1,\n    legendOrder: isLegendFirst ? 1 : 2\n  };\n}\n\n/**\n * Returns the legend flex align and justify prop.\n */\nexport function getLegendFlexProps(legendPos: 'start' | 'end' | 'top' | 'bottom') {\n  let justifyContent: 'center' | 'start' | 'end';\n  let alignItem: 'center' | 'start' | 'end';\n  if (legendPos === 'top') {\n    justifyContent = 'center';\n    alignItem = 'end';\n  } else if (legendPos === 'bottom') {\n    justifyContent = 'center';\n    alignItem = 'start';\n  } else if (legendPos === 'start') {\n    justifyContent = 'end';\n    alignItem = 'center';\n  } else {\n    justifyContent = 'start';\n    alignItem = 'center';\n  }\n\n  return { justifyContent, alignItem };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { Flex } from '../UNSAFE_Flex';\nimport { getFlexOrder, getLegendFlexProps } from './utils';\nimport { Size } from '../utils/UNSAFE_size';\nimport { ComponentChildren } from 'preact';\n\ntype Props = {\n  /**\n   * The sectional legend component.\n   * TODO: maybe include Legend as well if preact customers want it in future.\n   */\n  legend?: ComponentChildren;\n\n  /**\n   * The chart component.\n   */\n  chart: ComponentChildren;\n\n  /**\n   * The position of the legend around the chart.\n   */\n  position: 'start' | 'end' | 'top' | 'bottom';\n\n  /**\n   * The max size of the legend.\n   */\n  maxSize?: Size;\n\n  /**\n   * The size of the legend.\n   */\n  size?: Size;\n};\n\n/**\n * Component responsible for laying out the legend around a chart.\n */\nexport function ChartWithLegend({ chart, legend, position, maxSize, size }: Props) {\n  const flexDirection = position === 'start' || position === 'end' ? 'row' : 'column';\n  const { chartOrder, legendOrder } = getFlexOrder(position);\n  const { justifyContent, alignItem } = getLegendFlexProps(position);\n\n  return (\n    <Flex width={'100%'} height={'100%'} direction={flexDirection}>\n      <div\n        style={{\n          order: chartOrder,\n          flexGrow: 1,\n          minWidth: 0\n        }}>\n        {chart}\n      </div>\n      {legend && (\n        <Flex\n          order={legendOrder}\n          justify={justifyContent}\n          align={alignItem}\n          maxHeight={flexDirection === 'column' ? maxSize : undefined}\n          maxWidth={flexDirection === 'row' ? maxSize : undefined}\n          height={flexDirection === 'column' ? size : undefined}\n          width={flexDirection === 'row' ? size : undefined}>\n          {legend}\n        </Flex>\n      )}\n    </Flex>\n  );\n}\n"],"names":["_jsxs","_jsx"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA;;;;AAIG;AACG,SAAU,YAAY,CAAC,SAA6C,EAAA;IACxE,MAAM,aAAa,GAAG,SAAS,KAAK,OAAO,IAAI,SAAS,KAAK,KAAK,CAAC;IACnE,OAAO;QACL,UAAU,EAAE,aAAa,GAAG,CAAC,GAAG,CAAC;QACjC,WAAW,EAAE,aAAa,GAAG,CAAC,GAAG,CAAC;KACnC,CAAC;AACJ,CAAC;AAED;;AAEG;AACG,SAAU,kBAAkB,CAAC,SAA6C,EAAA;AAC9E,IAAA,IAAI,cAA0C,CAAC;AAC/C,IAAA,IAAI,SAAqC,CAAC;AAC1C,IAAA,IAAI,SAAS,KAAK,KAAK,EAAE;QACvB,cAAc,GAAG,QAAQ,CAAC;QAC1B,SAAS,GAAG,KAAK,CAAC;KACnB;AAAM,SAAA,IAAI,SAAS,KAAK,QAAQ,EAAE;QACjC,cAAc,GAAG,QAAQ,CAAC;QAC1B,SAAS,GAAG,OAAO,CAAC;KACrB;AAAM,SAAA,IAAI,SAAS,KAAK,OAAO,EAAE;QAChC,cAAc,GAAG,KAAK,CAAC;QACvB,SAAS,GAAG,QAAQ,CAAC;KACtB;SAAM;QACL,cAAc,GAAG,OAAO,CAAC;QACzB,SAAS,GAAG,QAAQ,CAAC;KACtB;AAED,IAAA,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,CAAC;AACvC;;ACLA;;AAEG;AACa,SAAA,eAAe,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAS,EAAA;AAC/E,IAAA,MAAM,aAAa,GAAG,QAAQ,KAAK,OAAO,IAAI,QAAQ,KAAK,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC;IACpF,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC3D,MAAM,EAAE,cAAc,EAAE,SAAS,EAAE,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;AAEnE,IAAA,QACEA,IAAC,CAAA,IAAI,IAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,EAC3D,QAAA,EAAA,CAAAC,GAAA,CAAA,KAAA,EAAA,EACE,KAAK,EAAE;AACL,oBAAA,KAAK,EAAE,UAAU;AACjB,oBAAA,QAAQ,EAAE,CAAC;AACX,oBAAA,QAAQ,EAAE,CAAC;AACZ,iBAAA,EAAA,QAAA,EACA,KAAK,EACF,CAAA,EACL,MAAM,KACLA,GAAC,CAAA,IAAI,EACH,EAAA,KAAK,EAAE,WAAW,EAClB,OAAO,EAAE,cAAc,EACvB,KAAK,EAAE,SAAS,EAChB,SAAS,EAAE,aAAa,KAAK,QAAQ,GAAG,OAAO,GAAG,SAAS,EAC3D,QAAQ,EAAE,aAAa,KAAK,KAAK,GAAG,OAAO,GAAG,SAAS,EACvD,MAAM,EAAE,aAAa,KAAK,QAAQ,GAAG,IAAI,GAAG,SAAS,EACrD,KAAK,EAAE,aAAa,KAAK,KAAK,GAAG,IAAI,GAAG,SAAS,EAChD,QAAA,EAAA,MAAM,GACF,CACR,CAAA,EAAA,CACI,EACP;AACJ;;;;"}