define(['exports', 'preact/jsx-runtime', 'preact/hooks', './useTranslationBundle-6ef0dab6', './usePress-a9ed1488', './Help-c0ec701e', './Popup-249d77c3', './HiddenAccessible-037ef42d', './InlineHelp-3dae8034', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './useComponentTheme-5aa41a8f', './classNames-08d99695', './UNSAFE_Popup/themes/redwood/PopupTheme', './useToggle-a29f97af'], (function(e,s,n,a,o,t,c,i,r,l,u,p,d,h){"use strict";e.IconUserAssistance=({assistiveText:e,helpSourceLink:m,helpSourceText:x,isTabbable:f=!0,id:b})=>{const{bool:T,setFalse:g,toggle:A}=h.useToggle(!1),k=a.useTranslationBundle("@oracle/oraclejet-preact"),j=k.userAssistance_learnMore(),P=m&&(x||j),C=k.radio_helpForRadio(),U=`${b}-help-string`,H=n.useRef(null),S=n.useCallback((e=>{const s=e?.target;(s instanceof Element||s instanceof Document)&&!H.current?.contains(s)&&T&&g()}),[T,g]),v=n.useCallback((e=>{["Tab","Escape"].includes(e.key)&&T&&g(),"Space"===e.code&&e.preventDefault()}),[T,g]),{pressProps:y}=o.usePress((e=>{e.preventDefault(),A()})),F=n.useCallback((e=>{const{key:s}=e;if(s&&"Enter"!==s)return;const{tagName:n}=e.target;"a"===n?.toLowerCase()&&(g(),setTimeout((()=>H.current?.focus())))}),[g]),{baseTheme:I}=u.useComponentTheme(d.PopupRedwoodTheme),w=p.classNames([I,l.iconUserAssistancePopupFocus]);return m||e?s.jsxs(s.Fragment,{children:[s.jsx("span",{...y,role:"link","aria-describedby":U,"aria-haspopup":"dialog",ref:H,tabIndex:f?0:-1,class:l.iconUserAssistanceIcon,onKeyDown:v,id:`${b}-help-icon`,children:s.jsx(t.SvgHelp,{})}),s.jsx(i.HiddenAccessible,{id:U,isHidden:!0,children:C}),s.jsx(c.Popup,{placement:"top",isOpen:T,anchorRef:H,onClose:g,onClickOutside:S,shiftOptions:{mainAxis:!0,crossAxis:!1},maxWidth:"296px",children:s.jsx("div",{id:b,tabIndex:0,class:w,onMouseUp:F,onKeyDown:F,children:s.jsx(r.InlineHelp,{assistiveText:e,sourceLink:m,sourceText:P})})})]}):null}}));
//# sourceMappingURL=IconUserAssistance-5bdaa6bf.js.map
