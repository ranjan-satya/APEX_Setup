define(['exports', 'preact/jsx-runtime', 'preact/hooks', './positionUtils-3193ab54', './Floating-85851b1a', './Layer-3cc44164', 'preact/compat', './LayerHost-eab40731', './tabbableUtils-62c44f56', './clientHints-030d25aa', './useAnimation-5bd3adfc', './useUser-6dd85af9', './useTestId-82cf22a4', './useBreakpointValues-3a067093', './useResizeObserver-c63865cc', './useComponentTheme-5aa41a8f', './classNames-08d99695', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutTheme', './useFloating-bbd3396b', './refUtils-d354a169', './useOutsideClick-4519a64e', './arrayUtils-6ee96a35', './utils-61ef4ad6', './Common/themes/themeContract.css', './colorUtils-7c069766', './_curry1-df649359', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-d881c69a', './vanilla-extract-dynamic.esm-eceadd82', './UNSAFE_Floating/themes/FloatingContract.css', './UNSAFE_Layer/themes/LayerStyles.css', 'css!./LayerStyles.styles.css', './useThemeInterpolations-41cbd433', './useColorScheme-711c1e4b', './useScale-e6b83382', './theme-a8f3d819', './Theme-d945adae', './mergeInterpolations-9ede4cf7', './mergeDeepWithKey-aaab9019', './_curry3-83878f86', './_curry2-86c52b86', './_isObject-42bafc94', 'preact', './Common/themes/redwood/theme', './head-9cb1a3da', './_arity-5a5f5f71', './_isArray-32602db6', './_isString-d0ada3cb', './useBreakpoints-52d11a72', './logger-0f873e29', './UNSAFE_DrawerLayout/themes/DrawerLayoutStyles.css', 'css!./DrawerLayoutStyles.styles.css', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutBaseTheme.css', 'module', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutVariants.css'], (function(e,t,s,r,a,n,o,i,c,u,l,d,h,m,f,w,y,p,b,g,v,S,D,F,x,L,A,C,_,k,E,R,N,O,U,T,B,H,j,z,W,X,Y,I,V,M,$,K,P,q,G,J,Q,Z,ee,te,se,re,ae,ne){"use strict";e.DrawerLayout=({children:e,startDrawer:o,endDrawer:i,bottomDrawer:b,isStartOpen:g=!1,isEndOpen:v=!1,isBottomOpen:S=!1,startDisplay:D,endDisplay:F,bottomDisplay:x,onClose:L,onTransitionEnd:A,testId:C})=>{const _="0px",k=250,E="start",R="end",N="bottom",O="initial",U="opening",T="closing",B="unmounted",H="full-overlay",j="overlay",z="reflow",W="hidden",[X,Y]=s.useState(g?O:B),[I,V]=s.useState(v?O:B),[M,$]=s.useState(S?O:B),[K,P]=s.useState(W),[q,G]=s.useState(W),[J,Q]=s.useState(W),[Z,ee]=s.useState(),[te,se]=s.useState(),[re,ae]=s.useState(),ne=m.useBreakpointValues({sm:H,md:j,lg:z}),[oe,ie]=s.useState(ne),[ce,ue]=s.useState(ne);s.useEffect((()=>{ie(ne)}),[ne]);const le=s.useRef(null),de=s.useRef(null),he=s.useRef(null),me=s.useRef(null),fe=s.useRef(null),we=e=>e?Math.round(e.offsetHeight):0,ye=s.useCallback((e=>`${we(e)}px`),[]),pe=s.useCallback((e=>e?Math.round(e.getBoundingClientRect().width):0),[]),be=s.useCallback((e=>`${pe(e)}px`),[pe]),{direction:ge}=d.useUser(),ve="ltr"===ge,Se=s.useCallback((e=>r.normalizePosition(e,ge)),[ge]),De=(e,t)=>`${"right"===Se(e)?"":"-"}${be(t.current)}`,Fe=e=>ye(e.current),xe=e=>[E,R].indexOf(e)>-1,Le=e=>e===N,Ae=e=>[U,T].indexOf(e)>-1,Ce=e=>{switch(e){case E:return Ae(X);case R:return Ae(I);case N:return Ae(M)}},_e=e=>{switch(e){case E:return g;case R:return v;case N:return S}},ke=(e,t)=>{switch(e){case E:return P(t);case R:return G(t);case N:return Q(t)}},Ee=e=>{switch(e){case E:return he;case R:return me;case N:return fe}},Re=e=>{switch(e){case E:return X;case R:return I;case N:return M}},Ne=(e,t)=>{switch(e){case E:Y(t);break;case R:V(t);break;case N:$(t)}},Oe=e=>{const t=(e=>{switch(e){case E:return D;case R:return F;case N:return x}})(e);return t||(xe(e)?oe:ce)},Ue=(e,t)=>{const s=Le(e);return Oe(e)===z?s?{opening:()=>({from:{maxHeight:_,overflowX:"hidden"},to:{maxHeight:ye(t.current),overflowX:"hidden"},options:{duration:k}}),closing:()=>({from:{maxHeight:ye(t.current)},to:{maxHeight:_,overflowX:"hidden"},options:{duration:k}})}:{opening:()=>({from:{maxWidth:_,overflowY:"hidden"},to:{maxWidth:be(t.current),overflowY:"hidden"},options:{duration:k}}),closing:()=>({from:{maxWidth:be(t.current)},to:{maxWidth:_,overflowY:"hidden"},options:{duration:k}})}:s?{opening:()=>({from:{translateY:Fe(t)},to:{translateY:_},options:{duration:k}}),closing:()=>({from:{translateY:_},to:{translateY:Fe(t)},options:{duration:k}})}:{opening:()=>({from:{translateX:De(e,t)},to:{translateX:_},options:{duration:k}}),closing:()=>({from:{translateX:_},to:{translateX:De(e,t)},options:{duration:k}})}};function Te(e,t){const s=_e(e),r=Re(e);return l.useAnimation(r,{animationStates:Ue(e,t),isAnimatedOnMount:!0,onAnimationEnd:()=>{r===U?(Ne(e,"open"),(e=>{const t=Ee(e),s=c.getAutofocusFocusables(t.current);s.length>0?c.focusOn(s[0]):c.focusWithin(t.current)})(e),A?.({placement:e,value:!0})):s||((e=>{switch(e){case E:Be(null);break;case R:He(null);break;case N:je(null)}})(e),ke(e,W),Ne(e,B),A?.({placement:e,value:!1}))}}).nodeRef}const Be=Te(E,he),He=Te(R,me),je=Te(N,fe),ze=h.useTestId(C);function We(e){const t=_e(e),r=Re(e);s.useEffect((()=>{if(r!==B||t)if(r===B&&t)Ne(e,O);else{if(r===O&&t){const t=Ee(e),s=(e=>{switch(e){case E:return Be;case R:return He;case N:return je}})(e);return s(t.current),void Ne(e,U)}r===U&&t?ke(e,"visible"):t||Ne(e,T)}}),[t,r,e])}We(E),We(R),We(N);const Xe=e=>{Ve(E,e)},Ye=e=>{Ve(R,e)},Ie=e=>{Ve(N,e)},Ve=(e,t)=>{"Escape"===t.code&&Pe(e)&&L?.({placement:e,reason:"escapeKey"})},{classes:Me,styles:$e}=w.useComponentTheme(p.DrawerLayoutRedwoodTheme),Ke=e=>e===W?$e.visibilityHidden:$e.visibilityVisible,Pe=e=>[H,j].indexOf(Oe(e))>-1,qe=e=>Oe(e)===H,Ge=e=>{const t=(e=>{switch(e){case E:return K;case R:return q;case N:return J}})(e),s=[Ke(t)];Pe(e)?(s.push($e.overlayDrawer),xe(e)&&!qe(e)&&s.push($e.overlaySideDrawerNonFullWidth)):s.push($e.reflowDrawer),Ce(e)&&s.push($e.animatedDrawer);return s.push((e=>{switch(e){case E:return Pe(E)?ve?$e.overlayDrawerLeft:$e.overlayDrawerRight:ve?$e.reflowDrawerLeft:$e.reflowDrawerRight;case R:return Pe(R)?ve?$e.overlayDrawerRight:$e.overlayDrawerLeft:ve?$e.reflowDrawerRight:$e.reflowDrawerLeft;case N:return Pe(N)?$e.overlayDrawerBottom:$e.reflowDrawerBottom}})(e)),y.classNames(s)},Je=e=>{switch(e){case E:return o;case R:return i;case N:return b}},Qe=e=>{switch(e){case E:return Xe;case R:return Ye;case N:return Ie}},Ze=e=>t.jsx("div",{ref:Ee(e),className:Ge(e),tabIndex:Pe(e)?-1:void 0,onKeyDown:Qe(e),children:Je(e)}),et=u.getClientHints(),tt=s.useCallback((()=>"ios"===et.platform?document.documentElement.clientHeight:window.innerHeight),[et.platform]),st=s.useCallback((()=>{tt()>=600?ce!=z&&ue(z):ce!=j&&ue(j)}),[ce,tt]);s.useEffect((()=>{const e=new ResizeObserver((()=>{st()}));return e.observe(document.body),()=>{e.unobserve(document.body)}}),[st]);const rt=e=>{const t=(e=>Ee(e).current)(e);return t?xe(e)?-pe(t):-we(t):0},at=e=>{switch(e){case E:return Z;case R:return te;case N:return re}},nt=s.useCallback((e=>{const t=ye(de.current),s=Ee(e).current;s&&_e(e)&&Pe(e)&&(s.style.height=t)}),[ye,_e,Pe]),ot=s.useCallback((()=>{const e=fe.current;if(e&&_e(N)&&Pe(N)){const t=be(de.current);e.style.width=t}}),[be,_e,Pe]),it=e=>{xe(e)&&(nt(e),(e=>{const t=Ee(e).current;if(t&&_e(e)){const s=t.style;qe(e)?s.width=be(le.current):s.removeProperty("width")}})(e)),Le(e)&&ot()},ct=s.useCallback((()=>{nt(E),nt(R),ot()}),[nt,ot]);f.useResizeObserver(le,ct);const ut=e=>{const t=rt(e);switch(e){case E:ee(t);break;case R:se(t);break;case N:ae(t)}};f.useResizeObserver(he,(()=>{ut(E)}));f.useResizeObserver(me,(()=>{ut(R)}));f.useResizeObserver(fe,(()=>{ut(N)}));const lt=e=>Re(e)!==B?(e=>{const s={mainAxis:!1,crossAxis:!1},r={mainAxis:!1,crossAxis:!1};return Pe(e)?(it(e),at(e)||ut(e),t.jsx("div",{children:t.jsx(n.Layer,{children:t.jsx(a.Floating,{anchorRef:e===N?de:le,placement:e,class:Ce(e)?$e.floating:"",offsetValue:at(e),flipOptions:r,shiftOptions:s,children:Ze(e)})})})):Ze(e)})(e):null;return t.jsxs("div",{ref:le,className:Me,...ze,children:[lt(E),t.jsxs("div",{ref:de,className:$e.centerSection,children:[t.jsx("div",{className:$e.mainContent,children:e}),lt(N)]}),lt(R)]})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_DrawerLayout.js.map
