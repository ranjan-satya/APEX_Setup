/*!
 Copyright (c) 2012, 2022, Oracle and/or its affiliates. All rights reserved.
*/
apex.widget.tabular={},function(e,a,t){function o(e,o,n){o.checked?(a.gStyleChecked[e]&&t(o,apex.gPageContext$).closest("tr").children("td").css("background-color",a.gStyleChecked[e]),a.gRowActive[e][n]="Y"):(a.gStyleChecked[e]&&t(o,apex.gPageContext$).closest("tr").children("td").css("background-color",""),a.gRowActive[e][n]="N",t("#check-all-rows",apex.gPageContext$).prop("checked",!1))}function n(a){for(var o=!1,n=$x_FormItems($x("report_"+a)),g=n.length,r=e.gChangedItems.length,i=0;i<g;i++)e.gTabFormData[i]!==n[i].value&&"X01"!==n[i].name&&(t(n[i]).addClass("apex-tabular-highlight"),o=!0);for(var c=0;c<r;c++)t(e.gChangedItems[c]).addClass("apex-tabular-highlight"),o=!0;return o}e.gNewRowDatePicker=[],e.init=function(a,n,g){var r,i;t.extend({beforeRow:null,afterRow:null},g),e.gTabFormData=[],e.gErrItems=g.errorItems,e.gChangedItems=[],e.gNewRows=0,e.gTabFormRegionID=a,e.gTabFormReportID="report_"+a,e.gTabForm=t("#init_row_"+a,apex.gPageContext$).parent(),e.gTabFormDefaultBG=t("#init_row_"+a,apex.gPageContext$).children("td").css("background-color"),e.gTabFormInitRow=g.beforeRow+t("#init_row_"+a,apex.gPageContext$).html()+g.afterRow,g.initialPageLoad&&(e.gInternalRegionId=g.internalRegionId,e.gUnsavedMsg=g.unsavedMsg,e.gAjaxEnabled=g.ajaxEnabled,t(apex.gPageContext$).on("apexbeforepagesubmit",(function(){t("input[name$=NOSUBMIT]",t("#"+e.gTabFormRegionID,apex.gPageContext$)[0]).each((function(){$x_disableItem(this,!0)})),t("#init_row_"+a,apex.gPageContext$).remove()}))),t("#init_row_"+a,apex.gPageContext$).remove(),i=(r=$x_FormItems($x(e.gTabFormReportID))).length;for(var c=0;c<i;c++)t(r[c]).attr("autocomplete","off"),"X01"!==r[c].name?e.gTabFormData[c]=r[c].value:e.gTabFormData[c]="0";t("#"+e.gTabFormRegionID,apex.gPageContext$).on("click","input.row-selector",(function(){o(e.gInternalRegionId,this,t(".row-selector",apex.gPageContext$).index(this))})),t("#check-all-rows").on("click",(a=>{e.checkAll(a.target)}))},e.checkAll=function(a){t("input[name=f01]",t("#"+e.gTabFormRegionID,apex.gPageContext$)).each((function(n){t(this).prop("checked",a.checked),o(e.gInternalRegionId,this,n)}))},e.pad=function(e,a){for(var t=""+e;t.length<a;)t="0"+t;return t},e.paginate=function(t,o,g){function r(){e.gAjaxEnabled?a.paginate(e.gInternalRegionId,o,g):apex.navigation.redirect(g)}n(t)?confirm(e.gUnsavedMsg)&&r():r()},e.sort=function(t,o,g,r){function i(){e.gAjaxEnabled?a.sort(r,o,g):apex.navigation.redirect(g)}n(t)?confirm(e.gUnsavedMsg)&&i():i()},e.addRow=function(a,o,n){var g,r,i,c,l=$x_FormItems($x(e.gTabFormReportID)),s=l.length,x=e.gTabFormInitRow,p=e.gNewRowDatePicker,d=e.gErrItems.length;for(e.gNewRows=e.gNewRows+1,i=0;i<s;i++)e.gTabFormData[i]!==l[i].value&&"X01"!==l[i].name&&e.gChangedItems.push(l[i]);if(x=(x=(x=x.replace(/_0000/g,"_"+e.pad(e.gNumRows+e.gNewRows,4))).replace("p_element_index=\" +  escape ('0')","p_element_index=\" +  escape ('"+(e.gNumRows+e.gNewRows)+"')")).replace(/\$_row/g,e.gNumRows+e.gNewRows),t(e.gTabForm).append(x),t("#"+e.gTabFormRegionID,apex.gPageContext$).contents().find(".nodatafound").hide(),p.length>0)for(g=e.pad(e.gNumRows+e.gNewRows,4),w=0;w<p.length;w++)p[w](g);r=e.pad(e.gNumRows+e.gNewRows,4),t(":input[id^=f][id$=_"+r+"]",apex.gPageContext$).on("change",(function(){t("#fcud_"+r,apex.gPageContext$).val("C")}));for(var m=0;m<d;m++)e.gErrItems[m].length>0&&t("#"+e.gErrItems[m],apex.gPageContext$).addClass("apex-tabular-form-error");if(o)for(var w=0;w<o.length;w++)c=e.pad(e.gNumRows+e.gNewRows,4),t("#fcud_"+r,apex.gPageContext$).val("C"),t("#"+o[w]+"_"+c,apex.gPageContext$).val(a[w][e.gNewRows-1]),n[w].indexOf("RADIO")>=0&&t("[name="+o[w]+"_"+c+"_NOSUBMIT]",apex.gPageContext$).each((function(){t(this).val()===a[w][e.gNewRows-1]&&t(this).prop("checked",!0)})),n[w].indexOf("SIMPLE_CHECKBOX")>=0&&t("#"+o[w]+"_"+c+"_01",apex.gPageContext$).each((function(){$x(o[w]+"_"+c+"_01").value===a[w][e.gNewRows-1]&&t(this).prop("checked",!0)}));for(s=(l=$x_FormItems($x(e.gTabFormReportID))).length,i=0;i<s;i++)"X01"!==l[i].name?e.gTabFormData[i]=l[i].value:e.gTabFormData[i]="0"}}(apex.widget.tabular,apex.widget.report,apex.jQuery),apex.widget.report.tabular=apex.widget.tabular;