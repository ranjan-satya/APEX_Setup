/*!
 * Copyright (c) 1999, 2024, Oracle and/or its affiliates.
 */
/*!
 * jQuery Mobile
 * Copyright 2010, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t,e){"use strict";var n="_popup",i="_popup_btn",a="columntoggle",s="reflow",l="u-Report a-Table",o="a-Table--reflow",h="a-Table-cellLabel",d="a-Table--columntoggle",u=t.getAttribute;e.widget("apex.table",{widgetEventPrefix:"table",options:{mode:"plain",noDataFoundText:null,columnBtnText:"Columns...",columnsCallout:!1,columnsNoOverlay:!0,enhanced:!1},_create:function(){var t=this.element,h=this.options;h.enhanced||t.addClass(l),this.headers=null,this.allHeaders=null,this._menu=e(),this._columnsButton=e(),this._refresh(!0),h.mode===s?h.enhanced||(t.addClass(o),this._updateReflow()):h.mode===a&&(h.enhanced?(this._menu=e("#"+this._id()+n).children().first(),this._columnsButton=e("#"+this._id()+i),this._addToggles(this._menu,!0)):(this._enhanceColToggle(),t.addClass(d)),this._setupEvents(),this._setToggleState())},_getCreateOptions:t._getCreateOptions,_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_destroy:function(){var t=this.element;this.options.enhanced||(t.removeClass(l+" "+o+" "+d),this._menu.remove(),this._columnsButton.remove(),t.find("."+h).remove()),this.noData&&this.noData.remove()},_setHeaders:function(){var t=this.element,e=t.find("thead tr");this.headers=t.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(e.children())},refresh:function(){this._refresh()},rebuild:function(){"plain"!==this.options.mode&&this._refresh(!1)},_refresh:function(t){var n,i,l,o=this.element,h=this.options,d=o.find("thead tr");if(0===o.find("tbody tr").length&&h.noDataFoundText?(this.noData||(this.noData=e("<div class='nodatafound'></div>"),o.after(this.noData)),this.noData.text(h.noDataFoundText),o.hide()):this.noData&&(this.noData.remove(),this.noData=null,o.show(),this._columnsButton.show()),this._setHeaders(),d.each((function(){var t=0;e(this).children().each((function(){var n,i=parseInt(this.getAttribute("colspan"),10),a=":nth-child("+(t+1)+")";if(this.setAttribute("data-colstart",t+1),i)for(n=0;n<i-1;n++)a+=", :nth-child("+((t+=1)+1)+")";e(this).data("cells",o.find("tr").not(d.eq(0)).not(this).children(a)),t+=1}))})),!t)if(h.mode===s)this._updateReflow();else if(h.mode===a)for(n=this.headers,i=[],this._menu.find("input").each((function(){var t=e(this),a=t.data("header"),s=n.index(a[0]);s>-1&&!t.prop("checked")&&i.push(s)})),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,t),l=i.length-1;l>-1;l--)n.eq(i[l]).data("input").prop("checked",!1).trigger("change")},_updateReflow:function(){var t=this;e(this.allHeaders.get().reverse()).each((function(){var n,i,a=e(this).data("cells"),s=u(this,"colstart"),l=a.not(this).filter("thead th").length&&" ui-table-cell-label-top",o=e(this).clone().contents();o.length>0&&(l?(i="",(n=parseInt(this.getAttribute("colspan"),10))&&(i="td:nth-child("+n+"n + "+s+")"),t._addLabels(a.filter(i),h+l,o)):t._addLabels(a,h,o))}))},_addLabels:function(t,n,i){1===i.length&&"abbr"===i[0].nodeName.toLowerCase()&&(i=i.eq(0).attr("title")),t.not(":has(b."+n+")").prepend(e("<b class='"+n+"'></b>").append(i))},_setupEvents:function(){this._on(window,{apexwindowresized:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"}),this.options.mode===a&&this._on(this._columnsButton,{click:function(){this._menu.parent().popup("open")}})},_addToggles:function(t,n){var i,a,s=this._id()+"CB",l=0,o=t;n?i=t.find("input"):o.empty(),this.headers.not("td").each((function(){var t,h,d=e(this),c=u(this,"priority");c&&((h=d.add(d.data("cells"))).addClass("ui-table-priority-"+c),a=s+l,t=(n?i.eq(l):e("<div class='apex-item-option'><input id='"+a+"' type='checkbox' checked /><label for='"+a+"'>"+(d.children("abbr").first().attr("title")||d.text())+"</label></div>").appendTo(o).children().eq(0)).data("header",d).data("cells",h),d.data("input",t),l+=1)}))},_menuInputChange:function(t){var n=e(t.target),i=n[0].checked;n.data("cells").toggleClass("ui-table-cell-hidden",!i).toggleClass("ui-table-cell-visible",i)},_unlockCells:function(t){t.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var t,a,s,l,o,h=this.element,d=this.options;t=this._id()+n,a=this._id()+i,s=e("<button type='button' id='"+a+"' class='a-Button a-Table-columntoggleBtn'><span class='a-Button-label'>"+d.columnBtnText+"</span></button>"),l=e("<div class='a-Table-columntogglePopup' id='"+t+"' style='display:none;'></div>"),o=e("<div role='group' class='checkbox_group apex-item-group apex-item-group--rc apex-item-checkbox' aria-labelledby='"+a+"'></div>"),this._addToggles(o,!1),o.appendTo(l),h.before(l).before(s),l.popup({autoOpen:!1,title:d.columnBtnText,parentElement:s,width:"auto",minHeight:"0",noOverlay:d.columnsNoOverlay,callout:d.columnsCallout}),this._menu=o,this._columnsButton=s,this.noData&&s.hide()},_setToggleState:function(){this._menu.find("input").each((function(){var t=e(this);this.checked="table-cell"===t.data("cells").eq(0).css("display")}))}}),e((function(){e("[data-role='table']").table()}))}(apex.widget,apex.jQuery);
!function(e){"use strict";var t=e.apex.table.prototype.options;t.apexRegionId="",t.apexAjaxIdentifier="",t.apexPageItems="",t.filterRegionId="",e(document).on("tablecreate","table",(function(){var t=e(this),a=t.data("apex-table").options;function n(){t.find("tbody").empty()}function i(a){var n;n=e(a),t.find("tbody").append(n),t.table("refresh")}a.apexRegionId&&a.apexAjaxIdentifier&&apex.region.create(a.apexRegionId,{type:"ResponsiveTable",widgetName:"table",filterRegionId:a.filterRegionId,refresh:function(){return apex.server.plugin(a.apexAjaxIdentifier,{pageItems:a.apexPageItems,x01:"FETCH",x05:1},{dataType:"html",loadingIndicator:t,loadingIndicatorPosition:"centered",refreshObject:t,clear:n,success:i})},widget:function(){return t}})}))}(apex.jQuery);