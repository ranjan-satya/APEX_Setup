/*!
 Copyright (c) 2012, 2023, Oracle and/or its affiliates. All rights reserved.
*/
!function(e,t,a,i){"use strict";var r=e.apex.listview.prototype.options,l=/(^|\s)a-ListView-divider(\s|$)/;r.apexRegionId="",r.apexAjaxIdentifier="",r.apexPageItems="",r.apexFilter="",e(document).on("listviewcreate","ul, ol",(function(){var r=e(this),n=r.data("apex-listview").options;function s(e){a.plugin(n.apexAjaxIdentifier,{pageItems:n.apexPageItems,x01:"FETCH",x04:r.data("apex-last-search"),x05:e},{dataType:"html",loadingIndicator:r,loadingIndicatorPosition:"centered",refreshObject:r,clear:1===e?o:void 0,success:d})}function o(){r.empty(),r.listview("refresh")}function d(t){var a=e(t),i=a.filter("li[data-role='list-divider']:first"),l=e("li[data-role='list-divider']:last",r);e("li.apex-load-more",r).remove(),r.append(a),i.text()===l.text()&&i.remove(),r.listview("refresh")}n.apexRegionId&&n.apexAjaxIdentifier&&(t.create(n.apexRegionId,{type:"ListView",widgetName:"listview",refresh:function(){s(1)},widget:function(){return r}}),r.on("click","li.apex-load-more",(function(t){s(e("li[data-role!='list-divider']",r).length),t.preventDefault()})),(r.attr("data-apex-filter")||r.attr("data-filter"))&&function(){function t(){var e=p.val();r.data("apex-last-search",e),s(1)}var a=e.apex.filterable.prototype.options.filterCallback,o=r.attr("data-input").substr(1),d=e("<div>",{class:"a-ListView-searchbar ui-filterable ui-bar-"+r.attr("data-filter-theme"),role:"search"}),p=e("<input>",{id:o,placeholder:r.attr("data-filter-placeholder"),"data-type":"search"});p.appendTo(d),d.insertBefore(r),n.inset&&d.addClass("ui-listview-filter-inset");n.apexFilter?p.on("keydown",i.debounce(t,200)).on("keypress",(function(e){13===e.which&&e.preventDefault()})):r.filterable({filterCallback:function(e,t){return!this.className.match(l)&&a.call(this,e,t)}})}())}))}(apex.jQuery,apex.region,apex.server,apex.util);