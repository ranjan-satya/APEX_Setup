/*!
 Copyright (c) 2021, Oracle and/or its affiliates. All rights reserved.
*/
!function(e,t,i,n){"use strict";var r="div.apex-item-wrapper--display-map",a={item_type:"DISPLAY_MAP",enable:function(){this.element.prop("disabled",!1),this.element.closest(r).removeClass("apex_disabled")},disable:function(){this.element.prop("disabled",!0),this.element.closest(r).addClass("apex_disabled")},isDisabled:function(){return!0===this.element.prop("disabled")},show:function(){this.element.closest(r).show()},hide:function(){this.element.closest(r).hide()},setValue:function(){n.error("This input element is a readonly component and doesn't support setting a value.")},getValue:function(){return this.element[0].value},getNativeValue:function(){return JSON.parse(this.element[0].value||"{}")}};e.addAttachHandler((function(r){t("input[type='hidden'].apex-item-display-map",r).each((function(){var r=i.escapeCSS(this.id),o=t("#"+r,apex.gPageContext$),s=t("#"+r+"_MAP",apex.gPageContext$);s.length>0&&function(e){var t,i=e||"";if(!i)return!0;try{t=JSON.parse(i)}catch(e){return n.error("Failed to parse GeoJSON.",e),!1}return t.coordinates?Array.isArray(t.coordinates)?2!==t.coordinates.length?(n.error("Missing coordinates in coordinates array in GeoJSON."),!1):isNaN(t.coordinates[0])||isNaN(t.coordinates[1])?(n.error("Not numeric coordinates in coordinates array in GeoJSON."),!1):t.type?"point"===t.type.toLowerCase()||(n.error("Missing point type in GeoJSON."),!1):(n.error("Missing type in GeoJSON."),!1):(n.error("Missing coordinates array in GeoJSON."),!1):(n.error("Missing coordinates in GeoJSON."),!1)}(o.val())&&s.miniMap(),e.create(r,a)}))}))}(apex.item,apex.jQuery,apex.util,apex.debug);