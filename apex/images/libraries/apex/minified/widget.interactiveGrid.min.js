/*!
 Copyright (c) 2015, 2024, Oracle and/or its affiliates.
*/
!function(e,t,i,n,o,a,l,r,s,d,c,u,h,g,p){"use strict";const m="a-IG",f="."+m,_=m+"-header",C="."+_,I=m+"-body",b="."+I,v=m+"-content",E=v+"Container",w="."+E,A="a-IG-dialog",R=A+"-input-checkbox",S=A+"-label-checkbox",T=A+"-iconList",L=T+"-item",N=T+"-link",y=T+"-icon",O=T+"-label",V=m+"-controls",k=V+"-item",D=k+"--",M=V+"-cell",x=M+"--label",H=M+"--remove",F=V+"Checkbox",P=F+"Label",G=V+"Icon",U=V+"Label",B=V+"Container",q="."+B,X="a-IG-reportSummary",$=X+"Container",K=X+"-item",Y=X+"-item--",W=X+"-label",z=X+"-icon",j=X+"-count",Z=X+"-value",Q=m+"-button",J=Q+"--controls",ee=Q+"--remove",te="icon-ig-",ie=m+"-gridView",ne=m+"-iconView",oe=m+"-detailView",ae=m+"-chartView",le=m+"-recordView",re="a-IRR-sortWidget",se=re+"-actions",de=se+"-item",ce=re+"-button",ue=re+"-search",he=re+"-searchLabel",ge=re+"-searchField",pe=re+"-rows",me=re+"-row",fe="u-Form",_e=fe+"--labelsAbove",Ce=fe+"--stretchInputs",Ie=fe+"-fieldContainer",be="."+Ie,ve=fe+"-label",Ee="apex-item-text",we="a-Combobox",Ae="hasDatepicker",Re="hasNumberField",Se="a-Button",Te=Se+"--noUI",Le=Se+"-label",Ne=Se+"--noLabel",ye=Se+"--iconTextButton",Oe="a-Icon",Ve=Oe+"--left",ke=Oe+"--right",De="a-MediaBlock",Me=De+"-graphic",xe=De+"-content",He="is-active",Fe="is-checked",Pe="js-colCheckbox",Ge="."+Pe,Ue="u-VisuallyHidden",Be="has-button",qe="aria-expanded",Xe="aria-hidden",$e="aria-label",Ke="aria-labelledby",Ye="aria-describedby",We="aria-controls",ze="aria-invalid",je="aria-level",Ze="<option></option>",Qe="left",Je="right",et="text",tt="select",it="colorpicker",nt="textarea",ot="checkbox",at="iconList",lt="row",rt="column",st="complex",dt="start",ct="center",ut="destroy",ht="delete",gt="refresh",pt="resize",mt="show",ft="hide",_t="expanded",Ct="collapsed",It="required",bt="disabled",vt="checked",Et="option",wt="grid",At="icon",Rt="chart",St="inactiveSettings",Tt="invalidSettings",Lt="primary",Nt="alternative",yt="private",Ot="public",Vt="columns",kt="filter",Dt="highlight",Mt="flashback",xt="sort",Ht="aggregate",Ft="controlBreak",Pt="editReport",Gt="saveAsReport",Ut="download",Bt="asc",qt="first",Xt="last",$t="none",Kt="scroll",Yt="set",Wt="i",zt="d",jt="region",Zt="page",Qt="~",Jt="Y",ei="N",ti="_meta",ii="plain",ni="label",oi="error",ai="class",li="role",ri="value",si="action",di="toggle",ci="radioGroup",ui={type:"separator"},hi="BUTTON",gi="MENU",pi="all",mi="past",fi="future",_i="EQ",Ci="NEQ",Ii="LT",bi="LTE",vi="GT",Ei="GTE",wi="N",Ai="NN",Ri="C",Si="NC",Ti="IN",Li="NIN",Ni=";",yi="BETWEEN",Oi="NBETWEEN",Vi="LAST",ki="NLAST",Di="NEXT",Mi="NNEXT",xi="REGEXP",Hi="S",Fi="NS",Pi="VARCHAR2",Gi="NUMBER",Ui="DATE",Bi="CLOB",qi="TIMESTAMP",Xi="TIMESTAMP_TZ",$i="TIMESTAMP_LTZ",Ki=[Ui,qi,Xi,$i],Yi="area",Wi="bar",zi="bubble",ji="donut",Zi="funnel",Qi="line",Ji="lineWithArea",en="pie",tn="polar",nn="radar",on="range",an="scatter",ln="stock",rn="vertical",sn="on",dn="off",cn="auto",un="cartesian",hn="VALUE_REQUIRED",gn="INVALID_VALUE",pn="INVALID_NUMBER_FORMAT",mn="SELECT",fn="APEX.SAMPLE_FORMAT_SHORT",_n="#fff5ce;#d0f1cc;#cce5ff;#ffd6d2;#e8e8e8;#000000;#ffffff",Cn="YYYYMMDDHH24MISS",In={EQ:"EQUALS",NEQ:"NOT_EQUALS",LT:"LESS_THAN",LTE:"LESS_THAN_OR_EQUALS",GT:"GREATER_THAN",GTE:"GREATER_THAN_OR_EQUALS",LIKE:"LIKE",NLIKE:"NOT_LIKE",N:"IS_NULL",NN:"IS_NOT_NULL",C:"CONTAINS",NC:"DOES_NOT_CONTAIN",IN:"IN",NIN:"NOT_IN",BETWEEN:"BETWEEN",NBETWEEN:"NOT_BETWEEN",LAST:"IN_THE_LAST",NLAST:"NOT_IN_THE_LAST",NEXT:"IN_THE_NEXT",NNEXT:"NOT_IN_THE_NEXT",REGEXP:"MATCHES_REGULAR_EXPRESSION",S:"STARTS_WITH",NS:"DOES_NOT_START_WITH",OTEXT:"ORACLE_TEXT"},bn={SUM:"SUM",AVG:"AVG",CNT:"COUNT",CNT_DIST:"COUNT_DISTINCT",APPR_CNT_DIST:"APPROX_COUNT_DISTINCT",MIN:"MIN",MAX:"MAX",MEDIAN:"MEDIAN",LISTAGG:"LISTAGG"},vn=t.hasOwnProperty,En=Array.isArray;function wn(e){return o.getMessage(e)}function An(e){return o.getMessage("APEX.IG."+e)}function Rn(e,t){return void 0!==e?e:t}const Sn={filter:An("FILTER"),chart:An("CHART"),groupby:An("GROUP_BY"),controlBreak:An("CONTROL_BREAK"),highlight:An("HIGHLIGHT"),aggregate:An("AGGREGATE"),flashback:An("FLASHBACK")},Tn={MI:"MINUTE",H:"HOUR",D:"DAY",W:"WEEK",M:"MONTH",Y:"YEAR"},Ln="LABEL",Nn="VALUE",yn="X",On="Y",Vn="Z",kn="TARGET",Dn="HIGH",Mn="LOW",xn=[{value:"$1,002.54",label:{style:"currency",currency:"USD",currencyDisplay:"symbol"}},{value:"1,002.54",label:{style:"decimal",maximumFractionDigits:2}},{value:"1,002.5400",label:{style:"decimal",maximumFractionDigits:4}},{value:"1,002",label:{style:"decimal",maximumFractionDigits:0}},{value:"1,002.54-",label:{style:"decimal",maximumFractionDigits:2}},{value:"-1,002.54",label:{style:"decimal",maximumFractionDigits:2}},{value:"<1,002.54>",label:{style:"decimal",maximumFractionDigits:2}}],Hn=[{value:"DD-MON-RR",label:{pattern:"dd-MMM-yy"}},{value:"DD-MON-YYYY",label:{pattern:"dd-MMM-yyyy"}},{value:"DD-MON",label:{pattern:"dd-MMM"}},{value:"RR-MON-DD",label:{pattern:"yy-MMM-dd"}},{value:"YYYY-MM-DD",label:{pattern:"yyyy-MMM-dd"}},{value:"fmDay, fmDD fmMonth, YYYY",label:{formatType:"date",dateFormat:"full"}},{value:"DD-MON-YYYY HH24:MI",label:{pattern:"dd-MMM-yyyy HH:mm"}},{value:"DD-MON-YYYY HH24:MI:SS",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH:MIPM",label:{pattern:"dd-MMM-yyyy hh:mm a"}},{value:"Month",label:{month:"long"}},{value:"DD-MON-YYYY HH24.MI.SSXFF",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH:MI:SSXFF PM",label:{pattern:"dd-MMM-yyyy hh:mm:ss a"}},{value:"DD-MON-YYYY HH24:MI TZR",label:{pattern:"dd-MMM-yyyy HH:mm"}},{value:"DD-MON-YYYY HH24.MI.SSXFF TZR",label:{pattern:"dd-MMM-yyyy HH:mm:ss"}},{value:"DD-MON-YYYY HH.MI.SSXFF PM TZR",label:{pattern:"dd-MMM-yyyy hh:mm:ss a"}}],Fn="viewChange",Pn="save",Gn="change",Un=[{id:"search",groupTogether:!0,customCSS:"a-Toolbar-group--search",controls:[{type:gi,id:"column_filter_button",labelKey:"APEX.IG.SELECT_COLUMNS_TO_SEARCH",icon:"icon-search",iconOnly:!0,menu:{items:[{type:di,action:"search-case-sensitive"},ui,{type:ci,action:"filter-column"}]}},{type:"TEXT",id:"search_field",enterAction:"search"},{type:hi,action:"search"}]},{id:"reports",controls:[{type:"SELECT",action:"change-report"}]},{id:"views",controls:[{type:"RADIO_GROUP",labelKey:"APEX.IG.VIEW",action:"change-view"}]},{id:"actions1",controls:[{type:gi,id:"actions_button",labelKey:"APEX.IG.ACTIONS",menu:{items:[{type:si,action:"show-columns-dialog"},ui,{type:si,action:"show-filter-dialog"},{type:"subMenu",id:"data_submenu",labelKey:"APEX.IG.DATA",icon:"icon-ig-data",menu:{items:[{type:si,action:"show-sort-dialog"},{type:si,action:"show-aggregate-dialog"},{type:si,action:"refresh"},{type:si,action:"show-flashback-dialog"}]}},{type:"subMenu",id:"format_submenu",labelKey:"APEX.IG.FORMAT",icon:"icon-ig-format",menu:{items:[{type:si,action:"show-control-break-dialog"},{type:si,action:"show-highlight-dialog"},{type:di,action:"stretch-columns"},{type:"subMenu",labelKey:"APEX.IG.ROWS_PER_PAGE",hide:!0,id:"rows",icon:"icon-ig-rows",menu:{items:[{type:ci,action:"change-rows-per-page"}]}}]}},{type:"subMenu",id:"selection_submenu",labelKey:"APEX.IG.SELECTION",icon:"icon-ig-selection",menu:{items:[{type:di,action:"selection-mode"},ui,{type:si,action:"selection-copy",accelerator:"Ctrl+C"},ui]}},ui,{type:si,action:"chart-view"},ui,{type:"subMenu",id:"save_report_submenu",labelKey:"APEX.IG.REPORT",icon:"icon-irr-saved-report",menu:{items:[{type:si,action:"save-report"},{type:si,action:"show-save-report-as-dialog"},{type:si,action:"show-edit-report-dialog"},ui,{type:si,action:"delete-report"},ui,{type:si,action:"reset-report"}]}},ui,{type:si,action:"show-download-dialog"},ui,{type:si,action:"show-help-dialog"}]}}]},{id:"actions2",controls:[{type:"TOGGLE",action:"edit"},{type:hi,hot:!0,action:"save"}]},{id:"actions3",controls:[{type:hi,action:"selection-add-row"}]},{id:"actions4",align:"end",controls:[{type:hi,action:"reset-report",labelKey:"APEX.IG.RESET",iconBeforeLabel:!0}]}];function Bn(){var t,i=[];for(t=0;t<Un.length;t++)i.push(e.extend(!0,{},Un[t]));return i.toolbarFind=Un.toolbarFind,i.toolbarRemove=Un.toolbarRemove,i.toolbarInsertAfter=Un.toolbarInsertAfter,i}function qn(e,t,i,n){var o,a,l,r,s,d,c=e;function u(e){var o,a;for(o=0;o<e.length;o++){if((a=e[o]).id===t||a.action===t)return i&&e.splice(o,1),n&&e.splice(o+1,0,n),a;if("subMenu"===a.type&&(a=u(a.menu.items)))return a}return null}for(o=0;o<c.length;o++){if((d=c[o]).id===t)return i&&c.splice(o,1),n&&c.splice(o+1,0,n),d;if(l=d.controls)for(a=0;a<l.length;a++){if((r=l[a]).id===t||r.action===t)return i&&l.splice(a,1),n&&l.splice(a+1,0,n),r;if(r.menu&&(s=u(r.menu.items)))return s}}return null}function Xn(e){return{label:e||"ENABLED",alignment:ct,defaultValue:!0,columnCssClasses:Pe,cellTemplate:"<span class='ro-checkbox &\"enabledClass\".'></span><span class='u-vh'>&\"enabledText\".</span>",width:80,noStretch:!0,seq:10}}function $n(e,t){e.recordView("fieldElement",t).hide()}function Kn(e,t){e.recordView("fieldElement",t).show()}function Yn(e){try{return p.parse(e,Cn)}catch(e){return null}}function Wn(e){try{return p.format(e,Cn)}catch(e){return""}}function zn(e){var t,i,n=[];for(t=0;t<e.length;t++)""!==(i=e[t].replace(/^\s+|\s+$/gm,""))&&-1===n.indexOf(i)&&n.push(i);return n}function jn(e){var t=e;switch(e){case"groupby":t="group-by";break;case"savedReport":t="saved-report";break;case St:t="inactive-settings";break;case Tt:t="invalid-settings";break;case Ft:t="control-break";break;case Gt:case Pt:t="save-report"}return t}function Zn(e,t,i,n,o,a){var l;for(a||t.push({value:o,label:a}),l=0;l<e.length;l++)t.push({value:e[l][i],label:e[l][n]})}function Qn(t,i){var n;if(!e.isEmptyObject(i))for(n in i)vn(i,n)&&t.attr("data-"+n,i[n])}function Jn(t,i){var n,o=e.extend({id:"",type:et,value:"",maxChars:"",title:"",role:"",ariaLabel:"",ariaLabelledBy:"",ariaDescribedBy:"",name:"",size:"",placeholder:"",readonly:!1,checked:!1,disabled:!1,invalid:!1,required:!1,cssClasses:[],data:{},attributes:{}},i),a=o.cssClasses,l=o.attributes;if(t.attr("id",o.id).attr("type",o.type).attr("value",o.value).optionalAttr("maxlength",o.maxChars).optionalAttr("title",o.title).optionalAttr(li,o.role).optionalAttr($e,o.ariaLabel).optionalAttr(Ke,o.ariaLabelledBy).optionalAttr(Ye,o.ariaDescribedBy).optionalAttr("name",o.name).optionalAttr("size",o.size).optionalAttr("placeholder",o.placeholder).optionalBoolAttr("readonly",o.readonly).optionalBoolAttr(vt,o.checked).optionalBoolAttr(bt,o.disabled).optionalAttr(ze,o.invalid?"true":null).optionalBoolAttr(It,o.required),a.length>0&&t.attr(ai,En(a)?a.join(" "):a),Qn(t,o.data),!e.isEmptyObject(l))for(n in l)vn(l,n)&&t.attr(n,l[n])}function eo(e,t){e.markup("<input"),Jn(e,t),e.markup(" />")}function to(t,i){eo(t,e.extend({cssClasses:Ee,maxChars:"4000"},i))}function io(i,n){var o=e("#"+i+"_list");function a(e){o.iconList("setSelection",o.find('li[data-value="'+t.escapeHTMLAttr(e)+'"]'),!1)}o.iconList({multiple:!1,selectionChange:function(){e("#"+i).val(e(this).iconList("getSelectionValues")).trigger("change")}}),a(n),e("#"+i).on("change",(function(){a(e("#"+i).val())}))}function no(t,i){var n,o,a,l,r=e.extend({id:"",buttonClass:"",label:"",icon:"",iconOnly:!1,iconPosition:Je,tabindex:"",attributes:{},data:{},role:"",ariaLevel:"",ariaControls:"",ariaDescribedBy:""},i);if(n=Se+(i.buttonClass?" "+i.buttonClass:""),o=Oe+(i.icon?" "+i.icon:""),a=i.icon&&!i.iconOnly,t.markup("<button type='button'").optionalAttr("id",r.id).optionalAttr("tabindex",r.tabindex).attr(ai,n).optionalAttr(li,r.role).optionalAttr(je,r.ariaLevel).optionalAttr(We,r.ariaControls).optionalAttr(Ye,r.ariaDescribedBy),i.iconOnly&&r.label&&t.attr("title",r.label).attr($e,r.label),!e.isEmptyObject(r.attributes))for(l in r.attributes)vn(r.attributes,l)&&t.attr(l,r.attributes[l]);Qn(t,r.data),t.markup(">"),a&&r.iconPosition===Qe&&t.markup("<span").attr(Xe,!0).attr(ai,o+" "+Ve).markup("></span>"),i.iconOnly?t.markup("<span").attr(Xe,!0).attr(ai,o).markup("></span>"):r.label&&t.markup("<span").attr(ai,Le).markup(">").content(r.label).markup("</span>"),a&&r.iconPosition===Je&&t.markup("<span").attr(Xe,!0).attr(ai,o+" "+ke).markup("></span>"),t.markup("</button>")}function oo(t,i){eo(t,e.extend({type:ot},i))}function ao(t,i){var n=e.extend({cssClasses:"",text:"",data:{}},i);t.markup("<a href='#'").attr(ai,n.cssClasses),Qn(t,n.data),t.markup(">").content(n.text).markup("</a>")}function lo(t,i){var n,o=e.extend({cssClasses:ve,ariaHidden:!1,labelFor:"",label:"",labelHidden:!1,labelTextHidden:!1},i);n=o.cssClasses,o.labelHidden&&(n+=" "+Ue),t.markup("<label").attr(ai,n).attr("for",o.labelFor).optionalAttr(Xe,o.ariaHidden?"true":null).markup(">"),o.labelTextHidden?o.label.length>0&&t.markup("<span").attr(ai,Ue).markup(">").content(o.label).markup("</span>"):t.content(o.label),t.markup("</label>")}function ro(t,i){eo(t,e.extend({type:"radio"},i))}function so(e){var t;for(En(e)||(e=[e]),t=0;t<e.length;t++)d(e[t][0]).show()}function co(e){var t;for(En(e)||(e=[e]),t=0;t<e.length;t++)d(e[t][0]).hide()}function uo(e,t){var i;for(En(e)||(e=[e]),i=0;i<e.length;i++)e[i].prop(It,t).closest(be).toggleClass("is-required",t)}function ho(e,i){let n,a,l,d,c=null,u=null,h=null,g="apexDialogPromptInputId",p=t.htmlBuilder(),m=t.getTopApex().jQuery;"item"===e.type&&(u=e.columnItem,h=e.viewInst),p.markup("<div class='u-Form u-Form--labelsAbove u-Form--stretchInputs'>").markup("<div class='u-Form-fieldContainer'><div class='u-Form-labelContainer  u-tS'><span class='u-Form-label'>"),u&&u.item.setLabel||lo(p,{labelFor:g,label:e.label||wn(e.labelKey)}),p.markup("</span></div><div class='u-Form-inputContainer'>"),d={id:g,value:e.value||"",required:!!e.required},"number"===e.type||"item"!==e.type&&to(p,d),p.markup("</div></div></div>"),n=m(p.toString()),l={title:wn(e.titleKey),dialogClass:"",confirm:!0,defaultButton:!0,beforeClose:function(){if(u){let e,t=u.item;a=t.getValue(),e=t.displayValueFor(a),a!==e&&(a={v:a,d:e}),t.setValue(c,null,!0),h._deactivateColumnItem(u),t.setLabel&&t.setLabel(null)}else a=m("#"+g).val()},callback:function(e){var t=!1;e&&(t=a),i(t)},init:function(t){if(u){let i=u.item,n=t.find(".u-Form-inputContainer");c=i.getValue(),i.setValue(i.nullValue||"",null,!0),n.empty().append(u.element$),h._activateColumnItem(u,g),i.setLabel&&i.setLabel(e.label)}},open:function(){m("#"+g).trigger("focus")}},e.okLabelKey&&(l.okLabelKey=e.okLabelKey),e.helpKey&&(l.extraButtons=[{text:wn("APEX.DIALOG.HELP"),CLASS:"ui-button-help",click:function(){o.loadMessagesIfNeeded([e.helpKey,e.helpTitleKey],(function(){r.popupFieldHelp({title:wn(e.helpTitleKey),helpText:wn(e.helpKey)})}))}}]),s.showDialog(n,l)}Un.toolbarInsertAfter=function(e,t){qn(this,e,!1,t)},Un.toolbarRemove=function(e){return qn(this,e,!0)},Un.toolbarFind=function(e){return qn(this,e,!1)};var go={_allowInteraction:function(t){return e(t.target).closest("."+re).length>0||this._super(t)}};e.ui.dialog&&(e.widget("ui.dialog",e.ui.dialog,go),e.widget("apex.popup",e.apex.popup,go)),e.widget("apex.interactiveGrid",{widgetEventPrefix:"interactivegrid",options:{config:{toolbarData:null,modelInstanceId:null,initActions:null,columns:[],ajaxColumns:"",regionId:"",regionAccTitle:"",regionStaticId:"",columnGroups:[],ajaxIdentifier:"",itemsToSubmit:"",editable:!1,submitSelectedRows:!1,parentRegionStaticId:null,trackParentSelection:!0,lazyLoading:!1,filter:{row:!0,complex:!0,isRequired:!1,maxRowCount:null,oracleText:!1},appearance:{showNullValue:"",useFixedRowHeight:!0},pagination:{type:Kt,showTotalRowCount:!1},text:{noDataFound:An("NO_DATA_FOUND"),moreDataFound:"",addRowButton:An("ADD_ROW"),noParentSelected:An("SELECT_1_ROW_IN_MASTER"),help:""},toolbar:{reset:!0,save:!0,columnSelection:!0,searchField:!0,savedReports:!0,editing:!0,addRow:!0,actionMenu:!0},reportSettingsArea:{disabled:!1},features:{saveReport:{publicReportCs:"",isDeveloper:!1,authorizations:[]},download:!1,filter:!0,flashback:!0},initialSelection:!0,headingFixedTo:Zt,maxHeight:null,views:{icon:!1,detail:!1,grid:{disabled:!1,features:{reorderColumns:!0,resizeColumns:!0,sort:!0,stretchColumns:null,highlight:!0,controlBreak:!0,aggregate:!0,changeRowsPerPage:!0,cellRangeActions:!0,singleRowView:!0,gridView:!0,rowSelector:{multiSelect:!0,selectAll:!0,hideControl:!1}}},chart:{disabled:!1,features:{}}},defaultModelOptions:{},defaultGridViewOptions:{},defaultIconViewOptions:{},defaultDetailViewOptions:{},defaultSingleRowOptions:{},unsupported:{aggregateFunctions:[],chartFunctions:[],sortFunctions:[]}},savedReports:[],data:null,selectionChange:null,viewChange:null,reportChange:null,reportSettingsChange:null,viewModelCreate:null,save:null,modeChange:null},_create:function(){var n=this,o=this.element,r=this.options,s=r.config,c=e(f).length;if(!r.config)throw new Error("Missing required config option.");if(!r.savedReports)throw new Error("Missing required saved reports configuration.");if(this.idPrefix=o[0].id||"ig"+(c+1),this.viewsImpl={},this.columnMap={},this.baseModelColumns={},this.primaryKeyColumns=[],this.parentColumnNames=[],this.parentItemValues=[],this.parentModel="",this.parentRecordId=null,this.parentObservers={},this.editMode=!1,this.currentSavedReportIdx="",this.toolbar$=null,this.currentFilterColumnId=null,this.searchCaseSensitive=!1,this.ignoreResizeHandler=!1,this.actions=a.createContext("InteractiveGrid",o[0],s.regionStaticId),this.reportSettingsSeq=1,this.modelReportSettingsSeq={},this.isRTL="rtl"===o.css("direction"),o.addClass(m),this._defaultIGConfig(),s.maxHeight&&o.height(s.maxHeight).css("overflow","hidden"),s.toolbar&&!s.toolbarData&&(s.toolbarData=Bn()),this._defaultColumns(),this._createBaseColumnMap(),this._defaultSavedReports(),this._registerIGViews(),this._renderIG(),this._addActions(this.actions),s.initActions&&s.initActions(this.actions),s.toolbar&&(this._initToolbar(),this._updateToolbarElements()),this._forEachView((function(e,t){t.init(n)})),this._updateActions(),this.editableView=null,s.editable&&(this._forEachView((function(e,t){t.supports.edit&&(null===n.editableView?n.editableView=e:i.warn("Extra editable view ignored: "+e))})),null===this.editableView))throw new Error("No editable view for editable Interactive Grid");if(e("#"+s.regionStaticId).hasClass("resize")?o.addClass("resize").on("resize",(function(){n.resize()})):u.onElementResize(o[0],(function(){n.ignoreResizeHandler||n.resize()})),this.resize(),l.create(s.regionStaticId,{type:"InteractiveGrid",parentRegionId:s.parentRegionStaticId,widgetName:"interactiveGrid",refresh:function(){n.refresh()},focus:function(){n.focus()},widget:function(){return n.element},gotoError:function(e){n.gotoCell(null,e.record,e.column)},getSessionState:function(e){var t,i,o,a={beforeAsync:function(){var e=n._currentViewImpl();e.supports.edit&&e.lockActive&&e.lockActive()},afterAsync:function(){var e=n._currentViewImpl();e.supports.edit&&e.unlockActive&&e.unlockActive()}},l=[],r=[],s=n._currentViewImpl().getActiveRecordId();if(e)for(t=0;t<e.length;t++)if(i=n._getColumnByStaticId(e[t])){if(s){const n=d(e[t]).getMultiValueStorage();let o={n:i.name,v:d(e[t]).getValue()};n&&(n.type&&(o.t=n.type),n.separator&&(o.s=n.separator)),r.push(o)}}else l.push(e[t]);return a.pageItems=l,r.length>0&&(o=n._currentViewImpl().model.getRecordMetadata(s),a.region=n._defaultAjaxRegionData({setSessionState:{values:r,protected:o.protected,salt:o.salt}})),a},alternateLoadingIndicator:function(e){var i,o=n._currentViewImpl();return o.internalIdentifier===wt&&!o.singleRowMode&&(i=o.view$.grid("getActiveCellFromColumnItem",e))?t.showSpinner(i,{spinnerClass:"u-Processing--cellRefresh"}):null}}),s.headingFixedTo===Zt&&s.toolbar&&e.apex.stickyWidget&&e(C,o).stickyWidget({stickToEnd:!0,bottom:function(){return o.offset().top+e(b,o).outerHeight()-n._currentViewImpl().footerHeight()},toggleWidth:!0}),this._view(this._view(),{initialData:r.data,fetchData:s.lazyLoading}),u.onVisibilityChange(o[0],(function(e){e&&(u.updateResizeSensors(o[0]),n.actions.update("search"),n.resize())})),s.parentRegionStaticId&&s.trackParentSelection){const i=e("#"+s.parentRegionStaticId+"_ig"),o=i.interactiveGrid("getViews"),a=i.interactiveGrid("option","config.views");this._forEachView((function(e,t){t.view$&&t.setNoDataMessage(s.text.noParentSelected)})),i.on("interactivegridselectionchange.ig",t.debounce((function(e,t){const i=1===t.selectedRecords.length?t.selectedRecords[0]:null;n.setMasterRecord(t.model,i)}),300)),i.on("interactivegridreportchange.ig",(function(){n._subscribeToParentModels(o,a)})),this._subscribeToParentModels(o,a)}},_subscribeToParentModels:function(e,t){const i=this,n=this.options.config;for(const[o,a]of Object.entries(e)){const l=t[o].useModelFrom;let r,s=a,d=s.internalIdentifier;if(l&&t[l].shareModel&&(s=e[l]),r=this.parentObservers[d],r&&(r.model.unSubscribe(r.viewId),c.release(r.modelName),delete this.parentObservers[d]),s.model){let e={model:s.model,modelName:s.modelName};c.get(e.modelName),e.viewId=s.model.subscribe({onChange:function(e,t){if(["delete","revert","refreshRecords","clearChanges"].includes(e)){const n=i.parentRecordId;if(["delete","revert","refreshRecords"].includes(e)&&t.recordIds.includes(n)||"clearChanges"===e&&(t.deletedIds.includes(n)||t.changedIds.includes(n))){if("refreshRecords"===e&&t?.newIds[n])return;i.setMasterRecord(s.model,i.parentRecordId?s.model.getRecord(n):null)}}},progressView:"ig:"+n.regionStaticId}),this.parentObservers[d]=e}}},_setOption:function(t,i){var n=!1,o=this.options;"config"===t&&(i.modelInstanceId!==o.config.modelInstanceId&&(n=!0),i=e.extend(!0,o.config,i)),this._super(t,i),n&&this._setModelInstance(o.config.modelInstanceId)},_destroy:function(){var e=this,t=this.options.config;u.offElementResize(this.element[0]),this.element.removeClass(m).empty(),a.removeContext("InteractiveGrid",this.element[0]),this._destroyAllModels(),this._forEachView((function(t,i){i.destroy(e)})),l.destroy(t.regionStaticId)},_isCurrentlyEditable:function(){var e=this.options.config,t=this._currentReportSettings().flashback,i=t&&t.isEnabled;return e.editable&&!i},_setModelInstance:function(e,t,i){const n=this.options.config,o=e!==n.modelInstanceId;if(this.parentRecordId=null,n.modelInstanceId=e,n.parentRegionStaticId&&(this.parentRecordId=n.modelInstanceId,this.parentItemValues=[],t&&i))for(let e=0;e<this.parentColumnNames.length;e++)this.parentItemValues.push({n:this.parentColumnNames[e],v:t.getValue(i,this.parentColumnNames[e])});if(o){let t=!0,i=n.text,o=i.noDataFound;null===e&&(o=i.noParentSelected,t=!1),this._forEachView(((e,i)=>{i.view$&&(i.setNoDataMessage(o),this._setModel({viewImpl:i,updateComponent:!0,fetchData:t}))}))}},_setInitialSelection:function(e){var t,i,n,o=this.options.config;t=this._currentViewImpl(),o.initialSelection&&t.selectionEnabled()&&(o.pagination.type!==Kt||0===e)&&((n=t.getSelectedRecords())&&0!==n.length||(i=t.model.recordAt(e))&&t.setSelectedRecords([i]))},_selectionChange:function(e){var t=this._currentViewImpl(),i=t.getSelectedRecords()||[];this._updateSelectionActions(),this._trigger("selectionChange",e,{selectedRecords:i,model:t.model})},_pageChange:function(e){var t=this;setTimeout((function(){t._setInitialSelection(e.offset)}),1)},_registerIGViews:function(){var e,t,n,o=this.options.config,a=0;for(e=0;e<po.length;e++)t=po[e],(n=o.views[t.internalIdentifier])&&!n.disabled&&(this._registerView(t),a+=1);0===a&&i.error("No views registered.")},_isViewRegistered:function(e){return!!this.viewsImpl[e]},_registerView:function(t){const i=this,n=e.extend(!0,{supports:{edit:!1,selection:!0,cellSelection:!1,highlight:!1,controlBreak:!1,aggregation:!1,singleRowView:!1,configurableColumns:!1,filter:!0,sort:!0,changeRowsPerPage:!0,download:!1,totalRows:!0},isConfigured:function(){return!!i._currentReportSettings().views[this.internalIdentifier]},initDialog:null,openDialog:function(){!this.dialog$&&this.initDialog&&this.initDialog(i),this.dialog$.dialog("open")},clearModelData:function(){this.model.getOption("parentModel")&&!this.model.getOption("parentRecordId")||(i.modelReportSettingsSeq[this.model.modelId()]=i.reportSettingsSeq,this.model.clearData())},setColumnConfig:function(){},init:function(){},updateActions:function(){},initView:function(){},viewChanged:function(){},setReportOptions:function(){},destroyView:function(){},destroy:function(){},selectionEnabled:function(){return this.supports.selection},getSelectedRecords:function(){return[]},setSelectedRecords:function(){},getActiveRecordId:function(){return null},getContextRecord:function(){return[]},gotoCell:null,selectCells:null,getColumns:null,canCopy2Clipboard:function(){return!1},setModelName:function(){},setEditMode:function(){},finishEditing:null,setNoDataMessage:function(){},focus:function(){},refreshColumns:function(){},footerHeight:function(){return 0},refresh:function(){},resize:function(){},show:function(){this.view$.show()},hide:function(){this.view$.hide()}},t);n.model=null,n.modelName=null,n.modelColumns=null,n.view$=null,n.elementId=n.internalIdentifier+"_vc",this.viewsImpl[n.internalIdentifier]=n},_forEachView:function(e){var t;for(t in this.viewsImpl)vn(this.viewsImpl,t)&&e(t,this.viewsImpl[t])},_getPaginationConfig:function(t,i){var n={},o=t.pagination;return i&&t[i].pagination&&(n=e.extend({},t[i].pagination)),n.scroll=o.type===$t||o.type===Kt,n.scroll&&(n.virtual=Rn(n.virtual,o.showTotalRowCount)),n.showPageLinks=Rn(n.showPageLinks,o.type===Yt&&o.showTotalRowCount),n.firstAndLastButtons=Rn(n.firstAndLastButtons,o.type===Yt&&o.showTotalRowCount),n},_renderDialogContent:function(i){var n,o,a=this,l=t.htmlBuilder();n=function(e,t){a._renderColumnItem(l,e,t)},l.markup("<div").attr(ai,"a-GV-columnItemContainer u-vh").attr(Xe,!0).markup(">"),i(n,l),l.markup("</div>"),o=e(l.toString()),this.element.append(o),apex.item.attach(o)},_createDialog:function(t,i,n){var o,a,l,r,s,d,c,u=e.extend(!0,{width:640,height:380,classPrefix:A,labelAlignment:dt,formCssClasses:_e+" "+Ce,useSplitter:!0,splitterPosition:280,persistSplitter:t,noDataMessage:An("NO_DATA_FOUND"),modelOptions:{shape:"record",editable:!0,onlyMarkForDelete:!1,identityField:"id"}},n);r=(t+="Dialog")+"$",s=this._getId(t.replace(/[A-Z]/g,(function(e){return"_"+e.toLowerCase()}))),(l=u.dialogHelp)||(u.dialogHelp=l={}),l.helpTextKey="APEX.IG.HELP."+(l.helpTextKey||u.titleKey),l.titleKey=l.titleKey?"APEX.IG.HELP."+l.titleKey:l.helpTextKey+"_TITLE",u.titleKey="APEX.IG."+u.titleKey,u.modelName=u.modelName?this._getId(u.modelName):s,o=u.modelOptions.fields;for(let e in o)vn(o,e)&&((a=o[e]).label&&(a.label=An(a.label),a.heading||"table"!==u.modelOptions.shape||(a.heading=a.label)),a.elementId&&(a.elementId=this._getId(a.elementId)));return n.checkboxColumn&&(c=u.init,u.init=function(t,i,n){var o="isEnabled";i.on("click",Ge,(function(){var n=e(this),a=i.grid("getRecords",[n.parent()])[0],l=!t.getValue(a,o);t.setValue(a,"enabledClass",l?Fe:""),t.setValue(a,"enabledText",An(l?"ENABLED":"DISABLED")),t.setValue(a,o,l)})).on("keydown",Ge,(function(t){t.which===e.ui.keyCode.SPACE&&e(this).trigger("click")})),$n(n,o),c.call(this,t,i,n)},o.enabledClass={volatile:!0,canHide:!1,hidden:!0,seq:0,defaultValue:Fe},o.enabledText={volatile:!0,canHide:!1,hidden:!0,seq:0,defaultValue:An("ENABLED")}),this._renderDialogContent(i),d=e.apex.recordView.createModelEditDialog(s,u),n.viewDialog||(this[r]=d),d},_renderColumnItem:function(t,i,n){switch(t.markup("<div").attr(ai,"a-GV-columnItem").markup(">"),n.id&&(n.id=this._getId(n.id)),i){case ot:oo(t,n);break;case tt:!function(t,i){var n,o,a=e.extend({id:"",cssClasses:"apex-item-select",size:"1",title:"",required:!1,options:[]},i);for(t.markup("<select").optionalAttr("id",a.id).attr(ai,a.cssClasses).attr("size",a.size).optionalAttr("title",a.title).optionalBoolAttr(It,a.required).markup(">"),n=0;n<a.options.length;n++)o=a.options[n],t.markup("<option").attr("value",o.value).optionalBoolAttr("selected",o.isSelected).markup(">").content(o.label||o.value).markup("</option>");t.markup("</select>")}(t,n);break;case et:to(t,n);break;case nt:!function(t,i){var n=e.extend({id:"",cssClasses:"apex-item-textarea",cols:"30",rows:"4",name:"",placeholder:"",disabled:!1,readonly:!1,required:!1,toolbar:!1,style:"resize: both;",wrap:"virtual"},i);n.toolbar&&(t.markup("<fieldset ").attr("id",i.id+"_fieldset").markup(">"),t.markup("<div").attr("id",n.id+"_toolbar").markup("></div>")),t.markup("<textarea").attr("id",n.id).attr(ai,n.cssClasses).attr("cols",n.cols).attr("rows",n.rows).optionalAttr("name",n.name).optionalAttr("placeholder",n.placeholder).optionalAttr("style",n.style).optionalAttr("wrap",n.wrap).optionalBoolAttr(bt,n.disabled).optionalBoolAttr("readonly",n.readonly).optionalBoolAttr(It,n.required).markup(">").markup("</textarea>"),n.toolbar&&t.markup("</fieldset>")}(t,n);break;case"radios":!function(t,i){var n,o,a,l=e.extend({id:"",label:"",name:"",radios:[]},i);for(t.markup("<div role='group'").attr("id",l.id).attr(Ke,"id1").markup(">"),n=0;n<l.radios.length;n++)o=l.radios[n],a=l.id+"_"+n,ro(t,{name:l.name,id:a,value:o.value,checked:o.checked,cssClasses:R}),lo(t,{labelFor:a,cssClasses:S,label:o.label});t.markup("</div>")}(t,n);break;case it:!function(e,t){e.markup("<a-color-picker").attr(ai,"apex-item-color-picker").attr("display-as","POPUP").attr("display-mode","FULL").attr("preset-colors",t.colors).attr("contrast-item",t.contrastItem||null).attr("max-preset-colors",""+t.colors.split(";").length),Jn(e,t),e.markup(">"),e.markup("</a-color-picker>")}(t,n);break;case at:!function(t,i){let n=e.extend({id:"",iconOnly:!1,cssClasses:"",options:[]},i);t.markup("<fieldset ").attr(ai,T).attr("id",n.id+"_fieldset").markup(">"),t.markup("<ul ").attr(ai,T+" "+n.cssClasses).attr("id",n.id+"_list").attr(Ke,n.id+"_LABEL").markup(">");for(let e=0;e<n.options.length;e++){const i=n.options[e];t.markup("<li").attr("data-value",i.value).attr(ai,L+(i.isSelected?" is-selected":"")).markup(">").markup("<span ").attr(ai,N).attr($e,i.label||i.value).attr("title",i.label||i.value).markup(">").markup("<span ").attr(ai,y+" "+Oe+" "+i.iconCssClasses).attr(Xe,!0).markup("></span>"),!1===n.iconOnly&&t.markup("<span ").attr(ai,O).markup(">").content(i.label||i.value).markup("</span>"),t.markup("</span>").markup("</li>")}t.markup("</ul>"),t.markup("<input ").attr("type","hidden").attr(Xe,!0).attr("id",n.id).markup(">"),t.markup("</fieldset>")}(t,n)}t.markup("</div>")},_renderReportSettingsDialog:function(){var t,i=[],n=[],o=this.options.config,a=o.features.saveReport.isDeveloper,l=this;a&&(i.push({value:Lt,label:An("PRIMARY")}),i.push({value:Nt,label:An("ALTERNATIVE")})),i.push({value:yt,label:An("SAVED_REPORT_PRIVATE")}),o.features.saveReport.publicReportCs&&i.push({value:Ot,label:An("SAVED_REPORT_PUBLIC")}),Zn(o.features.saveReport.authorizations,n,"r","d","",An(mn)),this._createDialog("reportSettings",(function(e){e(tt,{id:"SRD_TYPE",options:i}),e(et,{id:"SRD_NAME"}),e(tt,{id:"SRD_AUTHORIZATION",options:n})}),{height:350,titleKey:"REPORT",defaultButton:!0,modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},type:{label:"TYPE",elementId:"SRD_TYPE",seq:10,defaultValue:"named"},name:{label:"NAME",elementId:"SRD_NAME",seq:20},authorizationId:{label:"AUTHORIZATION",elementId:"SRD_AUTHORIZATION",seq:30}}},load:function(i){var n,o=e(this),r=o.dialog(Et,"saveAs"),s=e.extend({id:"",type:"",name:"",authorizationId:""},l._currentReportSettings());return n=r?"REPORT_SAVE_AS":"REPORT_EDIT",o.dialog(Et,"title",An(n)),t=s.type,r&&(s.name="",(a||[Lt,Nt].includes(s.type))&&(s.type=yt)),i.setData(s),l._report()},init:function(i,n,o){var a=l._getElement("SRD_TYPE"),r=l._getElement("SRD_NAME"),s=l._getElement("SRD_AUTHORIZATION"),d=e(this);function c(){var e,i;switch(i=d.dialog(Et,"saveAs")&&t===Lt,a.find("option[value="+Lt+"]").prop(bt,i),e=a.val(),a.prop(bt,!1),uo(r,!0),co(s),e){case Lt:t===Lt&&a.prop(bt,!0),uo(r,!1);break;case Nt:so(s)}}a.on(Gn,c),o.on("apexbeginrecordedit",c)},store:function(t){var i=e(this).dialog(Et,"saveAs"),n=t.getRecord();i?(n.baseReportId=n.id,l.addReport(n)):l.updateReport(n.id,n),l._updateReportSettingsActions()}})},_renderDownloadDialog:function(){var t,i=this,n=An("MAILADDRESSES_COMMASEP"),o=this.options.config.features.download,a=[],l=[],r=[],s=o&&o.print&&o.print.orientation||"VERTICAL",d=o&&o.print&&o.print.paperSize||"LETTER",c=o&&o.print&&o.print.accessible||!1,u=ei,h=ei;o&&o.formats.length>0&&(t=o.formats[0]),o&&-1!==o.formats.indexOf("CSV")&&a.push({value:"CSV",label:An("FORMAT_CSV"),iconCssClasses:"icon-ig-dl-xls"}),o&&-1!==o.formats.indexOf("HTML")&&a.push({value:"HTML",label:An("FORMAT_HTML"),iconCssClasses:"icon-ig-dl-html"}),o&&-1!==o.formats.indexOf("PDF")&&(a.push({value:"PDF",label:An("FORMAT_PDF"),iconCssClasses:"icon-ig-dl-pdf"}),l=[{value:"LETTER",label:An("PRINT_PAGE_SIZE.LOV.LETTER.D")},{value:"LEGAL",label:An("PRINT_PAGE_SIZE.LOV.LEGAL.D")},{value:"TABLOID",label:An("PRINT_PAGE_SIZE.LOV.TABLOID.D")},{value:"A4",label:An("PRINT_PAGE_SIZE.LOV.A4.D")},{value:"A3",label:An("PRINT_PAGE_SIZE.LOV.A3.D")}],o&&o.print&&"CUSTOM"===o.print.paperSize&&l.unshift({value:"CUSTOM",label:An("PRINT_PAGE_SIZE.LOV.CUSTOM.D")}),r=[{value:"VERTICAL",label:An("PRINT_ORIENTATION.LOV.VERTICAL.D")},{value:"HORIZONTAL",label:An("PRINT_ORIENTATION.LOV.HORIZONTAL.D")}]),o&&-1!==o.formats.indexOf("XLSX")&&a.push({value:"XLSX",label:An("FORMAT_XLSX"),iconCssClasses:"icon-ig-dl-xls"}),this._createDialog(Ut,(function(e){e(at,{id:"DL_DOWNLOAD_FORMAT",options:a}),e(tt,{id:"DL_PRINT_PAGE_SIZE",options:l}),e(tt,{id:"DL_PRINT_ORIENTATION",options:r}),e(ot,{id:"DL_PRINT_ACCESSIBLE",value:Jt,checked:c}),e(ot,{id:"DL_PRINT_STRIP_RICH_TEXT",value:Jt}),e(ot,{id:"DL_DATA_ONLY",value:Jt}),e(ot,{id:"DL_SEND_AS_EMAIL",value:ei}),e(et,{id:"DL_EMAIL_TO",placeholder:n}),e(et,{id:"DL_EMAIL_CC",placeholder:n}),e(et,{id:"DL_EMAIL_BCC",placeholder:n}),e(et,{id:"DL_EMAIL_SUBJECT"}),e(nt,{id:"DL_EMAIL_BODY"})}),{height:500,titleKey:"DOWNLOAD",modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},format:{label:"DOWNLOAD_FORMAT",elementId:"DL_DOWNLOAD_FORMAT",seq:10},dataOnly:{label:"DOWNLOAD_DATA_ONLY",elementId:"DL_DATA_ONLY",seq:200},sendOrDownload:{label:"SEND_AS_EMAIL",elementId:"DL_SEND_AS_EMAIL",seq:200},emailTo:{label:"EMAIL_TO",elementId:"DL_EMAIL_TO",seq:210},emailCc:{label:"EMAIL_CC",elementId:"DL_EMAIL_CC",seq:220},emailBcc:{label:"EMAIL_BCC",elementId:"DL_EMAIL_BCC",seq:230},emailSubject:{label:"EMAIL_SUBJECT",elementId:"DL_EMAIL_SUBJECT",seq:240},emailBody:{label:"EMAIL_BODY",elementId:"DL_EMAIL_BODY",seq:250},sendEmail:{canHide:!1,hidden:!0,seq:0},printPageSize:{label:"PRINT_PAGE_SIZE.PROMPT",elementId:"DL_PRINT_PAGE_SIZE",seq:100,fieldColSpan:6},printOrientation:{label:"PRINT_ORIENTATION.PROMPT",elementId:"DL_PRINT_ORIENTATION",seq:110,fieldColSpan:6},printAccessible:{label:"PRINT_ACCESSIBLE.PROMPT",elementId:"DL_PRINT_ACCESSIBLE",seq:120},printStripRichText:{label:"PRINT_STRIP_RICH_TEXT.PROMPT",elementId:"DL_PRINT_STRIP_RICH_TEXT",seq:130}}},load:function(e){e.setData({id:0,format:t,dataOnly:h,sendEmail:ei,printOrientation:s,printPageSize:d,printAccessible:c?Jt:ei,printStripRichText:u})},init:function(t,n,o){var a,l,r=i._getElement("DL_DOWNLOAD_FORMAT"),s=i._getElement("DL_SEND_AS_EMAIL"),d=i._getElement("DL_EMAIL_TO"),c=i._getElement("DL_EMAIL_CC"),u=i._getElement("DL_EMAIL_BCC"),h=i._getElement("DL_EMAIL_SUBJECT"),g=i._getElement("DL_EMAIL_BODY"),p=i._getElement("DL_PRINT_PAGE_SIZE"),m=i._getElement("DL_PRINT_ORIENTATION"),f=i._getElement("DL_PRINT_ACCESSIBLE"),_=i._getElement("DL_PRINT_STRIP_RICH_TEXT"),C=i._getElement("DL_DATA_ONLY"),I=e(this),b=I.dialog(Et,"buttons");function v(){!0===s.prop(vt)?(so([d,c,u,h,g]),uo([d,h],!0),b[a].text=An("SEND_AS_EMAIL"),I.dialog(Et,"buttons",b),null!==o.recordView("getRecord")&&t.setValue(o.recordView("getRecord"),"sendEmail",Jt)):(co([d,c,u,h,g]),uo([d,h],!1),b[a].text=An("DOWNLOAD"),I.dialog(Et,"buttons",b),null!==o.recordView("getRecord")&&t.setValue(o.recordView("getRecord"),"sendEmail",ei))}for(l=0;l<b.length;l++)if(b[l].text===wn("APEX.DIALOG.SAVE")){a=l;break}o.on("apexbeginrecordedit",(function(){var n=r.val();const a=i._getCurrentView().columns.some((e=>e.isVisible&&!i._getColumn(e.columnId).escape)),l=function(){const e=i._getCurrentView();let t,n,o,a;function l(e){return e.some((e=>e.isEnabled&&!e.isInvalid))}return n=l(e.aggregations),o=l(e.highlights),t=e.columns.some((e=>e.break&&e.break.isEnabled)),r=e.columns,a=r.some((e=>i._getColumn(e.columnId).layout.groupId)),t||n||o||a;var r}(),d=[{fields:[p,m,f],active:e=>"PDF"===e},{fields:[_],active:e=>["CSV","XLSX"].includes(e)&&a},{fields:[C],active:e=>"CSV"!==e&&l}];io(i._getId("DL_DOWNLOAD_FORMAT"),n),v(),!0===i.options.config.features.download.email?s.on(Gn,v):co(s),r.on(Gn,(function(){const i=e(this).val();t.setValue(o.recordView("getRecord"),"format",i),d.forEach((e=>{e.active(i)?so(e.fields):co(e.fields)}))}))}))},store:function(e){var n,o=e.getRecord();t=o.format,c=o.printAccessible,s=o.printOrientation,d=o.printPageSize,u=o.printStripRichText,h=o.dataOnly,n={format:o.format,dataOnly:o.dataOnly===Jt},"Y"===o.sendEmail&&(n.email={to:o.emailTo,subject:o.emailSubject},o.emailCc&&""!==o.emailCc&&(n.email.cc=o.emailCc),o.emailBcc&&""!==o.emailBcc&&(n.email.bcc=o.emailBcc),o.emailBody&&""!==o.emailBody&&(n.email.body=o.emailBody)),"PDF"===o.format&&(n.print={pageSize:o.printPageSize,orientation:o.printOrientation,accessible:o.printAccessible===Jt,stripRichText:o.printStripRichText===Jt}),["CSV","XLSX"].includes(o.format)&&(n.print={stripRichText:o.printStripRichText===Jt}),i._downloadReport(n)}})},_columnFilterModelFields:function(e){var t=e+"_";return{type:{label:t+"TYPE",elementId:t+"TYPE",seq:100,canHide:!0,hidden:!0,defaultValue:rt},search:{label:"SEARCH",elementId:t+"SEARCH",seq:119,canHide:!0,hidden:!0},columnId:{label:"COLUMN",elementId:t+"COLUMN",seq:120,fieldColSpan:6,canHide:!0,hidden:!0},operator:{label:"OPERATOR",elementId:t+"OPERATOR",seq:130,fieldColSpan:6,canHide:!0,hidden:!0,defaultValue:_i},value:{label:"VALUE",elementId:t+"VALUE",seq:140,canHide:!0,hidden:!0},dateRangeValue:{label:"VALUE",elementId:t+"DATE_RANGE_VALUE",seq:141,fieldColSpan:6,canHide:!0,hidden:!0},dateRangeUnit:{label:"UNIT",elementId:t+"DATE_RANGE_UNIT",seq:142,fieldColSpan:6,canHide:!0,hidden:!0},isCaseSensitive:{label:"CASE_SENSITIVE",elementId:t+"CASE_SENSITIVE",seq:150,canHide:!0,hidden:!0,defaultValue:"N"},between:{label:"VALUE",elementId:t+"BETWEEN",seq:160,fieldColSpan:6,canHide:!0,hidden:!0},and:{label:"AND",elementId:t+"AND",seq:170,fieldColSpan:6,canHide:!0,hidden:!0},expression:{label:"EXPRESSION",elementId:t+"EXPRESSION",seq:180,canHide:!0,hidden:!0},hiddenValue:{seq:999,canHide:!0,hidden:!0},hiddenBetween:{seq:999,canHide:!0,hidden:!0},hiddenAnd:{seq:999,canHide:!0,hidden:!0}}},_renderSortControls:function(e,t){e(tt,{id:t+"DIRECTION",required:!0,options:[{value:Bt,label:An("ASCENDING")},{value:"desc",label:An("DESCENDING")}]}),e(tt,{id:t+"NULLS",required:!0,options:[{value:qt,label:An("FIRST")},{value:Xt,label:An("LAST")}]})},_columnFilterDialogControls:function(e,t){var i,n,o=[],a=this.options.config.columns,l=t+"_";for(i=0;i<a.length;i++)n=a[i],("FD"===t&&this._isColumnFilterable(n.id)||"HD"===t&&!this._getColumn(n.id).specialType&&!this._getColumn(n.id).isHidden)&&o.push({value:n.id,label:this._getColumnLabel(n.id)});e(tt,{id:l+"TYPE",options:[{value:lt,label:An("ROW")},{value:rt,label:An("COLUMN")}]}),e(tt,{id:l+"COLUMN",options:o}),e(tt,{id:l+"OPERATOR",options:[]}),e(et,{maxChars:4e3,id:l+"VALUE"}),e(et,{maxChars:4e3,id:l+"SEARCH"}),e(et,{maxChars:20,id:l+"DATE_RANGE_VALUE"}),e(tt,{id:l+"DATE_RANGE_UNIT",options:[{value:"MI",label:An("MINUTES")},{value:"H",label:An("HOURS")},{value:"D",label:An("DAYS")},{value:"W",label:An("WEEKS")},{value:"M",label:An("MONTHS")},{value:"Y",label:An("YEARS")}]}),e(ot,{id:l+"CASE_SENSITIVE",value:Jt}),e(et,{maxChars:100,id:l+"BETWEEN"}),e(et,{maxChars:100,id:l+"AND"}),e(et,{maxChars:40,id:l+"NAME"}),e(nt,{id:l+"EXPRESSION",toolbar:!0})},_columnFilterInitActions:function(t,i,n,a,l){const r=this,s=a+"_",c="FD"===a,u=r._getElement(s+"TYPE"),g=r._getElement(s+"COLUMN"),m=r._getElement(s+"OPERATOR"),f=r._getElement(s+"VALUE"),_=r._getElement(s+"BETWEEN"),C=r._getElement(s+"AND"),I=r._getElement(s+"NAME"),b=r._getElement(s+"EXPRESSION"),v=r._getElement(s+"CASE_SENSITIVE"),E=r._getElement(s+"DATE_RANGE_VALUE"),w=r._getElement(s+"DATE_RANGE_UNIT"),A=r._getElement(s+"SEARCH");let R,S,T,L,N=[];function y(){var e;c&&null!==n.recordView("getRecord")&&(e=r._shortenString(r._getSettingLabel(kt,n.recordView("getRecord")),37),I.val(e).trigger("change"))}function O(e){e.hasClass(we)&&e.combobox(ut),e.removeClass(Re),e.hasClass(Ae)&&(e.parent().find("a-date-picker").remove(),e.show(),e.removeClass(Ae)),e.removeAttr("placeholder"),e.removeAttr("format")}function V(e,i){const o=n.recordView("getRecord");null!==o&&t.setValue(o,e,i)}function k(e){const i=n.recordView("getRecord");if(null!==i)return t.getValue(i,e)}function D(e){var t=u.val(),i=m.val();switch(co([g,m,f,_,C,b,v,E,w,A]),c&&co(I),V("type",t),t){case lt:so(A),r.options.config.filter.oracleText?(v.prop(bt,!0),co(v)):(v.prop(bt,!1),so(v)),O(f),y(),S=t;break;case rt:so([g,m]),[yi,Oi].includes(i)?so([_,C]):[Vi,Di,ki,Mi].includes(i)?so([E,w]):so(f),M(e)}}function M(i){const l=g.val(),c=u.val();let I,b,E,w,A={};if((!k("columnId")||l!==R||c!==S||m.val()!==k("operator"))&&(R=l,S=c,c===rt&&l)){if(T=r._getColumn(l),T.filter.textCase)switch(T.filter.textCase.toLowerCase()){case"upper":f.css({"text-transform":"uppercase"}),_.css({"text-transform":"uppercase"}),C.css({"text-transform":"uppercase"});break;case"lower":f.css({"text-transform":"lowercase"}),_.css({"text-transform":"lowercase"}),C.css({"text-transform":"lowercase"});break;default:f.css({"text-transform":"none"}),_.css({"text-transform":"none"}),C.css({"text-transform":"none"})}if("HD"===a)switch(T.dataType){case Pi:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),A[Ti]=An(In[Ti]),A[Li]=An(In[Li]),A[Ri]=An(In[Ri]),A[Si]=An(In[Si]),A[Hi]=An(In[Hi]),A[Fi]=An(In[Fi]),A[xi]=An(In[xi]);break;case Gi:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[vi]=An(In[vi]),A[Ei]=An(In[Ei]),A[Ii]=An(In[Ii]),A[bi]=An(In[bi]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),A[Ti]=An(In[Ti]),A[Li]=An(In[Li]),A[yi]=An(In[yi]),A[Oi]=An(In[Oi]);break;case Ui:case qi:case Xi:case $i:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[vi]=An(In[vi]),A[Ei]=An(In[Ei]),A[Ii]=An(In[Ii]),A[bi]=An(In[bi]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),[pi,mi].includes(T.filter.dateRanges)&&(A[Vi]=An(In[Vi]),A[ki]=An(In[ki])),[pi,fi].includes(T.filter.dateRanges)&&(A[Di]=An(In[Di]),A[Mi]=An(In[Mi])),A[yi]=An(In[yi]),A[Oi]=An(In[Oi]);break;case Bi:A[wi]=An(In[wi]),A[Ai]=An(In[Ai])}else for(v.prop(bt,!0),b=0;b<T.filter.operators.length;b++)if(E=T.filter.operators[b],"$std$"===E.name)switch(T.filter.dataType){case Pi:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),A[Ti]=An(In[Ti]),A[Li]=An(In[Li]);break;case Gi:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[vi]=An(In[vi]),A[Ei]=An(In[Ei]),A[Ii]=An(In[Ii]),A[bi]=An(In[bi]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),A[Ti]=An(In[Ti]),A[Li]=An(In[Li]),A[yi]=An(In[yi]),A[Oi]=An(In[Oi]);break;case Ui:case qi:case Xi:case $i:A[_i]=An(In[_i]),A[Ci]=An(In[Ci]),A[vi]=An(In[vi]),A[Ei]=An(In[Ei]),A[Ii]=An(In[Ii]),A[bi]=An(In[bi]),A[wi]=An(In[wi]),A[Ai]=An(In[Ai]),[pi,mi].includes(T.filter.dateRanges)&&(A[Vi]=An(In[Vi]),A[ki]=An(In[ki])),[pi,fi].includes(T.filter.dateRanges)&&(A[Di]=An(In[Di]),A[Mi]=An(In[Mi])),A[yi]=An(In[yi]),A[Oi]=An(In[Oi]);break;case Bi:A[wi]=An(In[wi]),A[Ai]=An(In[Ai])}else"$perform$"===E.name?[Pi,Bi].includes(T.filter.dataType)&&(A[Ri]=An(In[Ri]),A[Si]=An(In[Si]),A[Hi]=An(In[Hi]),A[Fi]=An(In[Fi]),A[xi]=An(In[xi]),T.filter.textCase&&"MIXED"===T.filter.textCase.toUpperCase()&&v.prop(bt,!1)):"CASE_INSENSITIVE"===E.name?T.filter.textCase&&"MIXED"===T.filter.textCase.toUpperCase()&&v.prop(bt,!1):A[E.name]=An(In[E.name]);w=t.getValue(n.recordView("getRecord"),"operator"),m.empty();for(const[t,i]of Object.entries(A))m.append(e(Ze).attr("value",t).text(i));w&&null!==w&&w in A&&m.val(w),null===m.val()&&m.val(_i),V("operator",m.val()),function(){var i,a,l,c;function u(e,t){const i=T.appearance.formatMask;e.attr("placeholder",o.formatMessageNoEscape(fn,(""+T.appearance.formatExample).trim())),e.addClass(Re),"NaN"===h.formatNumber(t,i)?e.val(t):e.val(h.formatNumber(t,i))}function g(t,i){const n=T.appearance.dateFormatMask,a=n&&-1!==n.toLowerCase().indexOf("hh");let l=i;if(l)try{l=p.format(p.parse(l,Cn),n)}catch(e){}e("<a-date-picker>").attr("show-time",a).attr("autocomplete","off").attr("format",n).attr("id",t.substring(1)+"_dp").attr("value",l).attr("today-button","true").attr("change-month","true").attr("change-year","true").attr("aria-labelledby",t.substring(1)+"_LABEL").attr("placeholder",o.formatMessageNoEscape(fn,T.appearance.formatExample)).change((function(){let i=d(this).getValue();if(i)try{i=p.format(p.parse(i,n),Cn)}catch(e){}e(t).val(i),e(t).trigger("change")})).appendTo(e(t).parent()),e(t).hide(),e(t).val(i),e(t).addClass(Ae)}c=n.recordView("getRecord"),i=t.getValue(c,"hiddenValue"),a=t.getValue(c,"hiddenBetween"),l=t.getValue(c,"hiddenAnd"),O(f),O(_),O(C),e("#"+r._getId(s+"VALUE")+"_LABEL ").text(An("VALUE")),Ki.includes(T.filter.dataType)?(T.filter.dataType===Xi&&e("#"+r._getId(s+"VALUE")+"_LABEL ").text(An("VALUE_TIMESTAMP_TZ")),g("#"+r._getId(s+"VALUE"),i),g("#"+r._getId(s+"BETWEEN"),a),g("#"+r._getId(s+"AND"),l)):T.filter.dataType===Gi?(u(f,i),u(_,a),u(C,l)):(f.combobox({label:An("VALUE")}),_.combobox({label:An("VALUE")}),C.combobox({label:An("AND")}),f.val(i),_.val(a),C.val(l))}(),r._hasColumnFilterLov(l)&&r._getColumn(l).filter?.dataType!==Ui?r._getFilterValues(l,!1,(function(e){if(N=[],e.regions[0].filterValues)for(I=e.regions[0].filterValues,b=0;b<I.length;b++)N.push({label:I[b],value:I[b]});_.hasClass(we)&&_.combobox(Et,"source",N),C.hasClass(we)&&C.combobox(Et,"source",N),f.hasClass(we)&&f.combobox(Et,"source",N)})):(f.hasClass(we)&&f.combobox(ut),_.hasClass(we)&&_.combobox(ut),C.hasClass(we)&&C.combobox(ut)),V("columnId",l),i?(f.val("").trigger("change"),_.val("").trigger("change"),C.val("").trigger("change")):(f.hasClass(Re)&&f.val(f.val()).trigger("change"),f.hasClass(Re)&&_.val(_.val()).trigger("change"),f.hasClass(Re)&&C.val(C.val()).trigger("change")),x()}}function x(){var e=m.val();u.val()===rt&&(co([f,_,C,E,w,v]),null!==e&&(Ki.includes(T.filter.dataType)||f.hasClass(we)&&([Ti,Li].includes(e)?(f.combobox(Et,"multipleValues",!0),f.combobox(Et,"multipleValueDelimiter","; "),f.prop("placeholder",o.formatMessage("APEX.IG.PLACEHOLDER_INVALUES",Ni))):(f.combobox(Et,"multipleValues",!1),f.prop("placeholder",""))),[Ri,Si,xi,Hi,Fi].includes(e)&&!1===v.prop(bt)&&so(v),[yi,Oi].includes(L)&&![yi,Oi].includes(e)&&f.trigger(Gn),![yi,Oi].includes(L)&&[yi,Oi].includes(e)&&(_.trigger(Gn),C.trigger(Gn)),[Vi,Di,ki,Mi].includes(L)&&![Vi,Di,ki,Mi].includes(e)&&f.trigger(Gn),[yi,Oi].includes(e)?so([_,C]):[Vi,Di,ki,Mi].includes(e)?(so([E,w]),F()):[wi,Ai].includes(e)||so(f))),L=e,y()}function H(e){var i,o,a,l,d=r._getElement(s+e);"VALUE"===e&&(i="hiddenValue"),"SEARCH"===e&&(i="hiddenValue"),"BETWEEN"===e&&(i="hiddenBetween"),"AND"===e&&(i="hiddenAnd"),t.setValidity("valid",n.recordView("getRecord").id,e.toLowerCase()),d.hasClass(Ae)?""===d.val()?(l="",a=""):(o=d.parent().find("a-date-picker")[0].getNativeValue())&&!isNaN(o.getTime())?(l=d.val(),a=Wn(o)):(""!==d.val()&&t.setValidity(oi,n.recordView("getRecord").id,e.toLowerCase(),An("DATE_INVALID_VALUE")),l=d.val(),a=d.val()):"uppercase"===d.css("text-transform")?(a=d.val().toUpperCase(),l=d.val().toUpperCase()):"lowercase"===d.css("text-transform")?(a=d.val().toLowerCase(),l=d.val().toLowerCase()):(a=d.val(),l=d.val()),V(i,a),V(e.toLowerCase(),l),y()}function F(){f.val(E.val()+Qt+w.val()),V("value",f.val()),V("dateRangeValue",E.val()),V("dateRangeUnit",w.val()),y()}E.on(Gn,F),w.on(Gn,F),v.on(Gn,(function(){var e=v.prop(vt);V("isCaseSensitive",e),v.prop(vt,e)})),u.on(Gn,(function(){D(!0)})),g.on(Gn,(function(){M(!0)})),m.on(Gn,x),f.on(Gn,(function(){H("VALUE")})),A.on(Gn,(function(){H("SEARCH")})),_.on(Gn,(function(){H("BETWEEN")})),C.on(Gn,(function(){H("AND")})),n.on("apexbeginrecordedit",(function(){D(),"function"==typeof l&&l()}))},_renderFilterDialog:function(){var t=this;this._createDialog(kt,(function(e){t._columnFilterDialogControls(e,"FD")}),{titleKey:"FILTERS",dialogHelp:{helpTextKey:"FILTER"},checkboxColumn:!0,modelOptions:{shape:"table",fields:e.extend({id:{canHide:!1,hidden:!0,seq:0},isEnabled:Xn(),name:{headingAlignment:dt,label:"NAME",elementId:"FD_NAME",width:100,seq:105,escape:!1}},this._columnFilterModelFields("FD"))},load:function(i){var n,o,a,l,r,s=[],d=t.getFilters(),c=e(this).dialog(Et,"id");if(d.length>0){for(n=0;n<d.length;n++){switch(o=(a=e.extend({id:"",type:"",columnId:"",operator:"",value:"",hiddenValue:"",dateRangeValue:"",dateRangeUnit:"",isCaseSensitive:!1,between:"",and:"",hiddenBetween:"",hiddenAnd:"",isEnabled:"",enabledClass:"",enabledText:"",name:"",expression:"",search:""},d[n])).isEnabled,a.enabledClass=o?Fe:"",a.enabledText=An(o?"ENABLED":"DISABLED"),a.name=t._getSettingLabel(kt,a),a.type){case lt:a.search=a.value,a.hiddenValue=a.value;break;case rt:a.hiddenValue=a.value,[yi,Oi].includes(a.operator)?(l=a.value.split(Qt),a.hiddenBetween=l[0],a.hiddenAnd=l[1],a.hiddenValue="",a.value=""):[Vi,Di,ki,Mi].includes(a.operator)&&(r=a.value.split(Qt),a.dateRangeValue=r[0],a.dateRangeUnit=r[1],a.hiddenValue="",a.value=""),[Ti,Li].includes(a.operator)&&(a.value=a.value.split("").join("; "),a.hiddenValue=a.value)}a.isCaseSensitive=a.isCaseSensitive?Jt:ei,s.push(a)}i.setData(s)}else c=i.insertNewRecord();return c},init:function(e,i,n){$n(n,"hiddenValue"),$n(n,"hiddenBetween"),$n(n,"hiddenAnd"),t._columnFilterInitActions(e,i,n,"FD")},validate:function(e,i,n){var o,a,l,r,s=!0;return e.forEach((function(e,d,c){switch(i(c,"between"),i(c,"and"),i(c,"value"),i(c,"expression"),e.type){case rt:switch(o=t._getColumn(e.columnId),a=o.filter.dataType,l=o.appearance.formatMask,e.operator){case yi:case Oi:e.hiddenBetween&&""!==e.hiddenBetween||(s=!1,n(c,"between",An(hn))),e.hiddenAnd&&""!==e.hiddenAnd||(s=!1,n(c,"and",An(hn))),s&&(a===Gi?(isNaN(h.toNumber(e.hiddenBetween,l))?(s=!1,n(c,"between",An(pn))):e.hiddenBetween=h.toNumber(e.hiddenBetween,l),isNaN(h.toNumber(e.hiddenAnd,l))?(s=!1,n(c,"and",An(pn))):e.hiddenAnd=h.toNumber(e.hiddenAnd,l)):Ki.includes(a)&&(e.hiddenBetween!==Wn(Yn(e.hiddenBetween))&&(s=!1,n(c,"between",An(gn))),e.hiddenAnd!==Wn(Yn(e.hiddenAnd))&&(s=!1,n(c,"and",An(gn)))));break;case Vi:case Di:case ki:case Mi:e.dateRangeValue&&""!==e.dateRangeValue||(s=!1,n(c,"dateRangeValue",An(hn))),e.dateRangeUnit&&""!==e.dateRangeUnit||(s=!1,n(c,"dateRangeUnit",An(hn)));break;case _i:case Ci:case vi:case Ei:case Ii:case bi:case Ti:case Li:e.hiddenValue&&""!==e.hiddenValue?a===Gi?(r=[Ti,Li].includes(e.operator)?e.hiddenValue.split(Ni):[e.hiddenValue]).some((e=>isNaN(h.toNumber(e,l))))?(s=!1,n(c,"value",An(pn))):e.hiddenValue=r.map((e=>h.toNumber(e,l))).join(Ni):Ki.includes(a)&&e.hiddenValue!==Wn(Yn(e.hiddenValue))&&(s=!1,n(c,"value",An("DATE_INVALID_VALUE"))):(s=!1,n(c,"value",An(hn)))}break;case lt:e.hiddenValue&&""!==e.hiddenValue||(s=!1,n(c,"search",An(hn)))}})),s},store:function(e){t._ifNoChangesDo((function(){var i,n,o,a={save:!1,skipNoChangesCheck:!0},l=e.getChanges();for(i=0;i<l.length;i++){switch(delete(o=(n=l[i]).record).enabledClass,delete o.enabledText,o.type){case lt:o.value=o.search,delete o.expression,delete o.columnId,delete o.and,delete o.between,delete o.hiddenAnd,delete o.hiddenBetween,delete o.dateRangeValue,delete o.dateRangeUnit,delete o.operator,delete o.search,o.isCaseSensitive=o.isCaseSensitive===Jt;break;case rt:o.value=o.hiddenValue,[yi,Oi].includes(o.operator)?o.value=o.hiddenBetween+Qt+o.hiddenAnd:[Vi,Di,ki,Mi].includes(o.operator)&&(o.value=o.dateRangeValue+Qt+o.dateRangeUnit),[Ti,Li].includes(o.operator)&&(o.value=zn(o.value.split(Ni)).join("")),delete o.dateRangeValue,delete o.dateRangeUnit,delete o.between,delete o.and,delete o.hiddenValue,delete o.hiddenBetween,delete o.hiddenAnd,delete o.expression,delete o.search,o.isCaseSensitive=o.isCaseSensitive===Jt}n.inserted?(delete o.id,o.columnType=rt,t.addFilter(o,a)):n.updated?(o.columnType=rt,t.updateFilter(o.id,o,a)):n.deleted&&t.deleteFilter(o.id,a)}t._setReportSettings({refreshModel:!0})}))}})},_renderColumnsDialog:function(){var t=this,i=[],n=this.options.config.views[this._view()].features;function o(i){var n,o,a,l,r=[],s=t._getCurrentView().columns;function d(e){return!(e.id!==a.columnId||e.specialType&&"actions"!==e.specialType||e.isHidden)}for(n=0;n<s.length;n++)a=s[n],(o=(o=e.grep(t.options.config.columns,d)).length>0&&o[0])&&(l={id:a.columnId,columnId:a.columnId,columnWidth:a.width,seq:n+1,heading:"actions"===o.specialType?An("ROW_ACTIONS"):o.heading.label,groupId:o.layout.groupId,canHide:o.features.canHide,isVisible:a.isVisible,enabledClass:a.isVisible?Fe:""},"ALL"===i||"VISIBLE"===i&&a.isVisible?r.push(l):"INVISIBLE"!==i||l.isVisible||r.push(l));return r}Zn(this.options.config.columnGroups,i,"id","label","",""),this._createDialog(Vt,(function(e){e(et,{id:"CD_COLUMN_WIDTH"}),e(tt,{id:"CD_COLUMN_GROUP",options:i})}),{titleKey:"COLUMNS",modelOptions:{shape:"table",canDelete:!1,canAdd:!1,sequenceField:n.reorderColumns?"seq":null,fields:{id:{canHide:!1,hidden:!0,seq:0},isVisible:Xn("VISIBLE"),heading:{label:"COLUMN",headingAlignment:dt,elementId:"CD_COLUMN_HEADING",canHide:!0,hidden:!1,width:100,seq:20},groupId:{label:"GROUP",elementId:"CD_COLUMN_GROUP",canHide:!0,escape:!1,volatile:!0,hidden:!0,seq:30},columnWidth:{label:"WIDTH",elementId:"CD_COLUMN_WIDTH",canHide:!0,hidden:!0,seq:40},columnId:{label:"COLUMN",elementId:"CD_COLUMN",seq:0,canHide:!0,hidden:!0},seq:{canHide:!1,hidden:!0,seq:0},canHide:{canHide:!1,hidden:!0,seq:0},enabledClass:{volatile:!0,canHide:!1,hidden:!0,defaultValue:Fe,seq:0}}},load:function(e){e.setData(o(this.showColumns))},init:function(t,i,n,l){var r,s=this;this.showColumns||(this.showColumns="ALL"),r=[{type:hi,iconOnly:!0,icon:"icon-up-chevron",action:"move-up"},{type:hi,iconOnly:!0,icon:"icon-down-chevron",action:"move-down"},{type:gi,labelKey:"APEX.IG.SHOW",icon:"icon-ig-select-cols",iconOnly:!0,menu:{items:[{type:ci,action:"show-columns"}]}}],a.findContext("ModelEditDialog",this).add([{name:"show-columns",choices:[{label:An("ALL"),value:"ALL"},{label:An("VISIBLE"),value:"VISIBLE"},{label:An("INVISIBLE"),value:"INVISIBLE"}],get:function(){return s.showColumns},set:function(e){s.showColumns=e;var i=o(e);t.setData(i)}}]),l.toolbar({data:[{align:"start",controls:r}]}),i.on("click",Ge,(function(){var n,o,a=e(this);o=i.grid("getRecords",[a.parent()])[0],t.getValue(o,"canHide")&&(n=!t.getValue(o,"isVisible"),t.setValue(o,"enabledClass",n?Fe:""),t.setValue(o,"isVisible",n))})).on("keydown",Ge,(function(t){t.which===e.ui.keyCode.SPACE&&e(this).trigger("click")})),n.on("apexbeginrecordedit",(function(){""===t.getValue(n.recordView("getRecord"),"groupId")?$n(n,"groupId"):Kn(n,"groupId")})),$n(n,"columnId"),$n(n,"isVisible")},validate:function(e,t,i){var n,o=!0;return e.forEach((function(e,a,l){null!==(n=e.columnWidth)&&""!==n&&isNaN(parseInt(n,10))?(i(l,"columnWidth",An(gn)),o=!1):t(l,"columnWidth")})),o},store:function(e){var i,n,o,a=!1,l=t._getCurrentView().columns,r=t._currentViewImpl().getColumns();for(l.sort((function(e,t){return e.seq-t.seq})),i=0;i<l.length;i++)!0===l[i].isFrozen&&(a=i+1);for(e.forEach((function(e){(o=e.columnWidth)&&null!==o||(o=""),o=o.toString(),t._currentViewColumn(e.columnId,{isVisible:e.isVisible,width:parseInt(o,10),seq:parseFloat(e.seq)})})),l.sort((function(e,t){return e.seq-t.seq})),i=0;i<l.length;i++)for(n=0;n<r.length;n++)if(l[i].columnId===r[n].id){r[n].seq=l[i].seq,r[n].canHide&&(r[n].hidden=!l[i].isVisible),r[n].width=l[i].width,l[i].seq=i,!1!==a&&i>=a&&(l[i].isFrozen=!1,r[n].frozen=!1),!1!==a&&i<a&&(l[i].isFrozen=!0,r[n].frozen=!0);break}t._setReportSettings({refreshView:!0,refreshColumns:!0})}})},_renderHighlightDialog:function(){var t,i,n=this,o=this.options.config.columns,a=[];for(i=0;i<o.length;i++)t=o[i],this._getColumn(t.id).specialType||this._getColumn(t.id).isHidden||a.push({value:t.id,label:this._getColumnLabel(t.id)});this._createDialog(Dt,(function(e){n._columnFilterDialogControls(e,"HD"),e(it,{id:"HD_BACKGROUND_COLOR",size:"7",colors:_n,contrastItem:n._getId("HD_TEXT_COLOR"),itemLabel:An("BACKGROUND_COLOR")}),e(it,{id:"HD_TEXT_COLOR",size:"7",colors:"#a96e17;#3baa2c;#0076df;#f44336;#767676;#000000;#ffffff",contrastItem:n._getId("HD_BACKGROUND_COLOR"),itemLabel:An("TEXT_COLOR")}),e(tt,{id:"HD_HIGHLIGHT_TYPE",options:[{value:lt,label:An("ROW")},{value:rt,label:An("COLUMN")}]}),e(tt,{id:"HD_HIGHLIGHT_COLUMN",options:a})}),{width:800,height:580,titleKey:"HIGHLIGHT",checkboxColumn:!0,modelOptions:{shape:"table",sequenceField:"seq",fields:e.extend({id:{canHide:!1,hidden:!0,seq:0},seq:{canHide:!1,hidden:!0,seq:0},isEnabled:Xn(),name:{label:"NAME",headingAlignment:dt,elementId:"HD_NAME",isRequired:!0,width:100,seq:15},highlightType:{label:"HIGHLIGHT",elementId:"HD_HIGHLIGHT_TYPE",seq:20,canHide:!0,hidden:!0},highlightColumnId:{label:"COLUMN",elementId:"HD_HIGHLIGHT_COLUMN",seq:30,canHide:!0,hidden:!0},backgroundColor:{label:"BACKGROUND_COLOR",elementId:"HD_BACKGROUND_COLOR",seq:40,isRequired:!0,defaultValue:_n.split(";")[0],fieldColSpan:4,canHide:!0,hidden:!0},textColor:{label:"TEXT_COLOR",elementId:"HD_TEXT_COLOR",seq:50,fieldColSpan:4,canHide:!0,hidden:!0},preview:{label:"COLOR_PREVIEW",cellTemplate:`<div id='${this._getId("HD_PREVIEW")}' class='a-IG-highlightPreview'>Aa</div><div class='a-IG-highlightContrast'>${apex.widget.util.colorPicker.renderColorContrastReport(this._getId("HD_CONTRAST"))}</div>`,seq:60,fieldColSpan:4,canHide:!0,hidden:!0}},this._columnFilterModelFields("HD"))},load:function(t){var i,o,a,l,r,s=[],d=n.getHighlights(),c=e(this).dialog(Et,"id");if(d.length>0){for(i=0;i<d.length;i++){switch((l={id:(r=d[i]).id,seq:r.seq,name:r.name,highlightType:r.type,highlightColumnType:r.columnType,highlightColumnId:r.columnId,backgroundColor:r.backgroundColor,textColor:r.textColor,type:r.condition.type,columnType:r.condition.columnType,columnId:r.condition.columnId,operator:r.condition.operator,isCaseSensitive:r.condition.isCaseSensitive?Jt:ei,value:r.condition.value,expression:r.condition.expression,isEnabled:r.isEnabled,hiddenValue:"",dateRangeValue:"",dateRangeUnit:"",between:"",and:"",hiddenBetween:"",hiddenAnd:"",enabledClass:"",enabledText:"",search:""}).enabledClass=l.isEnabled?Fe:"",l.enabledText=l.isEnabled?An("ENABLED"):An("DISABLED"),l.hiddenValue=l.value,l.type){case lt:l.search=l.value;break;case rt:[yi,Oi].includes(l.operator)?(o=l.value.split(Qt),l.hiddenBetween=o[0],l.hiddenAnd=o[1],l.hiddenValue="",l.value=""):[Vi,Di,ki,Mi].includes(l.operator)&&(a=l.value.split(Qt),l.dateRangeValue=a[0],l.dateRangeUnit=a[1],l.hiddenValue="",l.value=""),[Ti,Li].includes(l.operator)&&(l.value=l.value.split("").join("; "),l.hiddenValue=l.value)}s.push(l)}t.setData(s)}else c=t.insertNewRecord();return c},init:function(e,t,i){let o=n._getElement("HD_HIGHLIGHT_TYPE"),a=n._getElement("HD_HIGHLIGHT_COLUMN"),l=n._getElement("HD_TEXT_COLOR"),r=n._getElement("HD_BACKGROUND_COLOR"),s=n._getElement("HD_NAME");function c(){var e=o.val(),t=d(a.attr("id"));e===lt?co(a):(so(a),t.setValue(t.getValue()))}l.add(r).on("change",(()=>{let e,t=n._getElement("HD_PREVIEW"),i=n._getElement("HD_CONTRAST"),o=r[0].getValue()||"#ffffff",a=l[0],s=a.getValue()||"#000000";t.css({backgroundColor:o,color:s}),e=a.contrastWith(o),apex.widget.util.colorPicker.updateColorContrastReport(i,e)})),uo(s,!0),$n(i,"hiddenValue"),$n(i,"hiddenBetween"),$n(i,"hiddenAnd"),n._columnFilterInitActions(e,t,i,"HD",(function(){c(),l.trigger(Gn),r.trigger(Gn)})),o.on(Gn,c)},validate:function(e,t,i){var o=!0;return e.forEach((function(e,a,l){let r,s,d;switch(t(l,"between"),t(l,"and"),t(l,"value"),t(l,"expression"),t(l,"name"),t(l,"textColor"),t(l,"backgroundColor"),""===e.textColor&&""===e.backgroundColor&&(i(l,"textColor",An(hn)),i(l,"backgroundColor",An(hn))),""===e.name&&i(l,"name",An(hn)),e.type){case rt:switch(r=n._getColumn(e.columnId),s=r.filter.dataType,d=r.appearance.formatMask,e.operator){case yi:case Oi:e.hiddenBetween&&""!==e.hiddenBetween||(o=!1,i(l,"between",An(hn))),e.hiddenAnd&&""!==e.hiddenAnd||(o=!1,i(l,"and",An(hn))),o&&(s===Gi?(isNaN(h.toNumber(e.hiddenBetween,d))?(o=!1,i(l,"between",An(pn))):e.hiddenBetween=h.toNumber(e.hiddenBetween,d),isNaN(h.toNumber(e.hiddenAnd,d))?(o=!1,i(l,"and",An(pn))):e.hiddenAnd=h.toNumber(e.hiddenAnd,d)):Ki.includes(s)&&(e.hiddenBetween!==Wn(Yn(e.hiddenBetween))&&(o=!1,i(l,"between",An(gn))),e.hiddenAnd!==Wn(Yn(e.hiddenAnd))&&(o=!1,i(l,"and",An(gn)))));break;case Vi:case Di:case ki:case Mi:e.dateRangeValue&&""!==e.dateRangeValue||(o=!1,i(l,"dateRangeValue",An(hn))),e.dateRangeUnit&&""!==e.dateRangeUnit||(o=!1,i(l,"dateRangeUnit",An(hn)));break;case _i:case Ci:case vi:case Ei:case Ii:case bi:case Ti:case Li:e.hiddenValue&&""!==e.hiddenValue?s===Gi?isNaN(h.toNumber(e.hiddenValue,d))&&(o=!1,i(l,"value",An(pn))):Ki.includes(s)&&e.hiddenValue!==Wn(Yn(e.hiddenValue))&&(o=!1,i(l,"value",An("DATE_INVALID_VALUE"))):(o=!1,i(l,"value",An(hn)))}break;case lt:e.hiddenValue&&""!==e.hiddenValue||(o=!1,i(l,"search",An(hn)))}})),o},store:function(e){n._ifNoChangesDo((function(){var t,i,o,a,l,r={save:!1,skipNoChangesCheck:!0},s=e.getChanges();for(t=0;t<s.length;t++){switch((a=(i=s[t]).record).type){case lt:l={type:lt,value:a.search,isCaseSensitive:a.isCaseSensitive===Jt};break;case rt:l={type:rt,value:a.hiddenValue,columnId:a.columnId,operator:a.operator,columnType:rt,isCaseSensitive:a.isCaseSensitive===Jt},[Ti,Li].includes(a.operator)&&(l.value=zn(a.hiddenValue.split(Ni)).join("")),[yi,Oi].includes(a.operator)?l.value=a.hiddenBetween+Qt+a.hiddenAnd:[Vi,Di,ki,Mi].includes(a.operator)&&(l.value=a.dateRangeValue+Qt+a.dateRangeUnit)}o={id:a.id,seq:parseFloat(a.seq),name:a.name,type:a.highlightType,textColor:a.textColor,backgroundColor:a.backgroundColor,condition:l,isEnabled:a.isEnabled},a.highlightType===rt?(o.type=rt,o.columnType=rt,o.columnId=a.highlightColumnId):a.highlightType===lt&&(o.type=lt,delete o.columnType,delete o.columnId),i.inserted?(delete o.id,n.addHighlight(o,r)):i.updated?n.updateHighlight(o.id,o,r):i.deleted&&n.deleteHighlight(o.id,r)}n._setReportSettings({refreshModel:!0,changeIdentifier:"views.grid.highlights"})}))}})},_loadColumnOptions:function(e,t){var i,n,o,a=this.options.config.columns;for(e.push({value:"",label:An(mn)}),i=0;i<a.length;i++)(o=a[i]).specialType||!o.features[t]||o.isHidden||(n||(n=o),e.push({value:o.id,label:this._getColumnLabel(o.id)}));return n},_renderSortDialog:function(){var e=[],t=this;this._loadColumnOptions(e,"sort"),this._createDialog(xt,(function(i){i(tt,{id:"SD_COLUMN",required:!0,options:e}),t._renderSortControls(i,"SD_")}),{titleKey:"SORT",modelOptions:{shape:"table",identityField:"order",sequenceField:"seq",fields:{order:{canHide:!1,hidden:!0,seq:10},seq:{seq:20,canHide:!1,hidden:!0},columnId:{label:"COLUMN",headingAlignment:dt,elementId:"SD_COLUMN",isRequired:!0,width:100,seq:30,canHide:!0,hidden:!1},direction:{label:"DIRECTION",headingAlignment:dt,elementId:"SD_DIRECTION",width:60,seq:40,defaultValue:Bt,canHide:!0,hidden:!1},nulls:{label:"NULLS",elementId:"SD_NULLS",seq:50,defaultValue:Xt,canHide:!0,hidden:!0}}},load:function(e){var i,n,o=t.getSorts();for(i=0;i<o.length;i++)o[i].seq=i+1,o[i].order=i+1;return o.length>0?e.setData(o):n=e.insertNewRecord(),n},init:function(e,i,n){var o=t._getElement("SD_COLUMN"),a=t._getElement("SD_DIRECTION");t.options.config.unsupported.sortFunctions.includes("NULLS")?$n(n,"nulls"):Kn(n,"nulls"),o.on(Gn,(function(){e.setValue(n.recordView("getRecord"),"columnId",o.val())})),a.on(Gn,(function(){e.setValue(n.recordView("getRecord"),"direction",a.val())}))},validate:function(e){var t={},i=!0;return e.forEach((function(e){t[e.columnId]?i=!1:t[e.columnId]=!0})),!1!==i||An("SORT_ONLY_ONE_PER_COLUMN")},store:function(e){var i,n,o,a,l,r=e.getChanges(),s=t.getSorts();for(i=0;i<s.length;i++)s[i].seq=i+1;for(i=0;i<r.length;i++)if(a=(o=r[i]).record,l=o.original,a.seq=parseFloat(a.seq),o.inserted)s.push(a);else if(o.updated)if(l.columnId===a.columnId){for(n=0;n<s.length;n++)if(a.columnId===s[n].columnId){s[n]=a;break}}else{for(n=0;n<s.length;n++)if(l.columnId===s[n].columnId){s.splice(n,1);break}s.push(a)}else if(o.deleted)for(n=0;n<s.length;n++)if(a.columnId===s[n].columnId){s.splice(n,1);break}s.length>0&&(s=s.sort((function(e,t){return e.seq-t.seq}))),r.length>0&&t.setSorts(s)}})},_renderAggregateDialog:function(){var t,i=[],n=[],o=this,a=o.options.config.unsupported.aggregateFunctions;t=this._loadColumnOptions(i,"aggregate"),[{value:bn.CNT,label:An(bn.CNT)},{value:bn.CNT_DIST,label:An(bn.CNT_DIST)},{value:bn.MIN,label:An(bn.MIN)},{value:bn.MAX,label:An(bn.MAX)},{value:bn.MEDIAN,label:An(bn.MEDIAN)},{value:bn.SUM,label:An(bn.SUM)},{value:bn.AVG,label:An(bn.AVG)}].forEach((function(e){a.includes(e.value)||n.push(e)})),this._createDialog(Ht,(function(e){e(tt,{id:"AD_COLUMN",required:!0,options:i}),e(tt,{id:"AD_AGGREGATION",required:!0,options:n}),e(et,{maxlength:"30",id:"AD_TOOLTIP"}),e(ot,{id:"AD_SHOW_GRAND_TOTAL",value:Jt})}),{titleKey:"AGGREGATION",dialogHelp:{helpTextKey:"AGGREGATE"},checkboxColumn:!0,modelOptions:{shape:"table",fields:{id:{canHide:!1,hidden:!0,seq:0},isEnabled:Xn(),columnId:{label:"COLUMN",headingAlignment:dt,elementId:"AD_COLUMN",isRequired:!0,defaultValue:"",seq:30,width:80,canHide:!0,hidden:!1},function:{label:"AGGREGATION",headingAlignment:dt,elementId:"AD_AGGREGATION",isRequired:!0,seq:40,width:80,defaultValue:"",canHide:!0,hidden:!1},tooltip:{label:"TOOLTIP",elementId:"AD_TOOLTIP",seq:50,defaultValue:"",canHide:!0,hidden:!0},showGrandTotal:{label:"SHOW_OVERALL_VALUE",elementId:"AD_SHOW_GRAND_TOTAL",seq:60,defaultValue:Jt,canHide:!0,hidden:!0}}},load:function(i){var n,a,l,r=[],s=e(this),d=s.dialog(Et,"id"),c=s.dialog(Et,"columnId"),u=o.getAggregates();function h(e){var t=o._getColumn(e);return l=t.filter.dataType===Gi?bn.SUM:bn.CNT,i.insertNewRecord(null,null,{columnId:e,isEnabled:!0,enabledClass:Fe,function:l})}if(u.length>0){for(n=0;n<u.length;n++)(a=e.extend({id:"",columnId:"",function:"",tooltip:"",showGrandTotal:"",isEnabled:"",enabledClass:"",enabledText:""},u[n])).enabledClass=a.isEnabled?Fe:"",a.enabledText=a.isEnabled?An("ENABLED"):An("DISABLED"),a.showGrandTotal=a.showGrandTotal?Jt:ei,r.push(a);i.setData(r),c&&(d=h(c))}else d=h(c||t.id);return d},init:function(t,i,n){var l=o._getElement("AD_COLUMN"),r=o._getElement("AD_AGGREGATION"),s=o._getElement("AD_SHOW_GRAND_TOTAL");function d(){var i,s,d={},u=l.val();if(i=o._getColumn(u),u&&""!==u){Kn(n,"function"),Kn(n,"tooltip"),Kn(n,"showGrandTotal"),d[bn.CNT]=An(bn.CNT),i.filter.dataType!==Pi&&i.filter.dataType!==Gi&&i.filter.dataType!==Ui||(a.includes(bn.CNT_DIST)||(d[bn.CNT_DIST]=An(bn.CNT_DIST)),a.includes(bn.MIN)||(d[bn.MIN]=An(bn.MIN)),a.includes(bn.MAX)||(d[bn.MAX]=An(bn.MAX))),a.includes(bn.MEDIAN)||i.filter.dataType!==Gi&&i.filter.dataType!==Ui||(d[bn.MEDIAN]=An(bn.MEDIAN)),i.filter.dataType===Gi&&(a.includes(bn.SUM)||(d[bn.SUM]=An(bn.SUM)),a.includes(bn.AVG)||(d[bn.AVG]=An(bn.AVG))),s=r.val(),r.empty(),r.append(e(Ze).attr("value","").text(An(mn)));for(const[t,i]of Object.entries(d))r.append(e(Ze).attr("value",t).text(i));""!==s&&r.val(s),""!==r.val()&&null!==r.val()||(i.filter.dataType===Gi?r.val(bn.SUM):r.val(bn.CNT)),t.setValue(n.recordView("getRecord"),"columnId",u),c()}else $n(n,"function"),$n(n,"tooltip"),$n(n,"showGrandTotal"),t.setValue(n.recordView("getRecord"),"columnId",""),r.val("").trigger("change")}function c(){t.setValue(n.recordView("getRecord"),"function",r.val())}so(l),l.on(Gn,d),r.on(Gn,c),s.on(Gn,(function(){t.setValue(n.recordView("getRecord"),"showGrandTotal",s.prop(vt)?"Y":"N")})),n.on("apexbeginrecordedit",(function(){d()}))},validate:function(e,t,i){var n,o={},a=!0;return e.forEach((function(e,l,r){n=e.columnId.toString()+e.function,o[n]?(a=!1,i(r,"columnId",An("DUPLICATE_AGGREGATION")),i(r,"function",An("DUPLICATE_AGGREGATION"))):(o[n]=!0,t(r,"columnId"),t(r,"function")),""===e.columnId&&(i(r,"columnId",An("DUPLICATE_AGGREGATION")),a=!1)})),a},store:function(e){o._ifNoChangesDo((function(){let t,i,n={save:!1,skipNoChangesCheck:!0},a=e.getChanges();for(let e=0;e<a.length;e++)t=a[e],t.record.columnId&&""!==t.record.columnId&&(i=t.record,delete i.enabledClass,delete i.enabledText,i.showGrandTotal=i.showGrandTotal===Jt,t.inserted?(delete i.id,i.columnType=rt,o.addAggregate(i,n)):t.updated?o.updateAggregate(i.id,i,n):t.deleted&&o.deleteAggregate(i.id,n));o._setReportSettings({refreshModel:!0,refreshColumns:!0,changeIdentifier:"views.grid.aggregations"})}))}})},_renderControlBreakDialog:function(){var t,i=[],n=this;t=this._loadColumnOptions(i,"sort"),this._createDialog(Ft,(function(e){e(tt,{id:"CBD_COLUMN",required:!0,options:i}),n._renderSortControls(e,"CBD_")}),{titleKey:"CONTROL_BREAK",checkboxColumn:!0,modelOptions:{shape:"table",sequenceField:"sequenceField",fields:{id:{canHide:!1,hidden:!0,seq:0},sequenceField:{canHide:!1,hidden:!0,seq:0},oldColumnId:{canHide:!1,hidden:!0,seq:0},isEnabled:Xn(),columnId:{label:"COLUMN",headingAlignment:dt,elementId:"CBD_COLUMN",isRequired:!0,seq:20,width:100,canHide:!0,hidden:!1},direction:{label:"DIRECTION",elementId:"CBD_DIRECTION",defaultValue:Bt,seq:30,canHide:!0,hidden:!0},nulls:{label:"NULLS",elementId:"CBD_NULLS",defaultValue:Xt,seq:40,canHide:!0,hidden:!0}}},load:function(i){var o,a,l,r,s=[],d=e(this).dialog(Et,"id"),c=n._getCurrentView().columns;for(o=0;o<c.length;o++)(r=(a=c[o]).break)&&(l=e.extend({},{id:a.columnId,columnId:a.columnId,oldColumnId:a.columnId,direction:a.direction,nulls:a.nulls,sequenceField:parseFloat(r.order),isEnabled:r.isEnabled,enabledClass:r.isEnabled?Fe:""}),s.push(l));return s.length>0?(s.sort((function(e,t){return e.sequenceField<t.sequenceField?-1:e.sequenceField>t.sequenceField?1:0})),i.setData(s)):d=i.insertNewRecord({isEnabled:!0,id:t.columnId,columnId:t.columnId,oldColumnId:t.columnId,direction:t.sort?t.sort.direction:Bt,nulls:t.sort?t.sort.nulls:Xt}),d},init:function(e,t,i){var o=n._getElement("CBD_COLUMN"),a=n._getElement("CBD_DIRECTION"),l=n._getElement("CBD_NULLS");function r(){e.setValue(i.recordView("getRecord"),"columnId",o.val()),""===o.val()?co([a,l]):so([a,l])}o.on(Gn,r),a.on(Gn,(function(){e.setValue(i.recordView("getRecord"),"direction",a.val())})),l.on(Gn,(function(){e.setValue(i.recordView("getRecord"),"nulls",l.val())})),i.on("apexbeginrecordedit",r)},validate:function(e,t,i){var n={},o=!0;return e.forEach((function(e,t,a){n[e.columnId]?(o=!1,i(a,"columnId",An("DUPLICATE_CONTROLBREAK"))):n[e.columnId]=!0,""===e.columnId&&(o=!1)})),o},store:function(e){n._ifNoChangesDo((function(){var t,i,o,a={save:!1,skipNoChangesCheck:!0},l=e.getChanges();function r(){n.addControlBreak(n._currentViewImpl().modelColumns[n._getColumn(o.columnId).name],{isEnabled:o.isEnabled,order:parseFloat(o.sequenceField),direction:o.direction,nulls:o.nulls},a)}for(t=0;t<l.length;t++)i=l[t],o=i.record,i.inserted?r():i.updated?o.columnId!==o.oldColumnId?(n.deleteControlBreak(o.oldColumnId,a),r()):n.updateControlBreak(o.columnId,{isEnabled:o.isEnabled,order:parseFloat(o.sequenceField),direction:o.direction,nulls:o.nulls},a):i.deleted&&n.deleteControlBreak(o.columnId,a);n._setReportSettings({refreshModel:!0,refreshColumns:!0})}))}})},_addActions:function(n){var a=this,l=this.options.config;n.add([{name:"search-case-sensitive",labelKey:"APEX.IG.CASE_SENSITIVE",value:!1,get:function(){return a.searchCaseSensitive},set:function(e){a.searchCaseSensitive=e}},{name:"filter-column",labelKey:"APEX.IG.SELECT_COLUMNS_TO_SEARCH",get:function(){return a.currentFilterColumnId},set:function(e){a._setFilterColumn(e)}},{name:"search",labelKey:"APEX.IG.GO",getSearchValue:function(e){let t="";l.toolbar&&l.toolbar.searchField&&(t=a._tbFindElement("search_field").val(),a._tbFindElement("search_field").val("")),e(t)},action:function(){this.getSearchValue((function(e){let t,i=a._currentReportSettings().filters.filter((t=>t.value===e&&t.type===lt));e&&!i.length?(t=a.currentFilterColumnId?{type:rt,columnType:rt,columnId:a.currentFilterColumnId,operator:Ri,value:e,isCaseSensitive:a.searchCaseSensitive}:{type:lt,value:e,isCaseSensitive:a.searchCaseSensitive},a.addFilter(t)):a.refresh()}))}},{name:"change-report",labelKey:"APEX.IG.SAVED_REPORTS",hide:!0,choices:[],get:function(){return a._report()},set:function(e){a._ifNoChangesDo((function(t){t&&a.clearChanges(),a._report(e)}))}},{name:"change-view",labelKey:"APEX.IG.CHANGE_VIEW",choices:[],get:function(){return a._view()},set:function(e){a._view(e,{fetchData:!0})}},{name:"show-columns-dialog",labelKey:"APEX.IG.COLUMNS",icon:"icon-ig-select-cols",action:function(){return a._openDialog(Vt),!0}},{name:"show-filter-dialog",labelKey:"APEX.IG.FILTER",icon:"icon-ig-filter",hide:!0,action:function(){return a._openDialog(kt),!0}},{name:"chart-view",labelKey:"APEX.IG.CHART",icon:"icon-ig-chart",hide:!a._isViewRegistered(Rt),action:function(){a._isViewRegistered(Rt)?(a.viewsImpl[Rt].isConfigured()&&a._view(Rt,{fetchData:!0}),a.viewsImpl[Rt].openDialog()):i.error("Chart view is not defined.")}},{name:"show-sort-dialog",labelKey:"APEX.IG.SORT",icon:"icon-ig-sort",action:function(){return a._openDialog(xt),!0}},{name:"show-aggregate-dialog",labelKey:"APEX.IG.AGGREGATE",icon:"icon-ig-aggregate",action:function(){return a._openDialog(Ht),!0}},{name:"show-flashback-dialog",labelKey:"APEX.IG.FLASHBACK",icon:"icon-ig-flashback",hide:!0,action:function(){return a._openDialog(Mt),!0}},{name:"show-highlight-dialog",labelKey:"APEX.IG.HIGHLIGHT",icon:"icon-ig-highlight",hide:!0,action:function(){return a._openDialog(Dt),!0}},{name:"show-control-break-dialog",labelKey:"APEX.IG.CONTROL_BREAK",icon:"icon-ig-control-break",action:function(){return a._openDialog(Ft),!0}},{name:"stretch-columns",labelKey:"APEX.IG.STRETCH_COLUMNS",hide:!0,get:function(){var e=a._view(),t=a._currentReportSettings().views[e];return t&&t.stretchColumns},set:function(e){var t=a._currentReportSettings(),i=a._view(),n=t.views[i];n&&(n.stretchColumns=e),a._setOperationUpdate(t),a._setReportSettings({changeIdentifier:"views.grid.columns"})}},{name:"change-rows-per-page",labelKey:"APEX.IG.ROWS_PER_PAGE",choices:[{labelKey:"APEX.IG.AUTO",value:"null"},{label:"5",value:5},{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"25",value:25},{label:"50",value:50},{label:"100",value:100},{label:"1000",value:1e3}],get:function(){var e=a._currentReportSettings().rowsPerPage;return null===e?"null":e},set:function(e){var t=a._currentReportSettings();e="null"===e?null:parseInt(e,10),t.rowsPerPage=e,a._setOperationUpdate(t),a._setReportSettings({changeIdentifier:"rowsPerPage",refreshView:!0})}},{name:"save-report",labelKey:"APEX.IG.SAVE",icon:"icon-ig-save",action:function(){var e=a._currentReportSettings();a.updateReport(e.id,e)}},{name:"show-save-report-as-dialog",labelKey:"APEX.IG.SAVE_AS",icon:"icon-ig-save-as",action:function(){return a._openDialog(Gt),!0}},{name:"show-edit-report-dialog",labelKey:"APEX.IG.EDIT",icon:"icon-ig-edit",action:function(){return a._openDialog(Pt),!0}},{name:"delete-report",labelKey:"APEX.IG.DELETE",icon:"icon-ig-delete",action:function(){s.confirm(An("DELETE_REPORT_CONFIRM"),(function(e){e&&a.deleteReport(a._report())}))}},{name:"show-download-dialog",labelKey:"APEX.IG.DOWNLOAD",icon:"icon-ig-download",hide:!0,action:function(){return a._openDialog(Ut),!0}},{name:"show-help-dialog",labelKey:"APEX.IG.HELP",icon:"icon-ig-help",action:function(){var i=a.options.config;o.loadMessagesIfNeeded(["APEX.IG.HELP.ACTIONS.INTRO_HEADING","APEX.IG.HELP.ACTIONS.INTRO","APEX.IG.HELP.ACTIONS.REPORTING_HEADING","APEX.IG.HELP.ACTIONS.REPORTING","APEX.IG.HELP.ACTIONS.EDITING_HEADING","APEX.IG.HELP.ACTIONS.EDITING"],(function(){var n=t.htmlBuilder();function o(t,i){var n=e.extend({headingKey:"",helpText:"",helpTextKey:""},i);n.headingKey&&t.markup("<h2>").content(wn(n.headingKey)).markup("</h2>"),n.helpText&&t.markup("<div").attr(ai,"apex-help-custom").markup(">").markup(n.helpText).markup("</div>"),n.helpTextKey&&t.markup("<p>").markup(wn(n.helpTextKey)).markup("</p>")}i.text.help&&o(n,{helpText:i.text.help}),o(n,{headingKey:"APEX.IG.HELP.ACTIONS.INTRO_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.INTRO"}),o(n,{headingKey:"APEX.IG.HELP.ACTIONS.REPORTING_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.REPORTING"}),i.editable&&o(n,{headingKey:"APEX.IG.HELP.ACTIONS.EDITING_HEADING",helpTextKey:"APEX.IG.HELP.ACTIONS.EDITING"}),r.popupFieldHelp({title:An("HELP.ACTIONS_TITLE"),helpText:n.toString()})}))}},{name:"selection-mode",onLabelKey:"APEX.IG.SEL_MODE_CELL",offLabelKey:"APEX.IG.SEL_MODE_ROW",shortcut:"F8",hide:!0,get:function(){var e=a._currentViewImpl();return!e.view$||!e.supports.cellSelection||!e.selectCells()},set:function(e){var t=a._currentViewImpl();t.view$&&t.supports.cellSelection&&t.selectCells(!e)}},{name:"selection-duplicate",type:si,labelKey:"APEX.IG.DUPLICATE_ROWS",icon:"icon-ig-duplicate",hide:!0,action:function(){const e=a._currentViewImpl();if(e.supports.edit){const t=e.getSelectedRecords();if(t.length>0)return e.focus(),e.model.copyRecords(t,null,t[t.length-1]),!0}}},{name:"selection-delete",labelKey:"APEX.IG.DELETE_ROWS",icon:"icon-ig-delete",hide:!0,action:function(){var e,t,i=a._currentViewImpl();if(i.supports.edit){for(t=i.getSelectedRecords(),e=0;e<t.length;e++)i.model.allowDelete(t[e])||(t.splice(e,1),e-=1);t.length>0&&i.model.deleteRecords(t)}}},{name:"selection-refresh",labelKey:"APEX.IG.REFRESH_ROWS",icon:"icon-ig-refresh",action:function(){const e=a._currentViewImpl();if(e.model.getOption("identityField")){let t=e.getSelectedRecords();t.length>0&&(e.supports.edit?e.finishEditing().then((function(){e.model.fetchRecords(t)})):e.model.fetchRecords(t))}}},{name:"selection-revert",labelKey:"APEX.IG.REVERT_CHANGES",icon:"icon-ig-revert",hide:!0,action:function(){var e,t,i=a._currentViewImpl();if(i.supports.edit){for(t=i.getSelectedRecords(),e=0;e<t.length;e++)i.model.canRevertRecord(t[e])||(t.splice(e,1),e-=1);t.length>0&&(i.model.revertRecords(t),a._updateSelectionActions())}}},{name:"selection-copy",labelKey:"APEX.IG.COPY_CB",icon:"icon-ig-copy",action:function(){var e=a._currentViewImpl();e.canCopy2Clipboard()&&(e.focus(),apex.clipboard.copy())}},{name:"refresh",labelKey:"APEX.IG.REFRESH",icon:"icon-ig-refresh",action:function(){a.refresh()}},{name:"reset-report",labelKey:"APEX.IG.RESET",disabled:!0,icon:"icon-ig-reset",action:function(){a._resetReportSettings()}},{name:"edit",labelKey:"APEX.IG.EDIT",ariaControls:this._getId("content_container"),offStateDescription:An("VIEW_MODE_DESCRIPTION"),onStateDescription:An("EDIT_MODE_DESCRIPTION"),hide:!0,get:function(){return a.editMode},set:function(e){a._setEditMode(e)}},{name:"save",labelKey:"APEX.IG.SAVE",hide:!0,shortcut:"Ctrl+Alt+S",action:function(){var e,t=a.options.config,i=a.editableViewImpl.model.name;c.anyErrors(!1,i,!0)?s.alert(wn("APEX.CORRECT_ERRORS"),(function(){})):a.editableViewImpl.finishEditing().done((function(){var n=null;void 0===t.saveLoadingIndicatorPosition&&void 0===t.saveLoadingIndicator||(n={loadingIndicatorPosition:t.saveLoadingIndicatorPosition||null,loadingIndicator:t.saveLoadingIndicator||null}),(e=c.save(null,n,i,!0))&&(e.done((function(e){var t,i,n="",o="";if(e.errors)s.clearErrors(),s.showErrors(e.errors),n=oi;else if(e.regions){for(t=0;t<e.regions.length;t++)(i=e.regions[t]).fetchedData&&i.fetchedData.successMessage&&(o&&(o+="<br>"),o+=i.fetchedData.successMessage);o||(o=An("CHANGES_SAVED")),s.showPageSuccess(o),n="success"}a._selectionChange(null),a._trigger(Pn,null,{status:n})})).fail((function(){a._trigger(Pn,null,{status:"fail"})})).always((function(){a.actions.enable("save")})),a.actions.disable("save"))}))}},{name:"selection-add-row",label:l.text.addRowButton,hide:!0,action:function(){const e=a._currentViewImpl(),t=e.getSelectedRecords();if(!e.supports.singleRowView||!e.singleRowMode)return e.focus(),e.model.insertNewRecord(null,t[t.length-1]),!0;a.getActions().invoke("insert-record")}},{name:"single-row-view",label:An("SINGLE_ROW_VIEW"),icon:"icon-ig-single-row-view",hide:!0,action:function(e,t){var i,n=null,o=a.editMode,l=a._currentViewImpl();if(l.supports.singleRowView&&l.singleRowView$&&l.singleRowView$.length&&!l.singleRowMode)return t&&(n=l.getContextRecord(t)[0]),n||(n=l.getSelectedRecords()[0]),o&&l.view$.grid("setEditMode",!1),l.singleRowMode=!0,l.view$.hide(),l.curInst=l.singleRowView$.recordView("instance"),a._updateLandmark(),(i=a._tbFind("selection_submenu"))&&(i.disabled=!0),l.singleRowView$.show().recordView(pt),n&&l.setSelectedRecords([n]),o?l.singleRowView$.recordView("setEditMode",!0):l.singleRowView$.recordView("focus"),!0}},{name:"row-add-row",label:An("ADD_ROW"),icon:"icon-ig-add-row",hide:!0,action:function(e,t){const i=a._currentViewImpl(),n=i.getContextRecord(t);return i.focus(),i.model.insertNewRecord(null,n[0]),!0}},{name:"row-duplicate",label:An("DUPLICATE_ROW"),icon:"icon-ig-duplicate",hide:!0,action:function(e,t){const i=a._currentViewImpl(),n=i.getContextRecord(t);return i.focus(),i.model.copyRecords(n,null,n[0]),!0}},{name:"row-delete",label:An("DELETE_ROW"),icon:"icon-ig-delete",hide:!0,action:function(e,t){var i=a._currentViewImpl(),n=i.getContextRecord(t);i.model.deleteRecords(n)}},{name:"row-refresh",label:An("REFRESH_ROW"),icon:"icon-ig-refresh",action:function(e,t){var i=a._currentViewImpl(),n=i.getContextRecord(t);i.model.fetchRecords(n)}},{name:"row-revert",label:An("REVERT_CHANGES"),icon:"icon-ig-revert",hide:!0,action:function(e,t){var i=a._currentViewImpl(),n=i.getContextRecord(t);i.focus(),i.model.revertRecords(n)}}])},_initToolbar:function(){var e,t=this.options.config.toolbarData,i=this;delete t.toolbarFind,delete t.toolbarRemove,delete t.toolbarInsertAfter,this.toolbar$=this._getElement("toolbar").toolbar({label:o.formatMessage("APEX.IG.TOOLBAR"),actionsContext:this.actions,data:t}),e=this._tbFindElement("actions_button_menu"),this._tbFindElement("column_filter_button").hide(),this._tbFindElement("search_field").hide(),this._tbFindElement("actions_button").hide(),this._currentReportSettings().defaultFilterColumn?this._setFilterColumn(this._currentReportSettings().defaultFilterColumn.columnId):this._setFilterColumn(null),e.on("menubeforeopen",(function(){var t;(t=e.menu("find","rows"))&&(t.hide=i.options.config.pagination.type!==Yt)}))},_getId:function(e){return e?this.idPrefix+"_"+e:""},_getIdSelector:function(e){return"#"+this._getId(e)},_getElement:function(t){return e(this._getIdSelector(t))},_setEditMode:function(e){const t=this._currentViewImpl(),i=this,n=this.options.config.columns,o=this._getElement("content_container");let a=!1;function l(){t.setEditMode(i.editMode),e&&setTimeout((function(){t.focus()}),100)}if(this.editMode=e,e){let e={};for(let t=0;t<n.length;t++)n[t].validation&&n[t].validation.isRequired&&(e[n[t].id]=n[t]);if(Object.keys(e).length>0){const t=this._getCurrentView().columns;for(let i=0;i<t.length;i++)e[t[i].columnId]&&!t[i].isVisible&&(t[i].isVisible=!0,this._setOperationUpdate(t[i]),a=!0);a&&this._setReportSettings({changeIdentifier:"views.grid.columns"},l)}}a||(l(),o.attr($e,this._getLandmarkLabel()))},_configureView:function(e){this.viewsImpl[e].isConfigured()&&this._view(e,{fetchData:!0}),this.viewsImpl[e].openDialog()},_getColumn:function(e){return this.columnMap[e]},_getColumnByName:function(e){var t,n=this.options.config.columns;for(t=0;t<n.length;t++)if(n[t].name===e)return n[t];i.warn("No column exists with name: ",e)},_getColumnByStaticId:function(e){var t,n=this.options.config.columns;for(t=0;t<n.length;t++)if(n[t].staticId===e)return n[t];i.warn("No column exists with static ID: ",e)},_getTextTransformClass:function(e){var t,i=e.filter.textCase;return i&&(t={lower:"u-textLower",upper:"u-textUpper"}[i.toLowerCase()]),t},_convertNamesToLabels:function(e){var t,i=this.options.config.columns,n={};for(t=0;t<i.length;t++)n[i[t].name]=i[t].heading.label;return e&&""!==e?e.replace(/(")(.*?)(")/g,(function(e,t,i){return'"'+n[i]+'"'})):e},_convertLabelsToNames:function(e){var t,i=this.options.config.columns,n={};for(t=0;t<i.length;t++)n[i[t].heading.label]=i[t].name;return e&&""!==e?e.replace(/(")(.*?)(")/g,(function(e,t,i){return'"'+n[i]+'"'})):e},_getColumnLabel:function(e){var t,n=this._getColumn(e);return n.isHidden?i.info("_getColumnLabel called on hidden column, check calling logic",e):t=n.heading.label,t},_isColumnFilterable:function(e){var t=this._getColumn(e);return!t.specialType&&t.filter&&!t.isHidden},_hasColumnFilterLov:function(e){const t=this._getColumn(e);return t.filter&&t.filter.hasLov},_getColumnType:function(){return rt},_getCurrentView:function(){var e=this._view(),t=this.options,i=t.config.views,n=i[e].useModelFrom;return n&&i[n].shareModel&&(e=n),t.savedReports[this.currentSavedReportIdx].views[e]},_currentViewImpl:function(){return this.viewsImpl[this._view()]},_view:function(t,i){var n,o,a,l,r,s,d,c,u=this,h=this.options.config,g=this.actions,p=!1,m=!1,f=this._currentReportSettings(),_=!1,C=[],I=e.extend({initialData:null,fetchData:!1},i);if(!t)return f.currentView;if(r=this._currentViewImpl(),this.viewsImpl[t].isConfigured()){for(a in f.currentView=t,l=this._currentViewImpl(),s=h.views[t].features,d=l.supports,r&&r.view$&&r.hide(),l.view$?(l.show(),this._updateModelRegionData(l),l.pendingRefresh&&(l.pendingRefresh=!1,l.refresh()),this._setReportSettings({changeIdentifier:"view.change"})):(this._getElement(l.elementId).show(),l.view$=this._getElement(l.elementId),l.setColumnConfig({baseModelColumns:this.baseModelColumns,igConfig:h,ig:this,currentReportSettings:f}),I.viewImpl=l,this._setModel(I),I.viewImpl.supports.edit&&(this.editableViewImpl=I.viewImpl),l.initView({ig$:this.element,ig:this,igConfig:h,currentReportSettings:f}),this._setInitialSelection(0),_=!0),o=this._refreshReportSettings(),this._updateLandmark(),C.push({labelKey:"APEX.IG.ALL_TEXT_COLUMNS",value:null}),l.modelColumns)if(vn(l.modelColumns,a)&&l.modelColumns[a].id&&this._isColumnFilterable(l.modelColumns[a].id)&&(p=!0,[Pi,Bi].includes(this._getColumn(l.modelColumns[a].id).filter.dataType)))for(n=0;n<this._getColumn(l.modelColumns[a].id).filter.operators.length;n++)["$perform$","C"].includes(this._getColumn(l.modelColumns[a].id).filter.operators[n].name)&&(m=!0,C.push({label:l.modelColumns[a].label,value:l.modelColumns[a].id}));h.filter.oracleText&&(m=!0),g.lookup("filter-column").choices=C,g.updateChoices("filter-column"),this._updateChangeViewActions(),this._toggleEnableAction(m,"search"),h.toolbar&&h.toolbar.searchField&&h.toolbar.columnSelection&&this._tbFindElement("column_filter_button").prop(bt,!m),_||o||l.resize(),this._toggleEnableAction(h.editable&&d.edit,["edit","save","selection-add-row","selection-add-row","row-add-row","selection-duplicate","row-duplicate","selection-delete","row-delete","selection-revert","row-revert"]),this._toggleEnableAction(h.editable&&d.edit&&d.singleRowView,["insert-record","delete-record","revert-record","duplicate-record"]),this._toggleEnableAction(d.controlBreak&&s.controlBreak,"show-control-break-dialog"),this._toggleEnableAction(d.aggregation&&s.aggregate,"show-aggregate-dialog"),this._toggleEnableAction(d.highlight&&s.highlight,"show-highlight-dialog"),this._toggleEnableAction(d.changeRowsPerPage&&s.changeRowsPerPage,"change-rows-per-page"),this._toggleEnableAction(d.singleRowView&&s.singleRowView,["single-row-view","refresh-record"]),this._toggleShowAction(l.canCopy2Clipboard(),"selection-copy"),this._toggleShowAction(l.model.getOption("identityField"),"selection-refresh"),this._toggleShowAction(d.cellSelection,"selection-mode"),(c=this._tbFind("selection_submenu"))&&(c.disabled=!l.selectionEnabled()),this._toggleEnableAction(d.configurableColumns,["show-columns-dialog","stretch-columns"]),this._toggleEnableAction(d.filter&&h.features.filter,"show-filter-dialog"),p||this._toggleEnableAction(!1,"show-filter-dialog"),this._toggleEnableAction(d.sort,"show-sort-dialog"),this._toggleEnableAction(d.download&&h.features.download,"show-download-dialog"),this._trigger(Fn,null,{view:t,created:_}),this._selectionChange(null),this._forEachView((function(e,i){i.viewChanged(e===t,u,h)}))}else this.viewsImpl[t].openDialog()},_destroyAllModels:function(){var e=this;this._forEachView((function(t,i){e._setModel({viewImpl:i,remove:!0}),i.view$&&(i.hide(),i.destroyView(e),i.view$=null)}))},_report:function(e){var t,i,n=this.options;if(!e)return this._currentReportSettings().id;for(this._destroyAllModels(),s.hidePageSuccess(),t=0;t<n.savedReports.length;t++)if(n.savedReports[t].id===e){this.currentSavedReportIdx=t;break}i=this._currentViewImpl(),this._forEachView((function(e,t){t.view$&&t.hide()})),i.view$||(i.view$=this._getElement(i.elementId)),this._updateLandmark(),i.view$.show(),i.setColumnConfig({baseModelColumns:this.baseModelColumns,igConfig:n.config,currentReportSettings:this._currentReportSettings(),ig:this}),this.reportSettingsSeq+=1,this._setModel({viewImpl:i}),i.initView({ig$:this.element,ig:this,igConfig:n.config,currentReportSettings:this._currentReportSettings()}),this._updateActions(),this.editMode=!1,this.actions.update("edit"),this._updateChangeViewActions(),this._clearToolbarSearch(),this._trigger(Fn,null,{view:i.internalIdentifier,created:!0}),this._refreshReportSettings(),this._updateModelRegionData(i),this.refresh(),this._trigger("reportChange",null,{report:this._report()})},_currentReportSettings:function(){return this.options.savedReports[this.currentSavedReportIdx]},_updateModelRegionData:function(e){var t=e.internalIdentifier,i=this.options.config.views,n=i[t].useModelFrom,o=e.model.getOption("regionData");o.reportId=this._report(),n&&i[n].shareModel&&(t=n),o.view=t},_updateLandmark:function(){this._getElement("content_container").attr($e,this._getLandmarkLabel())},_shortenString:function(e,t){var i=t||20;return e.length>i?e.substr(0,i)+"...":e},_adjustControlBreakSort:function(){var t,i,n=[],o=this,a=o._getCurrentView().columns;for(t=0;t<a.length;t++)!a[t].sort||null===a[t].sort.order||a[t].break&&a[t].break.isEnabled||n.push({columnId:a[t].columnId,order:a[t].sort.order});for(n.sort((function(e,t){return e.order-t.order})),t=0;t<n.length;t++)for(i=0;i<a.length;i++)n[t].columnId===a[i].columnId&&e.extend(o._currentViewImpl().modelColumns[o._getColumn(a[i].columnId).name],{sortIndex:t+1})},_getSettingLabel:function(e,t){var i,n,a="APEX.IG.",l=[_i,Ci,vi,Ei,Ii,bi,"LIKE","NLIKE",Ri,Si,xi,Hi,Fi,"OTEXT"],r=[wi,Ai],s=[yi,Oi],d=[Vi,ki,Di,Mi];function c(e,t){return e&&null!==e.match(/^\d{14}/)?p.format(p.parse(e,Cn),t):""}function u(e,t){const i=h.formatNumber(e,t);return"NaN"!==i?i:e}let g;switch(e){case kt:switch(t.type){case rt:g=this._getColumn(t.columnId),a+="X.",t.columnId=t.columnId?t.columnId:this._getCurrentView().columns[0].columnId,l.includes(t.operator)&&(a+=In[t.operator]+".Y",i=Ki.includes(g.filter.dataType)?o.formatMessage(a,this._getColumnLabel(t.columnId),c(t.hiddenValue?t.hiddenValue:t.value,g.appearance.dateFormatMask)):g.filter.dataType===Gi?o.formatMessage(a,this._getColumnLabel(t.columnId),u(t.hiddenValue?t.hiddenValue:t.value,g.appearance.formatMask)):o.formatMessage(a,this._getColumnLabel(t.columnId),t.value)),[Ti,Li].includes(t.operator)&&(a+=In[t.operator]+".Y",i=o.formatMessage(a,this._getColumnLabel(t.columnId),t.value.split("").join("; "))),r.includes(t.operator)&&(a+=In[t.operator],i=o.formatMessage(a,this._getColumnLabel(t.columnId))),s.includes(t.operator)&&(a+=In[t.operator]+".Y.AND.Z",n=t.hiddenBetween||t.hiddenAnd?[t.hiddenBetween,t.hiddenAnd]:t.value.split(Qt),i=Ki.includes(g.filter.dataType)?o.formatMessage(a,this._getColumnLabel(t.columnId),c(n[0],g.appearance.dateFormatMask),c(n[1],g.appearance.dateFormatMask)):g.filter.dataType===Gi?o.formatMessage(a,this._getColumnLabel(t.columnId),u(n[0],g.appearance.formatMask),u(n[1],g.appearance.formatMask)):o.formatMessage(a,this._getColumnLabel(t.columnId),n[0],n[1])),d.includes(t.operator)&&(2!==(n=t.value.split(Qt)).length&&(n=["","MI"]),"1"===n[0]?(a+=In[t.operator]+"_"+Tn[n[1]],i=o.formatMessage(a,this._getColumnLabel(t.columnId))):(a+=In[t.operator]+".Y."+Tn[n[1]]+"S",i=o.formatMessage(a,this._getColumnLabel(t.columnId),n[0])));break;case st:i=t.name;break;case lt:a+="SEARCH_FOR.X",i=o.formatMessage(a,t.search||t.value)}break;case Ft:i=this._getColumnLabel(t.columnId);break;case Ht:i=An(t.function)+" ("+this._getColumnLabel(t.columnId)+")";break;case Dt:i=this._shortenString(t.name?t.name:this._getColumnLabel(t.condition.columnId));break;case Mt:1===t.minsAgo?i=wn(a+="REPORT_DATA_AS_OF_ONE_MINUTE_AGO"):(a+="REPORT_DATA_AS_OF.X.MINUTES_AGO",i=o.formatMessage(a,t.minsAgo))}return i},_getSettingSummaryLabel:function(e,t){var i,n="APEX.IG.";switch(e){case kt:switch(t.type){case rt:i=this._getColumnLabel(t.columnId);break;case st:i=this._shortenString(t.name);break;case lt:i="'"+this._shortenString(t.value,18)+"'"}break;case Ft:i=this._getColumnLabel(t.columnId);break;case Dt:i=this._shortenString(t.name?t.name:this._getColumnLabel(t.condition.columnId));break;case Mt:1===t.minsAgo?i=wn(n+="ONE_MINUTE_AGO"):(n+="X.MINUTES_AGO",i=o.formatMessage(n,t.minsAgo));break;case Ht:i=this._shortenString(this._getColumnLabel(t.columnId))}return i},_getTotalReportSettings:function(){var e,t=0,i=this._getCurrentView(),n=this._currentReportSettings();switch(n.filters&&(t+=n.filters.length),n.flashback&&(t+=1),this._view()){case wt:for(e=0;e<i.columns.length;e++)i.columns[e].break&&(t+=1);i.highlights&&(t+=i.highlights.length),i.aggregations&&(t+=i.aggregations.length);break;case Rt:i&&(t+=1)}return t},_renderReportSettings:function(t){var i,n=[],a=this,l=this._getCurrentView(),r=this._currentReportSettings(),s=this._getTotalReportSettings()>0;t.markup("<div").attr(ai,De+" "+B).attr(li,jt).attr($e,An("REPORT_SETTINGS")).attr("id",this._getId("report_settings")),s||t.attr("style","display:none;"),t.markup(">"),t.markup("<div").attr(ai,Me).attr(li,"heading").attr(je,"3").markup(">"),t.markup("<h3").attr(Xe,"true").attr(ai,Ue).markup(">").content(An("REPORT_SETTINGS")).markup("</h3>"),no(t,{buttonClass:Se+" "+Q+" "+J}),t.markup("</div>"),function(t){function s(t,i){var n={},l=e.extend({type:"",id:"",active:!1,label:"",excludeToggle:!1,isInvalid:!1,linkStyle:""},i),r=k+" "+D+l.type;n.setting=l.type,n["setting-id"]=l.id,l.isInvalid&&(r+=" is-error"),t.markup("<li").attr(ai,r).attr(li,jt).attr(Ke,"control_text"+l.id).markup(">"),t.markup("<span").attr(ai,M).markup(">"),l.excludeToggle||(oo(t,{id:a._getId("control_"+l.id),cssClasses:F,checked:l.active,ariaLabel:Sn[l.type],ariaDescribedBy:"control_text"+l.id,data:n,disabled:l.isInvalid,invalid:l.isInvalid}),lo(t,{labelFor:a._getId("control_"+l.id),cssClasses:P,ariaHidden:!0})),t.markup("</span>"),t.markup("<span").attr(ai,M).markup(">").markup("<span").attr(Xe,"true").attr(ai,Oe+" "+G+" "+te+jn(l.type)).markup("></span>").markup("</span>"),t.markup("<span").attr(ai,M+" "+x).markup(">"),l.isInvalid?t.markup("<span").attr("id","control_text"+l.id).attr(ai,U).markup(">").markup(l.label).markup("</span>"):(t.markup("<button type='button'").attr(ai,U).attr($e,o.formatMessage("APEX.IG.EDIT_CONTROL",Sn[l.type])).optionalAttr(We,l.excludeToggle?null:a._getId("control_"+l.id)).attr(Ye,"control_text"+l.id).attr("data-setting",l.type).attr("data-setting-id",l.id).optionalAttr("style",l.linkStyle).markup(">"),t.markup("<span").attr("id","control_text"+l.id).markup(">").markup(l.label).markup("</span>"),t.markup("</button>")),t.markup("</span>"),t.markup("<span").attr(ai,M+" "+H).markup(">"),no(t,{buttonClass:Se+" "+Te+" "+Q+" "+ee,iconOnly:!0,icon:"icon-remove",label:o.formatMessage("APEX.IG.REMOVE_CONTROL",Sn[l.type]),data:n,ariaControls:l.excludeToggle?null:a._getId("control_"+l.id),ariaDescribedBy:"control_text"+l.id}),t.markup("</span>"),t.markup("</li>")}if(t.markup("<div").attr(ai,xe).markup(">"),t.markup("<ul").attr(ai,V).markup(">"),r.views.chart&&a._view()===Rt&&s(t,{type:Rt,excludeToggle:!0,label:An("EDIT_CHART")}),r.filters)for(i=0;i<r.filters.length;i++)r.filters[i].operation!==zt&&s(t,{type:kt,id:r.filters[i].id,active:r.filters[i].isEnabled,label:a._getSettingLabel(kt,r.filters[i]),isInvalid:r.filters[i].isInvalid});if(a._currentViewImpl().supports.controlBreak&&l){for(i=0;i<l.columns.length;i++)l.columns[i].break&&l.columns[i].break.operation!==zt&&n.push(l.columns[i]);if(n.length>0)for(n.sort((function(e,t){var i=e.break.order,n=t.break.order;return i<n?-1:i>n?1:0})),i=0;i<n.length;i++)s(t,{type:Ft,id:n[i].columnId,active:n[i].break.isEnabled,label:a._getSettingLabel(Ft,n[i])})}if(a._currentViewImpl().supports.highlight&&l.highlights)for(i=0;i<l.highlights.length;i++)l.highlights[i].operation!==zt&&s(t,{type:Dt,id:l.highlights[i].id,active:l.highlights[i].isEnabled,label:a._getSettingLabel(Dt,l.highlights[i]),isInvalid:l.highlights[i].isInvalid,linkStyle:"background:"+l.highlights[i].backgroundColor+";color:"+l.highlights[i].textColor});if(a._currentViewImpl().supports.aggregation&&l.aggregations)for(i=0;i<l.aggregations.length;i++)l.aggregations[i].operation!==zt&&s(t,{type:Ht,id:l.aggregations[i].id,active:l.aggregations[i].isEnabled,label:a._getSettingLabel(Ht,l.aggregations[i])});r.flashback&&r.flashback.operation!==zt&&s(t,{type:Mt,id:Mt,active:r.flashback.isEnabled,label:a._getSettingLabel(Mt,r.flashback)}),t.markup("</ul></div>")}(t),function(t){var i=0,o=0;function d(e,t,n){var l,r,s,d="",u=[],h=!0;for(l=0;l<n.length;l++)n[l].operation!==zt&&(t===Ft?r=n[l].break.isEnabled:(r=n[l].isEnabled,s=n[l].isInvalid),s?o+=1:r?(u.push(l),h||(d+=", "),d+=a._getSettingSummaryLabel(t,n[l]),h=!1):i+=1);u.length>0&&c(e,{type:t,id:n[u[0]],count:u.length,label:d})}function c(t,i){var n=e.extend({type:"",id:"",count:0,label:""},i);t.markup("<li").attr(ai,K+" "+Y+n.type).markup(">"),t.markup("<a href='#'").attr(ai,W).attr("data-setting",n.type).optionalAttr("data-setting-id",n.id).markup(">"),t.markup("<span").attr(ai,z).attr(li,"img").attr($e,Sn[n.type]).markup(">"),t.markup("<span").attr(ai,Oe+" "+te+jn(n.type)).markup("></span>"),(n.count>1||n.type===St||n.type===Tt)&&t.markup("<span").attr(ai,j).markup(">").content(n.count).markup("</span>"),t.markup("</span>"),t.markup("<span").attr(ai,Z).markup(">").content(n.label).markup("</span>"),t.markup("</a>")}t.markup("<div").attr(ai,$),r.reportSettingsArea===_t&&t.attr("style","display:none;"),t.attr("id",a._getId("report_settings_summary")),s||t.attr("style","display:none;"),t.markup(">"),t.markup("<ul").attr(ai,X).markup(">"),r.views.chart&&a._view()===Rt&&c(t,{type:Rt,label:An("EDIT_CHART")}),r.filters&&d(t,kt,r.filters),n.length>0&&d(t,Ft,n),l.highlights&&d(t,Dt,l.highlights),l.aggregations&&d(t,Ht,l.aggregations),r.flashback&&(r.flashback.isEnabled?c(t,{type:Mt,label:a._getSettingSummaryLabel(Mt,r.flashback)}):i+=1),i>0&&c(t,{type:St,count:i,label:An(1===i?"INACTIVE_SETTING":"INACTIVE_SETTINGS")}),o>0&&c(t,{type:Tt,count:o,label:An(1===i?"INVALID_SETTING":"INVALID_SETTINGS")}),t.markup("</ul></div>")}(t),t.markup("</div>")},_initReportSettings:function(){var t=this,i=this.options.config.maxHeight,n=this._getElement("report_settings"),o=t._currentReportSettings();function a(e,i,a){if(o.reportSettingsArea===e){var l=n.data("apex-collapsible").controllingElement$.is(":focus");o.reportSettingsArea=i,t._setOperationUpdate(o),t._setReportSettings({},(function(){l&&t._getElement("report_settings").data("apex-collapsible").controllingElement$.trigger("focus")})),t._getElement("report_settings_summary")[a](),t.resize()}}this._getTotalReportSettings()>0&&(this._on(n,{"click button.a-IG-controlsLabel":function(t){var i=e(t.currentTarget);this._openDialog(i.data("setting"),{id:i.data("setting-id")+""}),t.preventDefault()},"click a.a-IG-reportSummary-label":function(t){var i=e(t.currentTarget),o=i.data("setting");o===St||o===Tt?n.collapsible("expand"):this._openDialog(o,{id:i.data("setting-id")+""}),t.preventDefault()},"click input.a-IG-controlsCheckbox":function(t){var i=e(t.target),n=i.prop(vt),o=i.data("setting"),a=i.data("setting-id")+"";switch(o){case kt:this.updateFilter(a,{isEnabled:n});break;case Ht:this.updateAggregate(a,{isEnabled:n});break;case Dt:this.updateHighlight(a,{isEnabled:n});break;case Ft:this.updateControlBreak(a,{isEnabled:n});break;case Mt:this.updateFlashback({isEnabled:n})}},"click button.a-IG-button--remove":function(t){var i=e(t.currentTarget),n=i.data("setting"),o=i.data("setting-id")+"";switch(t.preventDefault(),n){case kt:this.deleteFilter(o);break;case Ht:this.deleteAggregate(o);break;case Dt:this.deleteHighlight(o);break;case Ft:this.deleteControlBreak(o);break;case Mt:this.deleteFlashback();break;case Rt:this.deleteChart()}}}),n.collapsible({content:"div."+xe,collapsed:o.reportSettingsArea===Ct,collapse:function(){a(_t,Ct,mt)},expand:function(){a(Ct,_t,ft)}}),i&&n.find(".a-Collapsible-content").css({"max-height":(i-(e(C,this.element).outerHeight()||0))/3+"px",overflow:"auto"}))},_isSettingsCheckboxFocused:function(t,i){var n;return!(!document.activeElement||"checkbox"!==document.activeElement.type)&&((n=e(document.activeElement).data()).setting===i&&""+n.settingId===t)},_focusOnSettingsCheckbox:function(e,t,i){var n;e&&(n="."+F+"[data-setting="+i+"]",t&&(n+="[data-setting-id="+t+"]"),this._getElement("report_settings").find(n).trigger("focus"))},_currentViewColumn:function(t,i){var n,o,a=this._getCurrentView().columns;for(n=0;n<a.length;n++)if(a[n].columnId===t){o=a[n];break}return e.isPlainObject(i)&&(o=e.extend(!0,o,i),this._setOperationUpdate(o)),o},_refreshReportSettings:function(){var e,i=this._getElement("report_settings"),n=t.htmlBuilder();return!(!i[0]||(e=i[0].clientHeight,this._renderReportSettings(n),i.replaceWith(n.toString()),this._initReportSettings(),e===this._getElement("report_settings")[0].clientHeight))&&(this.resize(),!0)},_defaultAjaxRegionData:function(t){var i=this.options.config,n=e.extend(!0,{id:i.regionId,ajaxIdentifier:i.ajaxIdentifier,ajaxColumns:i.ajaxColumns,reportId:this._report(),view:this._view()},t);return this._isCurrentlyEditable()&&(n.allowedOperations=i.editable.allowedOperations.protected),n},_call:function(e,t){var i=this.options.config,o={regions:[this._defaultAjaxRegionData(e)]};return i.parentRegionStaticId&&this.parentItemValues.length>0&&(o.regions[0].parentItems={values:this.parentItemValues}),i.loadingIndicator&&(t.loadingIndicator=i.loadingIndicator),(i.callServer||n.plugin)(o,t)},_setReportSettings:function(t,i){function n(e){for(let t=0;t<e.length;t++)e[t].operation&&!e[t]._isBeingProcessed||(e.splice(t,1),t-=1)}var o,a,l={},r=this.options.config,d=this,c=e.extend({refreshView:!1,refreshModel:!1,affectsOtherViewsModels:!1,refreshColumns:!1,changeIdentifier:""},t);return c.refreshModel=c.refreshModel||!this._currentReportSettings().baseReportId&&this._getCurrentView()?.highlights?.length>0,(o=e.extend(!0,{},this._currentReportSettings())).filters&&o.filters.length>0&&(n(o.filters),function(e){for(let t=0;t<e.length;t++)e[t].operation&&[Wt,zt].includes(e[t].operation)&&(e[t]._isBeingProcessed=!0)}(this._currentReportSettings().filters)),r.views.grid&&n(o.views.grid.columns),r.views.icon&&n(o.views.icon.columns),r.views.detail&&n(o.views.detail.columns),r.features.saveReport&&r.features.saveReport.publicReportCs&&(l.publicReportCs=r.features.saveReport.publicReportCs),a={success:function(e){let t,n,o,a=d._defaultSavedReport(e.regions[0].setReportSettings[0]);s.hidePageSuccess(),d._view()!==a.currentView&&d._view(a.currentView,{fetchData:!0}),d.options.savedReports[d.currentSavedReportIdx]=a,t=d.getCurrentView(),t.internalIdentifier===wt&&(n=t.curInst,d.getAggregates()?.length>0?n.options.rowHeader=ni:n.options.rowHeader===ni&&(n.options.rowHeader=n.options.rowHeaderCheckbox?ii:$t)),d._updateChangeReportAction(),d._updateChangeViewActions(),d._updateReportSettingsActions(),d._refreshReportSettings(),o=d._currentViewImpl(),d._updateModelRegionData(o),a=d._currentReportSettings(),d._forEachView((function(e,t){t.setReportOptions(d,e===a.currentView,a,c.changeIdentifier),t.supports.highlight&&"views.grid.highlights"!==c.changeIdentifier&&t.setReportOptions(d,e===a.currentView,a,"views.grid.highlights")})),c.refreshColumns&&o.refreshColumns(),c.refreshView?o.refresh():c.refreshModel&&(d.reportSettingsSeq+=1,c.affectsOtherViewsModels?d._forEachView((function(e,t){t.model&&t.clearModelData()})):o.clearModelData()),i&&i(),d._trigger("reportSettingsChange",null,{report:a.id})},queue:{name:"set.report.settings.wait",action:"wait"}},e.extend(l,{setReportSettings:[o]}),this._call(l,a)},_downloadReport:function(t){var o,a,r=this.options.config,d=this;o={pageItems:r.itemsToSubmit,regions:[{id:r.regionId,ajaxIdentifier:r.ajaxIdentifier,ajaxColumns:r.ajaxColumns,reportId:this._report(),view:this._view(),download:e.extend({downloadCs:r.features.download.downloadCs},t)}],salt:$v("pSalt")},(a=l(r.regionStaticId).getParentItems())&&(o.regions[0].parentItems=a),t.email?n.plugin(o,{dataType:et,loadingIndicator:d.element,loadingIndicatorPosition:"centered",success:function(){s.showPageSuccess(An("EMAIL_SENT"))}}):n.plugin(o,{loadingIndicator:d.element,loadingIndicatorPosition:"centered",success:function(e){var t;s.showPageSuccess(An("FILE_PREPARED")),t=n.ajaxUrl({regions:[{id:r.regionId,reportId:d._report(),ajaxIdentifier:r.ajaxIdentifier,downloadFileId:e.regions[0].download.id}],salt:$v("pSalt")}),i.info("Calling URL to get file:",t),i.info("URL length:",t.length),g.download(t)}})},_saveReport:function(e,t){var n,o={},a=this,l=this.options.config;if(l.features.saveReport)return o.saveReport=e,l.features.saveReport.publicReportCs&&(o.publicReportCs=l.features.saveReport.publicReportCs),this._call(o,{success:function(e){switch(a.options.savedReports=a._defaultSavedReports({reports:e.regions[0].savedReports}),a._updateChangeReportAction(),a._updateReportSettingsActions(),a._refreshReportSettings(),a._updateModelRegionData(a._currentViewImpl()),t){case Wt:case"u":switch(a._currentReportSettings().type){case Lt:n=An("REPORT.SAVED.DEFAULT");break;case Nt:n=An("REPORT.SAVED.ALTERNATIVE");break;case yt:n=An("REPORT.SAVED.PRIVATE");break;case Ot:n=An("REPORT.SAVED.PUBLIC")}break;case zt:n=An("REPORT.DELETED")}s.showPageSuccess(n),t===zt&&a.refresh(),a._updateLandmark()}});i.warn("Unable to save report settings because the configuration disallows it.")},_getFilterValues:function(e,t,i){var n=this;return this._call({getFilterValues:{columnId:e,columnType:rt,respectFilters:t}},{success:function(e){"function"==typeof i&&i.call(n,e)}})},_updateChangeReportAction:function(){var e,t,i,n,o=[],a=this.options.config,l=this.options.savedReports,r=this.actions;if(l.length>1){for(e=0;e<l.length;e++){switch(n=(t=l[e]).name,t.type){case Lt:i="APEX.IG.SAVED_REPORT_DEFAULT",t.name||(n=An("PRIMARY_REPORT"));break;case Nt:i="APEX.IG.SAVED_REPORT_DEFAULT";break;case yt:i="APEX.IG.SAVED_REPORT_PRIVATE";break;case Ot:i="APEX.IG.SAVED_REPORT_PUBLIC"}o.push({group:wn(i),label:n,value:t.id})}this.actions.lookup("change-report").hide=!(!a.toolbar||a.toolbar&&a.toolbar.savedReports)}else this.actions.lookup("change-report").hide=!0;this.actions.update("change-report"),r.lookup("change-report").choices=o,r.updateChoices("change-report")},_updateAction:function(e,t){this.actions.lookup(t)&&this.actions[e](t)},_toggleEnableAction:function(e,t){this._toggleAction("enable",e,t)},_toggleShowAction:function(e,t){this._toggleAction(mt,e,t)},_toggleAction:function(e,t,i){let n;switch(e){case mt:n=t?mt:ft;break;case"enable":n=t?"enable":"disable"}En(i)?i.forEach((e=>{this._updateAction(n,e)})):this._updateAction(n,i)},_getLandmarkLabel:function(){const e=this.getCurrentView(),t=this._currentReportSettings(),i=e.label,n=t.name;let a;return"grid"===e.internalIdentifier?(a=e.supports.singleRowView&&e.singleRowMode?An("SINGLE_ROW_VIEW"):An("GRID_VIEW"),this.editMode&&(a=apex.lang.formatMessage("APEX.IG.EDIT_MODE",a))):a=i,this.options.savedReports.length>1&&(n||t.type!==Lt?a+=", "+o.formatMessage("APEX.IG.SAVED_REPORT",n):a+=", "+An("PRIMARY_REPORT")),a},_updateToolbarElements:function(){var e=this.options.config.toolbar;e&&(e.searchField&&(e.columnSelection&&this._tbFindElement("column_filter_button").show(),this._tbFindElement("search_field").show()),e.actionMenu&&this._tbFindElement("actions_button").show())},_updateActions:function(){var e=this,t=this.options.config,i=t.features,n=!1,o=!1,a=!1,l=this._isCurrentlyEditable(),r=t.editable.allowedOperations,s=l&&r.create,d=l&&r[ht],c=l&&(r.update||r[ht]),u=t.toolbar,h=l&&(r.update||r.create)&&(!u||u&&u.editing),g=l&&(r.create||r.update||r[ht])&&(!u||u&&u.save),p=!u||u&&u.searchField,m=!u||u&&u.reset,f=t.pagination.type===Yt;i.saveReport&&this._updateChangeReportAction(),this._toggleShowAction(i.filter,"show-filter-dialog"),this._toggleShowAction(i.download,"show-download-dialog"),this._toggleShowAction(i.flashback,"show-flashback-dialog"),this._updateReportSettingsActions(),this._toggleShowAction(s,["selection-add-row","row-add-row","selection-duplicate","row-duplicate"]),this._toggleShowAction(d,["selection-delete","row-delete"]),this._toggleShowAction(c,["selection-revert","row-revert"]),this._toggleShowAction(h,"edit"),this._toggleShowAction(g,"save"),this._toggleShowAction(p,"search"),this._toggleShowAction(m,"reset-report"),this._forEachView((function(i,r){var c=t.views[i].features;r.supports.singleRowView&&c.singleRowView&&(n=!0),r.supports.highlight&&c.highlight&&(o=!0),r.supports.configurableColumns&&null===c.stretchColumns&&!1!==c.gridView&&(a=!0),r.updateActions({ig:e,editable:l,canDelete:d,canCreate:s,canEdit:h})})),this._toggleShowAction(n,["single-row-view","refresh-record"]),this._toggleShowAction(s&&n,["insert-record","duplicate-record"]),this._toggleShowAction(d&&n,["delete-record"]),this._toggleShowAction(c&&n,["revert-record"]),this._toggleShowAction(o,"show-highlight-dialog"),this._toggleShowAction(f,"change-rows-per-page"),this._toggleShowAction(a,"stretch-columns")},_updateReportSettingsActions:function(){var e=this._currentReportSettings(),t=this.options.config.features.saveReport,i=!e.isReadOnly;this._toggleEnableAction(t&&i&&e.baseReportId,"save-report"),this._toggleEnableAction(t,"show-save-report-as-dialog"),this._toggleEnableAction(t&&i,"show-edit-report-dialog"),this._toggleEnableAction(t&&i&&e.type!==Lt,"delete-report"),this._toggleEnableAction(e.baseReportId,"reset-report")},_updateChangeViewActions:function(){var e=[],t=this.actions;this._forEachView((function(t,i){i.isConfigured()&&e.push({label:i.title,value:t,icon:i.icon})})),this._toggleShowAction(e.length>1,"change-view"),t.lookup("change-view").choices=e,t.updateChoices("change-view")},_updateSelectionActions:function(){var e,t,i,n,o=this.options.config,a=this._currentViewImpl(),l=o.editable&&a.supports.edit;a.singleRowMode||(a.selectCells&&a.selectCells()?(n=a.view$.grid("getSelectedRange").recordIds.length,this._toggleEnableAction(!1,["selection-refresh"]),this._toggleEnableAction(0!==n,["selection-copy"]),l&&(this._toggleEnableAction(this._isCurrentlyEditable()&&0!==n,["selection-fill","selection-clear","selection-revert"]),this._toggleEnableAction(!1,["selection-duplicate","selection-delete","selection-revert","row-delete"]),this._toggleEnableAction(n>=2,["selection-copy-down"]))):(n=(e=a.getSelectedRecords())?e.length:0,this._toggleEnableAction(0!==n,["selection-refresh","selection-copy"]),l&&(this._toggleEnableAction(this._isCurrentlyEditable()&&0!==n,["selection-duplicate","selection-delete","selection-revert","selection-fill","selection-clear"]),o.editable.allowedOperations[ht]&&(t=e.some((function(e){return a.model.allowDelete(e)})),this._toggleEnableAction(t,["row-delete","selection-delete","selection-fill","selection-clear"])),i=e.some((function(e){return a.model.canRevertRecord(e)})),this._toggleEnableAction(i,["row-revert","selection-revert"]),this._toggleEnableAction(n>=2,["selection-copy-down"]))))},_setFilterColumn:function(e){var t;this.currentFilterColumnId=e,t=e?o.formatMessage("APEX.IG.SEARCH.COLUMN",this._getColumn(e).heading.label):this.options.config.filter.oracleText?An("SEARCH.ORACLE_TEXT"):An("SEARCH.ALL_COLUMNS"),this._tbFindElement("search_field").attr({placeholder:t,title:t})},_defaultIGConfig:function(){var t,i,n=this.options.config;if(n.filter.maxRowCount&&(n.text.moreDataFound=o.formatMessage("APEX.IG.MORE_DATA_FOUND",n.filter.maxRowCount)),n.columnGroups.length>0)for(t=0;t<n.columnGroups.length;t++)(i=n.columnGroups[t]).label||(i.label=i.heading);n.editable&&(n.editable=e.extend(!0,{allowedOperations:{create:!0,update:!0,delete:!0,protected:""},autoAddRow:!0},n.editable),n.editable.allowedOperations.create||(n.editable.autoAddRow=!1)),n.features.download&&(n.features.download=e.extend({formats:[],email:!0},n.features.download)),n.views.icon&&(n.views.icon=e.extend(!0,{disabled:!1,labelColumn:"",features:{sort:!0,highlight:!0,rowSelector:{multiSelect:!0,selectAll:!1,hideControl:!1}}},n.views.icon)),n.views.detail&&(n.views.detail=e.extend(!0,{disabled:!1,beforeRows:"",row:"",afterRows:"",features:{sort:!0,controlBreak:!0}},n.views.detail))},_defaultColumns:function(){var t,i,n=this.options.config.columns;for(t=0;t<n.length;t++)(i=e.extend(!0,{id:"",name:"",staticId:"",dataType:Pi,specialType:"",isHidden:!1,isReadOnly:!0,heading:{heading:"",label:"",alignment:ct},layout:{columnAlignment:dt,groupId:"",useGroupFor:"both"},appearance:{columnCssClasses:"",formatExample:""},validation:{isRequired:!1,restrictedCharacters:""},link:{text:"",attributes:""},filter:{operators:[{name:"$std$"},{name:"$perform$"}],dateRanges:pi,isRequired:!1,hasLov:!0,dataType:Pi},accessibility:{usedAsRowHeader:!1},features:{canHide:!0,highlight:!0,compute:!0,sort:!0,controlBreak:!0,aggregate:!0,groupBy:!0},isPrimaryKey:!1,parentColumnName:"",default:{value:"",duplicate:!0},escape:!0,helpid:""},n[t])).heading.label||(i.heading.label=i.heading.heading),i.filter.dataType!==Pi||i.filter.textCase||(i.filter.textCase="MIXED"),n[t]=i},_createBaseColumnMap:function(){var e,t,i,n=this.options.config.columns,o=0;for(e=0;e<n.length;e++)t=n[e],i=this.baseModelColumns[t.id]={index:e-o,hidden:t.isHidden,readonly:t.isReadOnly,escape:t.escape,sanitize:t.sanitize,id:t.id,dataType:t.dataType},t.isHidden?i.canHide=!1:(i.heading=t.heading.heading,i.headingAlignment=t.heading.alignment,i.label=t.heading.label,i.alignment=t.layout.columnAlignment,t.appearance.formatMask&&(i.formatMask=t.appearance.formatMask)),t.parentColumnName&&(i.parentField=t.parentColumnName,this.parentColumnNames.push(t.parentColumnName)),this.columnMap[t.id]=t,t.isPrimaryKey&&this.primaryKeyColumns.push(t.name),"actions"===t.specialType&&(o+=1);this.baseModelColumns[ti]={index:e-o,seq:e,hidden:!0,canHide:!1}},_defaultSavedReport:function(t){var n,o,a,l,r,s,d,c=this,u=this.options.config,h=u.views;function g(t,i){var n,o,a,l={};if(i){for(n=0;n<t.length;n++)l[t[n].columnId]=1;for(n=0;n<u.columns.length;n++)l[(o=u.columns[n]).id]||t.push({columnId:o.id,operation:Wt,isVisible:!1})}for(n=0;n<t.length;n++)(a=e.extend({seq:null,columnType:rt,columnId:"",isVisible:!0,isFrozen:!1,width:null,priority:null,break:!1,sort:!1},t[n])).seq!==n+1&&(a.seq=n+1,c._setOperationUpdate(a)),a.break&&(a.break=e.extend({order:null,isEnabled:!0,direction:Bt,nulls:Xt},a.break)),a.sort&&(a.sort=e.extend({order:null,direction:Bt,nulls:Xt},a.sort)),c._getColumn(a.columnId)?t[n]=a:(t.splice(n,1),n-=1)}if(!h[(o=e.extend(!0,{id:"",baseReportId:"",name:"",isCurrent:!1,type:Lt,isReadOnly:!0,authorizationId:"",rowsPerPage:null,showRowNumbers:!1,reportSettingsArea:Ct,defaultFilterColumn:!1,flashback:!1,versionNumber:"",filters:[],currentView:wt,views:{grid:!1,chart:!1,icon:!1,detail:!1}},t)).currentView]||h[o.currentView].disabled){for(n in o.currentView=null,h)if(vn(h,n)&&h[n]&&!h[n].disabled){o.currentView=n;break}this.options.data=null,u.lazyLoading=!0,i.warn("Current view not available. Using view %s. Forcing lazy load.",o.currentView)}for(o.flashback&&(o.flashback=e.extend({minsAgo:null,isEnabled:!0},o.flashback)),n=0;n<o.filters.length;n++)(a=e.extend(!0,{id:"",type:lt,isCaseSensitive:!1,value:"",isEnabled:!0},o.filters[n])).columnId&&!a.columnType&&(a.columnType=rt),a.type!==rt||this._getColumn(a.columnId)?o.filters[n]=a:(o.filters.splice(n,1),n-=1);if(o.views.grid||h.grid){for(o.views.grid=e.extend(!0,{editMode:!1,singleRowView:{excludeNullValues:!1,onlyDisplayColumns:!0},columns:[],aggregations:[],highlights:[],initialBreakState:Ct,stretchColumns:!0},o.views.grid),g(o.views.grid.columns,!0),n=0;n<o.views.grid.aggregations.length;n++)(l=e.extend({id:"",function:"",columnType:rt,columnId:"",tooltip:"",showGrandTotal:!0,isEnabled:!0},o.views.grid.aggregations[n])).label||(l.label=l.function),this._getColumn(l.columnId)?o.views.grid.aggregations[n]=l:(o.views.grid.aggregations.splice(n,1),n-=1);for(n=0;n<o.views.grid.highlights.length;n++)(r=e.extend(!0,{id:"",name:"",type:lt,columnType:rt,columnId:"",backgroundColor:"",textColor:"",condition:{type:rt,columnType:rt,columnId:"",operator:"",isCaseSensitive:!1,value:"",expression:""},isEnabled:!0},o.views.grid.highlights[n])).type===rt&&!this._getColumn(r.columnId)||r.condition.type===rt&&!this._getColumn(r.condition.columnId)?(o.views.grid.highlights.splice(n,1),n-=1):o.views.grid.highlights[n]=r}if((o.views.icon||h.icon)&&(o.views.icon=e.extend(!0,{columns:[],initialBreakState:Ct},o.views.icon),g(o.views.icon.columns)),(o.views.detail||h.detail)&&(o.views.detail=e.extend(!0,{columns:[],initialBreakState:Ct},o.views.detail),g(o.views.detail.columns)),o.views.chart)for(s in o.views.chart=e.extend(!0,{type:Wi,orientation:rn,stack:dn},o.views.chart),o.views.chart.axis&&(o.views.chart.axis=e.extend({label:"",value:"",valueDecimalPlaces:""},o.views.chart.axis)),o.views.chart.chartColumns)vn(o.views.chart.chartColumns,s)&&(d=o.views.chart.chartColumns[s],(d=e.extend({columnType:rt},d)).sort&&(d.sort=e.extend({order:null,direction:Bt,nulls:Xt},d.sort)),o.views.chart.chartColumns[s]=d);return o},_defaultSavedReports:function(t){var i,n=!1,o=e.extend({reports:this.options.savedReports},t);for(i=0;i<o.reports.length;i++)o.reports[i]=this._defaultSavedReport(o.reports[i]),o.reports[i].isCurrent&&(n=!0,this.currentSavedReportIdx=i);return n||(this.currentSavedReportIdx=0),o.reports},_renderColumnHeaderMenu:function(t,i,n,a){function l(t,i){var n=e.extend(!0,{buttonClass:"a-IRR-button "+ce,label:"",iconOnly:!0,icon:"",isToggle:!1,toggleState:null,attributes:{},data:{}},i);t.markup("<li").attr(ai,de).markup(">"),n.isToggle&&(n.attributes["aria-pressed"]=n.toggleState,n.toggleState&&(n.buttonClass+=" "+He),delete n.isToggle,delete n.toggleState),no(t,n),t.markup("</li>")}var r,s,d,c=!1,u=this._getId("column_header_search"),h=this._getColumn(a),g=this._currentReportSettings().views.grid.columns,p=0;for(t.markup("<h1").attr(ai,Ue).attr("aria-roledescription",o.getMessage("APEX.DIALOG.VISUALLY_HIDDEN_TITLE")).markup(">").content(o.formatMessage("APEX.IG.COLUMN_HEADER_ACTIONS_FOR",h.heading.label)).markup("</h1><ul").attr(ai,se).markup(">"),h.features.controlBreak&&l(t,{label:An("CONTROL_BREAK"),icon:"icon-ig-control-break",data:{option:"break"}}),h.features.aggregate&&l(t,{label:An("AGGREGATE"),icon:"icon-ig-aggregate",data:{option:"aggregate"}}),r=0;r<g.length;r++)if(g[r].columnId===a){c=g[r].isFrozen;break}for(r=0;r<g.length;r++)g[r].isVisible&&!this._getColumn(g[r].columnId).isHidden&&g[r].seq>p&&(p=g[r].seq),g[r].columnId===a&&(d=g[r].seq);d<p&&l(t,{label:An(c?"UNFREEZE":"FREEZE"),icon:"icon-ig-frozen-column",isToggle:!0,toggleState:c,data:{option:"freeze"}}),h.features.canHide&&l(t,{label:An("HIDE"),icon:"icon-ig-remove-col",data:{option:ft}}),h.helpid&&l(t,{label:An("HELP"),icon:"icon-ig-help",data:{option:"help"}}),t.markup("</ul>"),i&&(t.markup("<div").attr(ai,ue).markup(">"),lo(t,{labelFor:u,cssClasses:he,ariaHidden:!0,labelTextHidden:!0}),h.filter.textCase&&(s=this._getTextTransformClass(h)),eo(t,{id:u,cssClasses:ge+(s?" "+s:""),ariaLabel:An("SEARCH"),placeholder:An("FILTER_WITH_DOTS")}),n&&(t.markup("<div").attr(ai,pe).attr("id",this._getId("column_header_menu_rows")).markup(">"),t.markup("</div>")),t.markup("</div>"))},_setOperationUpdate:function(e){e.operation&&e.operation===Wt||(e.operation="u")},_renderIG:function(){var e=this,i=this.element,n=t.htmlBuilder(),o=this.options.config;o.toolbar&&n.markup("<div").attr(ai,_).markup("><div").attr("id",this._getId("toolbar")).markup(">").markup("</div></div>"),n.markup("<div").attr(ai,I).markup(">"),o.reportSettingsArea&&this._renderReportSettings(n),n.markup("<div").attr(ai,E).attr("id",this._getId("content_container")).attr(li,jt).attr($e,this._getLandmarkLabel()).markup(">"),this._forEachView((function(t,i){n.markup("<div").attr("id",e._getId(i.elementId)).attr(ai,i.cssClass).optionalAttr($e,"grid"===i.internalIdentifier?e.options.config.regionAccTitle:"").markup(" style='display:none'></div>")})),n.markup("</div></div>"),i.append(n.toString()),o.reportSettingsArea&&this._initReportSettings()},_resetReportSettings:function(){var e=this;this._ifNoChangesDo((function(t){if(e._currentReportSettings().baseReportId)return e._call({resetReportSettings:[e._report()]},{success:function(i){var n=e._defaultSavedReport(i.regions[0].resetReportSettings[0]);e.options.savedReports[e.currentSavedReportIdx]=n,t&&e.clearChanges(),e._report(n.id),e._updateChangeReportAction()}})}))},_openDialog:function(e,t){var i,n=this;function o(e){var t=e+"Dialog$",i="_render"+e.substr(0,1).toUpperCase()+e.substr(1)+"Dialog";return n[t]||n[i](),n[t]}function a(e,t){var i=o(e);t&&i.dialog(Et,"id",t),i.dialog("open")}switch(t=t||{},e){case Vt:case kt:case xt:case Dt:case Ft:a(e,t.id);break;case Ht:o(e).dialog(Et,{id:t.id,columnId:t.columnId}).dialog("open");break;case Mt:ho({labelKey:"APEX.IG.MINUTES_AGO",titleKey:"APEX.IG.FLASHBACK",okLabelKey:"APEX.DIALOG.SAVE",helpKey:"APEX.IG.HELP.FLASHBACK",helpTitleKey:"APEX.IG.HELP.FLASHBACK_TITLE",value:i=(i=n._currentReportSettings().flashback)?i.minsAgo:5},(function(e){!1!==e&&n.updateFlashback({isEnabled:!0,minsAgo:parseInt(e,10)})}));break;case Rt:this.viewsImpl[Rt].openDialog();break;case Pt:o("reportSettings").dialog(Et,"saveAs",!1).dialog("open");break;case Gt:o("reportSettings").dialog(Et,"saveAs",!0).dialog("open");break;case Ut:a(e)}},_setModel:function(t){var i,n,o,a,l,r,s,d,u,h,g,p=!1,m=!1,f=!1,_=this.options.config,C=_.pagination.showTotalRowCount,I=t.viewImpl,b=I.internalIdentifier,v=_.views[b];I.model&&(c.release(I.modelName),I.modelName=null,I.model=null),t.remove||(v.useModelFrom&&_.views[v.useModelFrom].shareModel?d=(h=(u=this.getViews(v.useModelFrom)).internalIdentifier)+"_shared":(u=I,h=b,d=v.shareModel?h+"_shared":h),(g=this._isCurrentlyEditable()&&u.supports.edit)&&(p=_.editable.allowedOperations.create,m=_.editable.allowedOperations.update,f=_.editable.allowedOperations[ht]),_.parentRegionStaticId&&null===_.modelInstanceId&&(g=!1),s=_.modelInstanceId?[_.regionStaticId+"_"+d,_.modelInstanceId]:_.regionStaticId+"_"+d,I.modelName=s,I.model=c.get(s),I.model||(u.supports.totalRows||(C=!1),(i=e.extend({delayClearData:!0},_.defaultModelOptions,{recordIsArray:!0,hasTotalRecords:C,regionId:_.regionId,regionStaticId:_.regionStaticId,ajaxIdentifier:_.ajaxIdentifier,pageItemsToSubmit:_.itemsToSubmit,parentRecordId:this.parentRecordId,fields:I.modelColumns,editable:g,saveSelection:g&&_.submitSelectedRows,paginationType:"progressive",regionData:{reportId:this._report(),view:h,ajaxColumns:_.ajaxColumns}})).types||(i.types={default:{operations:{canAdd:p,canEdit:m,canDelete:f}}}),["identityField","metaField","typeField","sequenceField"].forEach((e=>{I.specialColumns[e]&&(i[e]=I.specialColumns[e])})),_.parentRegionStaticId&&(this.parentModel?i.parentModel=this.parentModel:(n=e("#"+_.parentRegionStaticId+"_ig"),i.parentModel=_.parentRegionStaticId+"_"+n.interactiveGrid("getCurrentViewId"))),g&&(i.regionData.allowedOperations=_.editable.allowedOperations.protected),t.initialData?(o=t.initialData.values,a=C?t.initialData.totalRows:null,l=t.initialData.moreData,r=t.initialData.dataOverflow,I.model=c.create(s,i,o,a,l,r)):t.fetchData?I.model=c.create(s,i):I.model=c.create(s,i,[],0),this.modelReportSettingsSeq[s]=this.reportSettingsSeq),this._trigger("viewModelCreate",null,{viewId:b,model:I.model}),t.updateComponent&&(this.reportSettingsSeq>this.modelReportSettingsSeq[s]&&(this._updateModelRegionData(I),I.clearModelData()),I.setModelName(I.modelName,I.modelColumns)))},_anyChanges:function(){var e=this.editableViewImpl;return!!(e&&this._isCurrentlyEditable()&&e.model&&c.anyChanges(!1,e.model.name,!0))},_ifNoChangesDo:function(e,t){var i=this,n=this._anyChanges();t||(t=e,e=!1),n?e||setTimeout((function(){s.confirm(An("UNSAVED_CHANGES_CONTINUE_CONFIRM"),(function(e){e?(i._setEditMode(!1),t(n)):i._refreshReportSettings()}))}),1):t(n)},_clearToolbarSearch:function(){var e=this.options.config;e.toolbar&&e.toolbar.searchField&&e.toolbarData&&this._tbFindElement("search_field").val("")},_tbFind:function(e){var t=null,i=this.getToolbar();return i&&(t=i.toolbar("find",e)),t},_tbFindElement:function(t){var i=this.getToolbar();return i?i.toolbar("findElement",t):e()},resize:function(){var t,i,n,o,a=this.options.config,l=0,r=0,s=this.element,d=s.width(),c=this._currentViewImpl(),u=e(w,s).children().addBack();this.ignoreResizeHandler=!0,u.width(d),a.maxHeight&&(t=s.height(),n=e(C,s),o=e(q,s),n.filter(":visible").length>0&&(l=n.outerHeight()),o.filter(":visible").length>0&&(r=o.outerHeight()),i=t-(l+r),u.height(i)),e.apex.stickyWidget&&s.find(".a-IG-header.js-stickyWidget-toggle, .a-GV-footer.js-stickyWidget-toggle").stickyWidget(gt),c&&c.view$&&c.resize(),this.ignoreResizeHandler=!1},refresh:function(){var e=this;this._ifNoChangesDo((function(){e._forEachView((function(e,t){t.model&&t.clearModelData()}))}))},clearChanges:function(){var e;this.editableViewImpl&&(e=this.editableViewImpl.model)&&e.isChanged()&&e.clearChanges()},setMasterRecord:function(t,n){if(this.options.config.parentRegionStaticId){if(!c.equalModelIds(this.parentModel,t.modelId())){const i=e("#"+this.options.config.parentRegionStaticId+"_ig"),n=i.interactiveGrid("getViews"),o=i.interactiveGrid("option","config.views");this.parentModel=t.modelId(),this._subscribeToParentModels(n,o)}if(n){const e=t.getRecordId(n);this._setModelInstance(e,t,n),t.getRecordMetadata(e).deleted?this.actions.disable("selection-add-row"):this.actions.enable("selection-add-row")}else this._setModelInstance(null),this.actions.disable("selection-add-row")}else i.warn("No master region defined.")},gotoCell:function(e,t,i){var n;this._view()!==this.editableView&&this._view(this.editableView),n=this._currentViewImpl(),e&&this._setModelInstance(e),n.gotoCell&&n.gotoCell(t,i)},getActions:function(){return this.actions},getToolbar:function(){return this.toolbar$},getSelectedRecords:function(){const e=this._currentViewImpl();return e.selectionEnabled()?e.getSelectedRecords():null},setSelectedRecords:function(e,t,i){const n=this._currentViewImpl();let o,a,l;if(n.selectionEnabled()){if(e.length&&"string"==typeof e[0]){l=n.model,o=e,e=[];for(let t=0;t<o.length;t++)a=l.getRecord(o[t]),a&&e.push(a)}n.setSelectedRecords(e,t,i)}},getReports:function(e){const t=this.options.savedReports;if(!e)return t;for(let i=0;i<t.length;i++)if(t[i].id===e)return t[i];i.warn("No report exists with ID: ",e)},addReport:function(t,n){var o=e.extend(t,{operation:Wt,isEnabled:!0}),a=e.extend({save:!0},n);this.options.config.features.saveReport?(this.getReports().push(o),a.save&&this._saveReport(o,Wt)):i.warn("Unable to add report settings because the configuration disallows it.")},updateReport:function(t,n,o){var a,l,r=this.getReports(),s=e.extend({save:!0},o);if(this.options.config.features.saveReport){for(a=0;a<r.length;a++)if((l=r[a]).id===t){this._setOperationUpdate(n),l=e.extend(!0,l,n);break}s.save&&this._saveReport(l,"u")}else i.warn("Unable to update report settings because the configuration disallows it.")},deleteReport:function(t,n){var o={},a=e.extend({save:!0},n);this.options.config.features.saveReport?(o.id=t,o.operation=zt,a.save&&this._saveReport(o,zt)):i.warn("Unable to delete report settings because the configuration disallows it.")},getFilters:function(e){var t,n=this._currentReportSettings().filters;if(!e)return n;for(t=0;t<n.length;t++)if(n[t].id===e)return n[t];i.warn("No filter exists with ID: ",e)},addFilter:function(t,i){let n=this,o=e.extend(t,{operation:Wt,isEnabled:!0}),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1,validate:!0},i);function l(){o.columnName&&(o.columnId=n._getColumnByName(o.columnName).id,delete o.columnName),n.getFilters().push(o),a.save&&n._setReportSettings({refreshModel:a.refreshData,affectsOtherViewsModels:!0})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},updateFilter:function(t,i,n){var o=this,a=this.getFilters(),l=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1,validate:!0},n);function r(){var n,r=o._isSettingsCheckboxFocused(t,kt);for(n=0;n<a.length;n++)if(a[n].id===t){o._setOperationUpdate(i),a[n]=e.extend(!0,a[n],i);break}l.save&&o._setReportSettings({refreshModel:l.refreshData,affectsOtherViewsModels:!0},(function(){o._focusOnSettingsCheckbox(r,t,kt)}))}l.skipNoChangesCheck?r():this._ifNoChangesDo(r)},deleteFilter:function(t,i){var n=this,o=this.getFilters(),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function l(){var i;for(i=0;i<o.length;i++)if(o[i].id===t){o[i]=e.extend(!0,o[i],{operation:zt});break}a.save&&n._setReportSettings({refreshModel:a.refreshData,affectsOtherViewsModels:!0})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},getHighlights:function(e){var t,n=this._getCurrentView().highlights;if(!e)return n;for(t=0;t<n.length;t++)if(n[t].id===e)return n[t];i.warn("No highlight exists with ID: ",e)},addHighlight:function(t,i){var n=this,o=e.extend(t,{operation:Wt,isEnabled:!0}),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function l(){o.columnName&&(o.columnId=n._getColumnByName(o.columnName).id,delete o.columnName),n.getHighlights().push(o),a.save&&n._setReportSettings({refreshModel:a.refreshData,affectsOtherViewsModels:!0})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},updateHighlight:function(t,i,n){var o=this,a=this.getHighlights(),l=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},n);function r(){var n,r=o._isSettingsCheckboxFocused(t,Dt);for(n=0;n<a.length;n++)if(a[n].id===t){o._setOperationUpdate(i),a[n]=e.extend(!0,a[n],i),i.type===lt&&(delete a[n].columnId,delete a[n].columnType);break}l.save&&o._setReportSettings({refreshModel:l.refreshData,affectsOtherViewsModels:!0},(function(){o._focusOnSettingsCheckbox(r,t,Dt)}))}l.skipNoChangesCheck?r():this._ifNoChangesDo(r)},deleteHighlight:function(t,i){var n=this,o=this.getHighlights(),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function l(){var i;for(i=0;i<o.length;i++)if(o[i].id===t){o[i]=e.extend(!0,o[i],{operation:zt});break}a.save&&n._setReportSettings({refreshModel:a.refreshData,affectsOtherViewsModels:!0})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},getAggregates:function(){var e=[];return this._currentViewImpl().supports.aggregation&&(e=this._getCurrentView().aggregations),e},addAggregate:function(t,i){var n=this,o=e.extend(t,{operation:Wt}),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function l(){n.getAggregates().push(o),a.save&&n._setReportSettings({refreshModel:a.refreshData})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},updateAggregate:function(t,i,n){var o=this,a=this.getAggregates(),l=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},n);function r(){var n,r=o._isSettingsCheckboxFocused(t,Ht);for(n=0;n<a.length;n++)if(a[n].id===t){o._setOperationUpdate(i),a[n]=e.extend(!0,a[n],i);break}l.save&&o._setReportSettings({refreshModel:l.refreshData},(function(){o._focusOnSettingsCheckbox(r,t,Ht)}))}l.skipNoChangesCheck?r():this._ifNoChangesDo(r)},deleteAggregate:function(t,i){let n=this,o=this.getAggregates(),a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function l(){for(let i=0;i<o.length;i++)if(o[i].id===t){o[i]=e.extend(!0,o[i],{operation:zt});break}a.save&&n._setReportSettings({refreshModel:a.refreshData,refreshColumns:!0})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},getFlashback:function(){return this._currentReportSettings().flashback},addFlashback:function(t,i){var n=this,o=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function a(){n._currentReportSettings().flashback=e.extend(t,{isEnabled:!0}),n._setOperationUpdate(n._currentReportSettings()),o.save&&n._setReportSettings({refreshModel:o.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"})}o.skipNoChangesCheck?a():this._ifNoChangesDo(a)},updateFlashback:function(t,i){var n=this,o=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i);function a(){var i=n._isSettingsCheckboxFocused("",Mt);n._setOperationUpdate(n._currentReportSettings()),n._currentReportSettings().flashback=e.extend(n._currentReportSettings().flashback,t),o.save&&n._setReportSettings({refreshModel:o.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"},(function(){n._focusOnSettingsCheckbox(i,"",Mt)}))}o.skipNoChangesCheck?a():this._ifNoChangesDo(a)},deleteFlashback:function(t){var i=this,n=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},t);function o(){i._setOperationUpdate(i._currentReportSettings()),i._currentReportSettings().flashback=!1,n.save&&i._setReportSettings({refreshModel:n.refreshData,affectsOtherViewsModels:!0,changeIdentifier:"editable"})}n.skipNoChangesCheck?o():this._ifNoChangesDo(o)},addControlBreak:function(t,i,n){var o=this,a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},n||{});function l(){var n,l,r=0,s=o._getCurrentView().columns;for(n=0;n<s.length;n++)if(s[n].columnId===t.id){l=s[n];break}if(!i.order){for(n=0;n<s.length;n++)s[n].break&&(r+=1);i.order=r+1}l=e.extend(!0,l,{isVisible:!i.isEnabled,break:{order:i.order,isEnabled:i.isEnabled,direction:i.direction,nulls:i.nulls}}),o._setOperationUpdate(l),i.isEnabled&&o._adjustControlBreakSort(),i.isEnabled?e.extend(t,{controlBreakIndex:i.order,controlBreakDirection:i.direction,hidden:!0}):e.extend(t,{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),a.save&&o._setReportSettings({refreshModel:a.refreshData,refreshColumns:a.refreshData})}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},updateControlBreak:function(t,i,n){var o=this,a=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},n||{});function l(){var n,l,r=o._getCurrentView().columns,s=o._isSettingsCheckboxFocused(t,Ft);for(n=0;n<r.length;n++)if(r[n].columnId===t){l=r[n];break}l=e.extend(!0,l,{isVisible:!i.isEnabled,break:{order:i.order,isEnabled:i.isEnabled,direction:i.direction,nulls:i.nulls}}),o._setOperationUpdate(l),i.isEnabled?e.extend(o._currentViewImpl().modelColumns[o._getColumn(t).name],{controlBreakIndex:l.break.order,controlBreakDirection:l.break.direction,hidden:!0}):e.extend(o._currentViewImpl().modelColumns[o._getColumn(t).name],{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),o._adjustControlBreakSort(),a.save&&o._setReportSettings({refreshModel:a.refreshData,refreshColumns:a.refreshData},(function(){o._focusOnSettingsCheckbox(s,t,Ft)}))}a.skipNoChangesCheck?l():this._ifNoChangesDo(l)},deleteControlBreak:function(t,i){var n=this,o=e.extend({save:!0,refreshData:!0,skipNoChangesCheck:!1},i||{});function a(){var i,a,l=n._getCurrentView().columns;for(i=0;i<l.length;i++)if(l[i].columnId===t){a=l[i];break}a=e.extend(!0,a,{isVisible:!0,break:!1}),n._setOperationUpdate(a),e.extend(n._currentViewImpl().modelColumns[n._getColumn(t).name],{controlBreakIndex:0,controlBreakDirection:null,hidden:!1}),n._adjustControlBreakSort(),o.save&&n._setReportSettings({refreshModel:o.refreshData,refreshColumns:o.refreshData})}o.skipNoChangesCheck?a():this._ifNoChangesDo(a)},getSorts:function(){var t,i,n,o=[],a=this._getCurrentView().columns;for(t=0;t<a.length;t++)(i=a[t]).sort&&(n=e.extend({},{columnId:i.columnId,order:i.sort.order,direction:i.sort.direction,nulls:i.sort.nulls}),o.push(n));for(o.length>0&&(o=o.sort((function(e,t){return e.order-t.order}))),t=0;t<o.length;t++)delete o[t].order;return o},setSorts:function(e){var t,i,n,o,a,l,r,s=this,d=this.options.config,c=this._currentViewImpl(),u=c.internalIdentifier,h=d.views[u],g=this._getCurrentView().columns,p=null;this._ifNoChangesDo((function(){for(h.useModelFrom&&d.views[h.useModelFrom].shareModel&&(c=s.getViews(h.useModelFrom)),c.supports.configurableColumns&&(p=c.getColumns()),i=0;i<e.length;i++){for(a=e[i],o=!1,t=0;t<g.length;t++)if(l=g[t],a.columnId===l.columnId){o=!0;break}o||g.push({columnId:a.columnId,operation:Wt,columnType:rt,isVisible:!1,isFrozen:!1})}for(t=0;t<g.length;t++){if(l=g[t],o=!1,p)for(n=0;n<p.length;n++)if(l.columnId===p[n].id){r=p[n];break}for(i=0;i<e.length;i++)if((a=e[i]).columnId===l.columnId){o=!0,a.order=i+1;break}o?(delete a.columnId,l.sort&&a.order===l.sort.order&&a.direction===l.sort.direction&&a.nulls===l.sort.nulls||(l.sort=a,s._setOperationUpdate(l),r&&(r.sortIndex=l.sort.order,r.sortDirection=l.sort.direction))):l.sort&&(l.sort=!1,s._setOperationUpdate(l),r&&(r.sortIndex=null,r.sortDirection=null))}s._adjustControlBreakSort(),s._setReportSettings({refreshModel:!0,refreshColumns:!0}),c!==s._currentViewImpl()&&(c.refreshColumns(),c.refresh())}))},getChart:function(){return this._currentReportSettings().views.chart},setChart:function(t){var i,n=this,o=this.getChart(),a=this._currentViewImpl(),l={};o?(i=e.extend(o,t),this._setOperationUpdate(i)):i=e.extend({operation:Wt},t),this._currentReportSettings().views.chart=i,this._view()===Rt?(l.ig=this,l.igConfig=this.options.config,a.initView(l),this._setReportSettings({refreshView:!0,refreshModel:!0})):this._setReportSettings({},(function(){n._view(Rt,{fetchData:!0})}))},deleteChart:function(){var e=this,t=this._currentViewImpl();this._currentReportSettings().views.chart={operation:zt},this._setReportSettings({},(function(){t.destroyView(e),t.view$=null}))},getViews:function(e){return e?this.viewsImpl[e]:this.viewsImpl},getCurrentView:function(){return this.getViews(this.getCurrentViewId())},getCurrentViewId:function(){return this._view()},focus:function(){var e=this.options.config;e.toolbar&&e.toolbar.searchField&&this.toolbar$?this._tbFindElement("search_field").focus():this._currentViewImpl().focus()}}),e.apex.interactiveGrid.copyDefaultToolbar=Bn;var po=[];function mo(e){po.push(e)}e.apex.interactiveGrid.registerView=mo;const fo=["selection-fill","selection-clear","selection-copy-down"],_o={setColumnConfig:function(i){var n,o,a,l,r,s,c,u,h={},g=i.baseModelColumns,p=i.igConfig,m=p.views[this.internalIdentifier].features,f=i.currentReportSettings,_=i.ig,C=Bt,I=!1!==p.editable;for(n=0;n<f.views.grid.columns.length;n++)o=f.views.grid.columns[n],a=_._getColumn(o.columnId),(c=e.extend(!0,{},a.defaultGridColumnOptions||{},g[o.columnId])).elementId=a.staticId,c.seq=o.seq,void 0===c.noStretch&&(void 0!==a.layout.noStretch?c.noStretch=a.layout.noStretch:null!==m.stretchColumns?c.noStretch=!m.stretchColumns:c.noStretch=!f.views.grid.stretchColumns),a.isHidden||(c.hidden=!o.isVisible,c.frozen=o.isFrozen,o.width&&(c.width=o.width),o.sort&&(c.sortIndex=o.sort.order,c.sortDirection=o.sort.direction),(s=o.break)&&s.isEnabled&&(C=s.direction,c.controlBreakIndex=s.order,c.controlBreakDirection=C),a.layout.groupId&&("both"===a.layout.useGroupFor?c.useGroupFor="srv,heading":c.useGroupFor=a.layout.useGroupFor,c.groupName=a.layout.groupId),c.helpid=a.helpid,c.canHide=a.features.canHide,c.canSort=a.features.sort,a.link.attributes&&(c.linkAttributes=a.link.attributes),a.link.text&&(c.linkText=a.link.text),a.link.targetColumn&&(c.linkTargetColumn=a.link.targetColumn)),a.accessibility.usedAsRowHeader&&(c.usedAsRowHeader=a.accessibility.usedAsRowHeader),a.appearance.columnCssClasses&&(c.columnCssClasses=a.appearance.columnCssClasses),a.appearance.fieldColSpan&&(c.fieldColSpan=a.appearance.fieldColSpan),a.appearance.fieldCssClasses&&(c.fieldCssClasses=a.appearance.fieldCssClasses),a.validation&&(c.isRequired=a.validation.isRequired),a.appearance.cellTemplate&&(c.cellTemplate=a.appearance.cellTemplate),I&&(c.noCopy=!a.default.duplicate,void 0===c.defaultValue&&(u=a.default.value,e.isPlainObject(u)&&void 0!==u.d&&c.elementId&&u.v===u.d&&(u.d=d(c.elementId).displayValueFor(u.v)),c.defaultValue=u)),"actions"===a.specialType&&(l=t.htmlBuilder(),r=Ne+" "+ye+" a-Button--actions",no(l,{label:An("ROW_ACTIONS"),buttonClass:r,iconOnly:!0,icon:"icon-ig-actions",attributes:{"data-menu":_._getId("row_actions_menu"),"aria-haspopup":!0}}),c.cellTemplate=l.toString(),l.clear(),no(l,{label:An("SEL_ACTIONS"),buttonClass:r+" js-selectionMenu",iconOnly:!0,icon:"icon-ig-actions",attributes:{"data-menu":_._getId("selection_actions_menu"),"aria-haspopup":!0}}),c.heading=l.toString(),c.columnCssClasses?c.columnCssClasses+=" "+Be:c.columnCssClasses=Be,c.headingCssClasses?c.headingCssClasses+=" "+Be:c.headingCssClasses=Be,delete c.index,c.virtual=!0,c.noHeaderActivate=!0,c.elementId=null,0===n&&(c.frozen=!0,o.isFrozen=!0),c.noStretch=!0,c.canSort=!1,c.width||(c.width=parseFloat(_.element.css("--js-ig-actions-col-width"))||42)),h[a.name]=c;h[ti]=g[ti],this.modelColumns=h,this.specialColumns={identityField:0===_.primaryKeyColumns.length?null:_.primaryKeyColumns,metaField:ti}},init:function(e){var t=e.options.config;e.getActions().add([{name:"selection-copy-down",labelKey:"APEX.IG.COPY_DOWN",icon:"icon-ig-copy-down",hide:!0,action:function(){var t=e._currentViewImpl();t.singleRowMode||t.view$.grid("copyDownSelection")}},{name:"selection-clear",labelKey:"APEX.IG.CLEAR",icon:"icon-ig-clear",hide:!0,action:function(){var t=e._currentViewImpl();t.singleRowMode||t.view$.grid("fillSelection","")}},{name:"selection-fill",labelKey:"APEX.IG.FILL",icon:"icon-ig-fill",hide:!0,getFillValue:function(e,t,i,n){let o={labelKey:"APEX.IG.FILL_LABEL",titleKey:"APEX.IG.FILL_TITLE"};i&&(o.label=i),t&&e&&(o.type="item",o.columnItem=t,o.viewInst=e),ho(o,n)},action:function(){let t=e._currentViewImpl();if(!t.singleRowMode){let e,i,n,o=null,a=null,l=t.view$.grid("instance");l.options.selectCells&&(e=l.getSelectedRange(),e&&1===e.columns.length&&(i=e.columns[0],n=l.options.columns[0][i],a=n.label||n.heading,o=l.columnItems[i],!n.readonly&&o&&o.element$.parent()[0]===l.columnItemsContainer$[0]||(o=null,a=null))),this.getFillValue(l,o,a,(e=>{!1!==e&&t.view$.grid("fillSelection",e)}))}}}]),this._initMenus(t,e)},initView:function(i){var n,o,a,l,d,c,u,g=null,m=t.htmlBuilder(),f=!0,_=i.igConfig,I=_.defaultGridViewOptions,b=I.multiple,v=I.selectAll,E=_.views.grid.features,w=!1,A=I.rowHeader||$t,R=i.ig,S=R.actions,T=R._isCurrentlyEditable(),L=_.columnGroups,N=!!T&&_.editable.autoAddRow,y=this,O=!0,V=null,k=null;function D(e,t){R.editMode=t.editMode,R.actions.update("edit"),R._updateLandmark(),R._trigger("modeChange",e,t)}function M(e){V.hide(),k.removeClass(He).attr(qe,"false"),e&&(k.trigger("focus"),y.view$.grid("focus")),k=null,R._off(R.document,"mousedown"),R._off(R.window,"blur"),R._off(V)}function x(){var e,t,i,n=R._currentReportSettings().views.grid.columns,o=y.view$.grid("getColumns"),a=0,l=!1,r=!1;for(e=0;e<n.length;e++)n[e]&&n[e].isVisible&&!R._getColumn(n[e].columnId).isHidden&&n[e].seq>a&&(a=n[e].seq,l=e);if(!1!==l){for(t=n[l],e=0;e<o.length;e++)t.columnId!==o[e].id||o[e].hidden||(i=o[e]);t.isFrozen&&(t.isFrozen=!1,i.frozen=!1,r=!0,R._setOperationUpdate(t))}r?R._setReportSettings({refreshView:!0,refreshColumns:!0}):(R._setReportSettings(),y.singleRowView$&&y.singleRowView$.recordView("refreshFields").recordView(gt))}if(!E.gridView&&!E.singleRowView)throw new Error("Interactive Grid grid view must have at least one of grid or single row");switch(e("div.a-GV-columnItemContainer",i.ig$).appendTo(i.ig$),E.gridView&&(m.markup("<div").attr(ai,re).attr("style","display:none;").attr("id",R._getId("column_header_menu")).attr(li,"dialog").attr($e,An("COLUMN_HEADER_ACTIONS")).attr("aria-modal","true").markup(">").markup("</div>"),V=e(m.toString()),e("body").append(V),(u=i.currentReportSettings.views.grid.aggregations).length>0&&(A!==$t&&A!==ii||(A=ni))),E.rowSelector&&(A===$t&&(A=ii),w=!E.rowSelector.hideControl,void 0===b&&(b=E.rowSelector.multiSelect),b&&void 0===v&&(v=E.rowSelector.selectAll)),_.headingFixedTo){case $t:f=!1,l=!1,d=!1;break;case jt:f=!0,l=!1,d=!1;break;case Zt:f=!1,l=function(){return r.defaultStickyTop()+(e(C,i.ig$).outerHeight()||0)},d=I.stickyFooter||!0}if(L.length)for(g={},n=0;n<L.length;n++)g[(o=e.extend({},L[n])).id]=o,delete o.id;if(E.gridView){I.contextMenu&&!vn(I.contextMenu,"actionsContext")&&(I.contextMenu.actionsContext=R.actions),_.editable&&!1===_.editable.allowedOperations.create&&!1===_.editable.allowedOperations.update&&(O=!1);let n=R._getPaginationConfig(_,"defaultGridViewOptions");c={modelName:y.modelName,editable:T,autoAddRecord:N,rowHeader:A,rowHeaderCheckbox:w,aggregateLabels:this._gridAggregateLabels(),highlights:this._gridHighlightsFromReport(i.currentReportSettings),multiple:b,selectAll:v,noDataMessage:_.text.noDataFound,moreDataMessage:_.text.moreDataFound,showNullAs:_.appearance.showNullValue,fixedRowHeight:Rn(I.fixedRowHeight,_.appearance.useFixedRowHeight),columns:[y.modelColumns],columnSort:E.sort,reorderColumns:Rn(I.reorderColumns,E.reorderColumns),resizeColumns:Rn(I.resizeColumns,E.resizeColumns),pagination:n,rowsPerPage:Rn(I.rowsPerPage,i.currentReportSettings.rowsPerPage),hasSize:f,stickyTop:l,stickyFooter:d,allowEditMode:O,persistSelection:Rn(I.persistSelection,_.submitSelectedRows||n.virtual),activateColumnHeader:function(i,n){var o,a,l,d,c,u,g,m=[],f=t.htmlBuilder();function _(i){var n,o,a,l=t.htmlBuilder();for(n=0;n<i.length;n++)e.isPlainObject(i[n])?(o=i[n].r,a=i[n].d):o=a=i[n],ao(l,{cssClasses:me,text:a,data:{"return-value":o}});R._getElement("column_header_menu_rows").html(l.toString())}function C(e){var t=V.find(":focusable");e||(o=t.first()).data("first",!0),(a=t.last()).data("last",!0)}V.is(":visible")?M():((l=R._isColumnFilterable(n.column.id))&&(d=R._hasColumnFilterLov(n.column.id)),k=n.header$,n.header$.addClass(He).attr(qe,"true"),R._renderColumnHeaderMenu(f,l,d,n.column.id),c>220?(u=n.column.frozen?2:1,c=n.header$.outerWidth(),V.css("min-width",c-u)):V.css("min-width","0"),g=R.isRTL?Je:Qe,V.html(f.toString()).show().css({left:0,top:0}).position({my:g+" top",at:g+" bottom",of:n.header$,collision:"fit"}),d?R._getFilterValues(n.column.id,!0,(function(e){e.regions[0].filterValues&&(R._getElement("column_header_search").focus(),_(m=e.regions[0].filterValues),C())})):(C(),o.trigger("focus")),R._on(V,{"click button.a-IRR-sortWidget-button":function(t){var i,o,a,l=Bt;switch(e(t.currentTarget).data(Et)){case"hide":y.view$.grid("hideColumn",n.column),R._currentViewColumn(n.column.id,{isVisible:!1}),x(),M(!0);break;case"break":(i=R._currentViewColumn(n.column.id)).sort&&(l=i.sort.direction),R.addControlBreak(n.column,{isEnabled:!0,direction:l}),M(!0);break;case"aggregate":R._openDialog(Ht,{columnId:n.column.id}),M();break;case"freeze":if(o=R._currentReportSettings().views.grid.columns,y.view$.grid(n.column.frozen?"unfreezeColumn":"freezeColumn",n.column),n.column.frozen)for(a=0;a<o.length;a++)(i=o[a]).seq<=n.column.seq&&!i.isFrozen&&(i.isFrozen=!0,R._setOperationUpdate(i));else for(a=0;a<o.length;a++)(i=o[a]).seq>=n.column.seq&&i.isFrozen&&(i.isFrozen=!1,R._setOperationUpdate(i));R._setReportSettings(),M(!0);break;case"help":M(!0),r.popupFieldHelp(R._getColumn(n.column.id).helpid,apex.env.APP_SESSION)}},keydown:function(t){var i;t.which===e.ui.keyCode.ESCAPE?(M(!0),t.preventDefault()):t.which===e.ui.keyCode.TAB&&(!(i=!!t.shiftKey)&&e(t.target).data("last")&&(t.preventDefault(),o.focus()),i&&e(t.target).data("first")&&(t.preventDefault(),a.trigger("focus")))},"keydown input.a-IRR-sortWidget-searchField":function(t){var i,o,a,r=e(t.target).val();if(l&&t.which===e.ui.keyCode.ENTER){if((a=this._getColumn(n.column.id).filter.dataType)===Ui)try{i=p.parse(r,this._getColumn(n.column.id).appearance.dateFormatMask),R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:_i,value:Wn(i),isCaseSensitive:!1})}catch(e){s.alert(An("INVALID_DATE_FORMAT"))}else a===Gi?(o=h.toNumber(r,this._getColumn(n.column.id).appearance.formatMask),isNaN(o)?s.alert(An(pn)):R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:_i,value:o,isCaseSensitive:!1})):R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:a===Pi||a===Bi?Ri:_i,value:r,isCaseSensitive:!1});M(!0),t.preventDefault()}},"keyup input.a-IRR-sortWidget-searchField":function(e){if(d){var t=e.target.value;_(m.filter((function(e){return e.d?e.d.toLowerCase().indexOf(t.toLowerCase())>-1:e.toLowerCase().indexOf(t.toLowerCase())>-1}))),C(!0)}},"click a.a-IRR-sortWidget-row":function(t){var i,o,a,l,r=e(t.currentTarget).data("returnValue"),c=R._getColumn(n.column.id);d&&((i=c.filter.dataType)===Ui||i.indexOf(qi)>-1?(o=r.indexOf(Qt),a=r.substring(0,o),l=r.substring(o+1),o>0&&R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:a,value:l,isCaseSensitive:!1})):i===Gi?(l=h.toNumber(r,c.appearance.formatMask),isNaN(l)?s.alert(An(pn)):R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:_i,value:l,isCaseSensitive:!1})):R.addFilter({type:rt,columnType:rt,columnId:n.column.id,operator:_i,value:r,isCaseSensitive:!0}),M(!0),t.preventDefault())}}),R._on(R.document,{mousedown:function(t){!e(t.target).closest(V).length>0&&!e(t.target).closest(n.header$).length>0&&V.is(":visible")&&M()}}),R._on(R.window,{blur:function(){V.is(":visible")&&M()}}))},cancelColumnHeader:function(){V.is(":visible")&&M()},sortChange:function(e,t){R._ifNoChangesDo((function(){var e,i,n,o,a,l=t.column.sortIndex,r=y.view$.grid("getColumns");for(n=1,e=0;e<r.length;e++)(i=r[e]).sortIndex&&("change"===t.action?i===t.column&&(n=i.sortIndex):"add"===t.action?i.sortIndex>=n&&(n=i.sortIndex+1):"remove"===t.action?i===t.column?(delete i.sortIndex,delete i.sortDirection,(o=R._currentViewColumn(t.column.id)).sort=!1,R._setOperationUpdate(o)):i.sortIndex>l&&(i.sortIndex-=1,R._currentViewColumn(i.id,{sort:{order:i.sortIndex}})):"clear"!==t.action&&"set"!==t.action||(delete i.sortIndex,delete i.sortDirection,(o=R._currentViewColumn(i.id)).sort=!1,R._setOperationUpdate(o)));"clear"!==t.action&&"remove"!==t.action&&(t.column.sortIndex=n,t.column.sortDirection=t.direction,a=t.direction===Bt?Xt:qt,R._currentViewColumn(t.column.id,{sort:{order:n,direction:t.direction,nulls:a}})),R._setReportSettings({refreshModel:!0,refreshColumns:!0})}))},columnReorder:function(e,t){var i,n,o,a,l,r=R._currentReportSettings().views.grid.columns,s=r[t.newPosition].isFrozen;for(o=r,a=t.oldPosition,l=t.newPosition,o.splice(l,0,o.splice(a,1)[0]),r[t.newPosition]&&(r[t.newPosition].isFrozen=s),i=0;i<r.length;i++)r[i]||r.splice(i,1);for(i=0;i<r.length;i++)(n=r[i]).seq!==i+1&&(n.seq=i+1,R._setOperationUpdate(n));x()},columnResize:function(e,t){R._currentViewColumn(t.column.id,{width:t.width}),R._setReportSettings()},modeChange:D,selectionChange:function(t){var i=y.view$.grid("getSelection");e(".js-selectionMenu",y.view$).prop(bt,0===i.length),y._selectionChange(R,t)},pageChange:function(e,t){R._pageChange(t)}},u.length>0&&(c.aggregateTooltips=this._gridAggregateTooltipsFromReport(R,i.currentReportSettings)),g&&(c.columnGroups=g),y.view$.grid({},I,c),y.curInst=y.view$.grid("instance")}else y.view$.hide(),y.singleRowMode=!0;y.supports.singleRowView&&E.singleRowView&&(y.singleRowView$=e("<div id='"+R._getId("singleRow_vc")+"' class='"+le+"'></div>"),y.view$.after(this.singleRowView$),y.singleRowView$.width(y.view$.width()),_.maxHeight&&y.singleRowView$.height(y.view$.height()),(a=e.apex.recordView.copyDefaultToolbar())[0].controls.unshift({type:gi,labelKey:"APEX.IG.SRV_CHANGE_MENU",iconOnly:!0,icon:"icon-ig-actions",menuId:R._getId("srv_actions_menu")}),E.gridView&&(S.remove(["close-single-row-view"]),S.add([{name:"close-single-row-view",labelKey:"APEX.IG.GRID_VIEW",action:function(){var e,t=R.editMode;return t&&y.singleRowView$.recordView("setEditMode",!1),y.singleRowMode=!1,y.singleRowView$.hide(),y.curInst=y.view$.grid("instance"),(e=R._tbFind("selection_submenu"))&&(e.disabled=!y.selectionEnabled()),y.view$.show().grid(pt),t&&y.view$.grid("setEditMode",!0),R._updateLandmark(),y.view$.grid("focus"),!0}}]),a[0].controls.unshift({type:hi,action:"close-single-row-view"})),y.singleRowView$.recordView({},_.defaultSingleRowOptions,{modelName:y.modelName,actionsContext:S,toolbar:a,editable:T,autoAddRecord:N,noDataMessage:_.text.noDataFound,moreDataMessage:_.text.moreDataFound,showNullAs:_.appearance.showNullValue,fields:[y.modelColumns],fieldGroups:g,hasSize:f,modeChange:D,recordChange:function(e){y._selectionChange(R,e)}}),E.gridView?(y.singleRowView$.hide(),y.singleRowMode=!1):y.curInst=y.singleRowView$.recordView("instance"))},viewChanged:function(e,t,i){t._toggleEnableAction(e&&i.editable&&this.supports.edit,fo),e&&this._selectionChange(t)},updateActions:function(e){var t=e.ig,i=t.options.config;t._toggleShowAction(e.canEdit&&this.supports.edit&&this.supports.cellSelection&&i.views.grid.features.cellRangeActions,fo)},setReportOptions:function(e,t,i,n){var o,a=this,l=e.options.config;(o={"views.grid.aggregations":function(){a._hasGridView()&&a.view$.grid(Et,"aggregateTooltips",a._gridAggregateTooltipsFromReport(e,i))},"views.grid.highlights":function(){a._hasGridView()&&a.view$.grid(Et,"highlights",a._gridHighlightsFromReport(i))},"views.grid.columns":function(){var t,n,o,r,s,d,c=l.views.grid.features,u=i.views.grid.columns,h=a.getColumns(),g=!1!==c.gridView,p=!1;for(t=0;t<u.length;t++)for(s=u[t],o=e._getColumn(s.columnId),n=0;n<h.length;n++)if((r=h[n]).id===s.columnId){g&&(d=r.noStretch,void 0!==o.defaultGridColumnOptions&&void 0!==o.defaultGridColumnOptions.noStretch||(void 0!==o.layout.noStretch?r.noStretch=o.layout.noStretch:null!==c.stretchColumns?r.noStretch=!c.stretchColumns:r.noStretch=!i.views.grid.stretchColumns),r.noStretch!==d&&(p=!0)),r.hidden===s.isVisible&&r.canHide&&(r.hidden=!s.isVisible,p=!0);break}p&&(a.refreshColumns(),a.refresh())},editable:function(){var t=e._isCurrentlyEditable();a.model.getOption("identityField")&&a.model.setOption("editable",t),a.singleRowView$&&(a.singleRowView$.recordView(Et,"editable",t),a.singleRowView$.recordView(Et,"autoAddRecord",t)),a._hasGridView()&&(a.view$.grid(Et,"editable",t),a.view$.grid(Et,"autoAddRecord",t)),e._updateActions()},rowsPerPage:function(){a._hasGridView()&&(a.view$.grid(Et,"rowsPerPage",i.rowsPerPage),t||(a.pendingRefresh=!0))}})[n]&&a.view$&&o[n]()},_selectionChange:function(e,t){t&&e._selectionChange(t)},_initMenus:function(t,i){const n=this,o=t.views.grid.features;let a,l,r,s,d=[],c=[],u=[],h=i._tbFind("selection_submenu");function g(e){u.push(e),h&&h.push(e)}h&&(h=h.menu.items,n._selectionMenuItems=h,n._selectionMenuStart=h.length),u.push({type:si,action:"selection-copy",accelerator:"Ctrl+C"}),u.push(ui),l=e("<div/>",{id:i._getId("row_actions_menu")}).appendTo("body"),r=e("<div/>",{id:i._getId("srv_actions_menu")}).appendTo("body"),s=e("<div/>",{id:i._getId("selection_actions_menu")}).appendTo("body"),n.supports.singleRowView&&(d.push({id:"srv",type:si,action:"single-row-view"}),d.push(ui)),t.editable&&(t.editable.allowedOperations.create&&(d.push({id:"ins",type:si,action:"row-add-row"}),c.push({id:"ins",type:si,label:t.text.addRowButton,action:"insert-record"}),d.push({id:"dup",type:si,action:"row-duplicate"}),c.push({id:"dup",type:si,action:"duplicate-record"}),g({id:"dup",type:si,action:"selection-duplicate"}),d.push(ui),g(ui)),(t.editable.allowedOperations[ht]||t.editable.allowedOperations.create)&&(d.push({id:"del",type:si,action:"row-delete"}),c.push({id:"del",type:si,action:"delete-record"})),t.editable.allowedOperations[ht]&&g({id:"del",type:si,action:"selection-delete"})),d.push(ui),d.push({id:"refresh",type:si,action:"row-refresh"}),c.push({id:"refresh",type:si,action:"refresh-record"}),g(ui),g({id:"refresh",type:si,action:"selection-refresh"}),t.editable&&((t.editable.allowedOperations.update||t.editable.allowedOperations[ht])&&(d.push({id:"revert",type:si,action:"row-revert"}),c.push({id:"revert",type:si,action:"revert-record"}),g({id:"revert",type:si,action:"selection-revert"})),o.cellRangeActions&&(g(ui),g({id:"copy_down",type:si,action:"selection-copy-down"}),g({id:"fill",type:si,action:"selection-fill"}),g({id:"clear",type:si,action:"selection-clear"}))),l.menu({actionsContext:i.actions,items:d,beforeOpen:function(){var e,o=n.view$.find(".a-Button--actions."+He).closest("tr");n.singleRowMode?(i._updateAction(ft,"single-row-view"),e=n.getSelectedRecords()):e=n.view$.grid("getRecords",[o]),t.editable&&(t.editable.allowedOperations.create&&(l.menu("find","dup").disabled=!n.model.allowAdd(null,"copy"),l.menu("find","ins").disabled=!n.model.allowAdd(null,"new")),(t.editable.allowedOperations.update||t.editable.allowedOperations[ht])&&i._toggleEnableAction(n.model.canRevertRecord(e[0]),["row-revert"]),t.editable.allowedOperations[ht]||i._toggleShowAction(n.model.allowDelete(e[0]),"row-delete"),t.editable.allowedOperations[ht]&&i._toggleEnableAction(n.model.allowDelete(e[0]),["row-delete"]))},afterClose:function(){n.singleRowMode&&i._updateAction(mt,"single-row-view"),i._updateSelectionActions()}}),r.menu({actionsContext:i.actions,items:c,beforeOpen:function(){var e=n.getSelectedRecords();t.editable&&(t.editable.allowedOperations.create&&(r.menu("find","dup").disabled=!n.model.allowAdd(null,"copy"),r.menu("find","ins").disabled=!n.model.allowAdd(null,"new")),(t.editable.allowedOperations.update||t.editable.allowedOperations[ht])&&(r.menu("find","revert").disabled=!e.length||!n.model.canRevertRecord(e[0])),t.editable.allowedOperations[ht]||i._toggleShowAction(n.model.allowDelete(e[0]),"delete-record"),t.editable.allowedOperations[ht]&&(r.menu("find","del").disabled=!e.length||!n.model.allowDelete(e[0])))}}),s.menu({actionsContext:i.actions,items:u,beforeOpen:function(){i._updateSelectionActions()}}),h&&(a=i._tbFindElement("actions_button_menu"),a.on("menubeforeopen.gridview",(function(){i._updateSelectionActions()}))),n.rowActionMenu$=l,n.srvActionMenu$=r,n.selActionMenu$=s},_gridAggregateLabels:function(){var e=null;return this.aggregateLabels||(this.aggregateLabels=e={},Object.values(bn).forEach((t=>{e[t]={label:An(t),overallLabel:An(t+"_OVERALL")}}))),this.aggregateLabels},_gridAggregateTooltipsFromReport:function(e,t){var i,n,o=null,a=t.views.grid.aggregations;if(a.length>0)for(o={},i=0;i<a.length;i++)(n=a[i]).tooltip&&(o[n.function+"|"+e._getColumn(n.columnId).name]=n.tooltip);return o},_gridHighlightsFromReport:function(e){var t,i,n={},o=e.views.grid.highlights;for(t=0;t<o.length;t++)n[(i=o[t]).id]={seq:i.seq,row:i.type===lt,color:i.textColor,background:i.backgroundColor};return n},_hasGridView:function(){return this.view$.is(":apex-grid")},destroyView:function(e){this._hasGridView()&&this.view$.grid(ut),this.singleRowView$&&this.singleRowView$.remove(),e._getElement("column_header_menu").remove()},destroy:function(){this.rowActionMenu$&&this.rowActionMenu$.length>0&&(this.rowActionMenu$.remove(),this.rowActionMenu$=null),this.selActionMenu$&&this.selActionMenu$.length>0&&(this.selActionMenu$.remove(),this.selActionMenu$=null),this._selectionMenuStart&&this._selectionMenuItems&&(this._selectionMenuItems.length=this._selectionMenuStart,this._selectionMenuItems=this._selectionMenuStart=null)},getContextRecord:function(t){var i;return this.singleRowMode?[this.singleRowView$.recordView("getRecord")]:(i=e(t).closest("tr")).length>0?this.view$.grid("getRecords",[i]):[]},getColumns:function(){return this.singleRowMode?this.curInst.getFields():this.curInst.getColumns()},canCopy2Clipboard:function(){return!this.singleRowMode&&this.curInst.option("allowCopy")},selectCells:function(e){if(!this.singleRowMode){if(void 0===e)return this.view$.grid(Et,"selectCells");this.view$.grid(Et,"selectCells",e)}},getSelectedRecords:function(){if(this.singleRowMode){const e=this.curInst.getRecord();return e?[e]:[]}return this.curInst.getSelectedRecords()},setSelectedRecords:function(e,t,i){if(this.singleRowMode){let t=this.model.indexOf(e[0]);t<0&&(t=0),this.singleRowView$.recordView(Et,"recordOffset",t)}else this.view$.grid("setSelectedRecords",e,t,i)},getActiveRecordId:function(){return this.curInst.getActiveRecordId()},setModelName:function(e){this.view$&&this.view$.grid("instance").option("modelName",e),this.singleRowView$&&this.singleRowView$.recordView("instance").option("modelName",e)},setEditMode:function(e){this.curInst.setEditMode(e)},finishEditing:function(){return this.curInst.finishEditing()},setNoDataMessage:function(e){this.curInst.option("noDataMessage",e)},focus:function(){this.curInst.focus()},refreshColumns:function(){this._hasGridView()&&this.view$.grid("refreshColumns"),this.singleRowView$&&this.singleRowView$.recordView("refreshFields")},footerHeight:function(){return!this.singleRowMode&&this.view$&&this.view$.find(".a-GV-footer").outerHeight()||0},refresh:function(){this._hasGridView()&&this.view$.grid(gt),this.singleRowView$&&this.singleRowView$.recordView(gt)},resize:function(){this.curInst.resize()},show:function(){this.curInst.element.show()},hide:function(){this.curInst.element.hide()}},Co={setColumnConfig:function(t){var i,n,o={},a={},l=t.baseModelColumns,r=t.igConfig,s=t.ig,d=!1!==r.editable,c=0;for(n in l)vn(l,n)&&(c+=1,o=e.extend(!0,{},l[n]),n!==ti?(i=s._getColumn(n),o.elementId=i.staticId,o.seq=c,d&&"actions"===i.specialType&&(delete o.index,o.virtual=!0,o.elementId=null),a[i.name]=o):a[ti]=o);this.modelColumns=a,this.specialColumns={identityField:0===s.primaryKeyColumns.length?null:s.primaryKeyColumns,metaField:ti}},initView:function(e){var t=!0,i=!1,n=e.igConfig,o=e.ig,a=this.internalIdentifier===At?n.defaultIconViewOptions:n.defaultDetailViewOptions;switch(n.headingFixedTo){case $t:t=!1;break;case Zt:t=!1,i=!0}this.view$.tableModelView(this.viewConfig(e,{modelName:this.modelName,noDataMessage:n.text.noDataFound,moreDataMessage:n.text.moreDataFound,showNullAs:n.appearance.showNullValue,hasSize:t,columns:this.modelColumns,pagination:o._getPaginationConfig(n,this.internalIdentifier===At?"defaultIconViewOptions":"defaultDetailViewOptions"),rowsPerPage:Rn(a.rowsPerPage,e.currentReportSettings.rowsPerPage),stickyFooter:i,selectionChange:function(e){o._selectionChange(e)},pageChange:function(e,t){o._pageChange(t)}}))},destroyView:function(){this.view$.tableModelView(ut)},setReportOptions:function(e,t,i,n){var o,a=this;(o={rowsPerPage:function(){a.view$.tableModelView(Et,"rowsPerPage",i.rowsPerPage),t||(a.pendingRefresh=!0)}})[n]&&a.view$&&o[n]()},selectionEnabled:function(){const e=this.view$.tableModelView("option");return e.useIconList||"select"===e.itemNavigationMode},getSelectedRecords:function(){return this.view$.tableModelView("getSelectedRecords")},setSelectedRecords:function(e,t,i){this.view$.tableModelView("setSelectedRecords",e,t,i)},canCopy2Clipboard:function(){let e=this.view$.tableModelView("option");return e.useIconList&&e.iconListOptions?(e=e.iconListOptions,void 0===e.allowCopy||e.allowCopy):e.allowCopy},setModelName:function(e){this.view$.tableModelView(Et,"modelName",e)},setNoDataMessage:function(e){this.view$.tableModelView(Et,"noDataMessage",e)},footerHeight:function(){return this.view$&&this.view$.find(".a-GV-footer").outerHeight()||0},refresh:function(){this.view$.tableModelView(gt)},resize:function(){this.view$.tableModelView(pt)},isConfigured:function(){return!0}};mo(e.extend({},Co,{title:An("ICON"),label:An("ICON_VIEW"),internalIdentifier:At,cssClass:ne,icon:"icon-ig-icons",supports:{sort:!0},viewConfig:function(t,i){var n,o=t.igConfig,a=o.views.icon.features,l=!1,r=o.views.icon;return i=e.extend(!0,{iconListOptions:{}},o.defaultIconViewOptions,i),r.customIcon?(r.customIcon.trim().toLowerCase().match(/\s*<li/)?i.recordTemplate=r.customIcon:i.recordTemplate="<li>"+r.customIcon+"</li>",r.customIcon.toLowerCase().indexOf("href=")>=0&&(l=!0)):(i.labelColumn=r.labelColumn,r.iconClassColumn&&(i.iconClassColumn=r.iconClassColumn),r.imageURLColumn&&(i.imageURLColumn=r.imageURLColumn),r.imageAttributes&&(i.imageAttributes=r.imageAttributes),r.linkAttributes&&(i.linkAttributes=r.linkAttributes),r.linkTarget&&(i.linkTarget=!0,l=!0),i.linkTargetColumn&&(l=!0)),i.useIconList=!0,n=i.iconListOptions,l&&void 0===n.navigation&&(n.navigation=!0),a.rowSelector&&void 0===n.multiple&&void 0===n.itemSelector&&(n.multiple=a.rowSelector.multiSelect,n.navigation?n.itemSelector=!1:n.itemSelector=!a.rowSelector.hideControl),i.iconListOptions.contextMenu&&!vn(i.iconListOptions.contextMenu,"actionsContext")&&(i.iconListOptions.contextMenu.actionsContext=t.ig.actions),i},focus:function(){this.view$.tableModelView("focus")},getContextRecord:function(t){var i;return this.view$.tableModelView("option").useIconList&&(i=e(t).closest(".a-IconList-item")).length?this.view$.tableModelView("getRecords",i):[]}})),mo(e.extend({},_o,{title:An("GRID"),label:"",internalIdentifier:wt,cssClass:ie,icon:"icon-ig-report",supports:{cellSelection:!0,edit:!0,highlight:!0,controlBreak:!0,aggregation:!0,singleRowView:!0,configurableColumns:!0,download:!0},gotoCell:function(e,t){return this.singleRowMode?this.curInst.gotoField(e,t):this.curInst.gotoCell(e,t)},lockActive:function(){this.curInst.lockActive()},unlockActive:function(){this.curInst.unlockActive()}})),mo(e.extend({},Co,{title:An("DETAIL"),label:An("DETAIL_VIEW"),internalIdentifier:"detail",cssClass:oe,icon:"icon-ig-details",supports:{sort:!0},viewConfig:function(t,i){var n=t.igConfig,o=n.views.detail;return i.beforeTemplate=o.beforeRows,i.recordTemplate=o.row,i.afterTemplate=o.afterRows,i.useIconList=!1,(i=e.extend(!0,{},n.defaultDetailViewOptions,i)).fixedRowHeight=Rn(i.fixedRowHeight,n.appearance.useFixedRowHeight),i},focus:function(){this.view$.find(":focusable").first().trigger("focus")}})),mo({title:An("CHART"),label:An("CHART_VIEW"),internalIdentifier:Rt,cssClass:ae,icon:"icon-ig-chart",supports:{totalRows:!1,selection:!1,sort:!1,changeRowsPerPage:!1},initDialog:function(t){var i,n,a,l=[],r=[],s=[],d=[],c=An(mn),u=t.options.config.columns;for(r.push({value:"",label:c}),s.push({value:"",label:c}),d.push({value:"",label:c}),n=0;n<u.length;n++)(i=u[n]).specialType||i.isHidden||(a||(a=i),i.features.sort&&r.push({value:i.id,label:t._getColumnLabel(i.id)}),i.dataType===Gi&&s.push({value:i.id,label:t._getColumnLabel(i.id)}),i.dataType!==Gi&&i.dataType!==Ui||d.push({value:i.id,label:t._getColumnLabel(i.id)}));[{value:"",label:An(mn)},{value:bn.CNT,label:An(bn.CNT)},{value:bn.CNT_DIST,label:An(bn.CNT_DIST)},{value:bn.APPR_CNT_DIST,label:An(bn.APPR_CNT_DIST)},{value:bn.MIN,label:An(bn.MIN)},{value:bn.MAX,label:An(bn.MAX)},{value:bn.SUM,label:An(bn.SUM)},{value:bn.AVG,label:An(bn.AVG)}].forEach((function(e){t.options.config.unsupported.chartFunctions.includes(e.value)||l.push(e)})),this.dialog$=t._createDialog("chart",(function(e){e(at,{id:"CH_TYPE",iconOnly:!1,options:[{value:Yi,label:An("AREA"),iconCssClasses:"icon-region-chart-area"},{value:Wi,label:An("BAR"),iconCssClasses:"icon-region-chart-bar"},{value:zi,label:An("BUBBLE"),iconCssClasses:"icon-region-chart-bubble"},{value:ji,label:An("DONUT"),iconCssClasses:"icon-region-chart-donut"},{value:Zi,label:An("FUNNEL"),iconCssClasses:"icon-region-chart-funnel"},{value:Qi,label:An("LINE"),iconCssClasses:"icon-region-chart-line"},{value:Ji,label:An("LINE_WITH_AREA"),iconCssClasses:"icon-region-chart-line-area"},{value:en,label:An("PIE"),iconCssClasses:"icon-region-chart-pie"},{value:tn,label:An("POLAR"),iconCssClasses:"icon-region-chart-polar"},{value:nn,label:An("RADAR"),iconCssClasses:"icon-region-chart-radar"},{value:on,label:An("RANGE"),iconCssClasses:"icon-region-chart-range-bar"},{value:an,label:An("SCATTER"),iconCssClasses:"icon-region-chart-scatter"},{value:ln,label:An("STOCK"),iconCssClasses:"icon-region-chart-stock"}]}),e(tt,{id:"CH_ORIENTATION",options:[{value:rn,label:An("VERTICAL")},{value:"horizontal",label:An("HORIZONTAL")}]}),e(tt,{id:"CH_LABEL_COLUMN",options:r}),e(tt,{id:"CH_VALUE_COLUMN",options:s}),e(tt,{id:"CH_VALUE_FUNCTION",options:l}),e(tt,{id:"CH_X_COLUMN",options:d}),e(tt,{id:"CH_X_FUNCTION",options:l}),e(tt,{id:"CH_Y_COLUMN",options:s}),e(tt,{id:"CH_Y_FUNCTION",options:l}),e(tt,{id:"CH_Z_COLUMN",options:s}),e(tt,{id:"CH_Z_FUNCTION",options:l}),e(tt,{id:"CH_OPEN_COLUMN",options:s}),e(tt,{id:"CH_OPEN_FUNCTION",options:l}),e(tt,{id:"CH_CLOSE_COLUMN",options:s}),e(tt,{id:"CH_CLOSE_FUNCTION",options:l}),e(tt,{id:"CH_HIGH_COLUMN",options:s}),e(tt,{id:"CH_HIGH_FUNCTION",options:l}),e(tt,{id:"CH_LOW_COLUMN",options:s}),e(tt,{id:"CH_LOW_FUNCTION",options:l}),e(tt,{id:"CH_VOLUME_COLUMN",options:s}),e(tt,{id:"CH_VOLUME_FUNCTION",options:l}),e(tt,{id:"CH_TARGET_COLUMN",options:s}),e(tt,{id:"CH_TARGET_FUNCTION",options:l}),e(tt,{id:"CH_SERIES_COLUMN",options:r}),e(tt,{id:"CH_STACK",options:[{value:dn,label:An("OFF")},{value:sn,label:An("ON")}]}),e(tt,{id:"CH_SORT_BY",options:[]}),t._renderSortControls(e,"CH_SORT_"),e(et,{id:"CH_AXIS_LABEL_TITLE",maxChars:255}),e(et,{id:"CH_AXIS_VALUE_TITLE",maxChars:255}),e(et,{id:"CH_AXIS_VALUE_DECIMAL"})}),{viewDialog:!0,width:750,height:450,titleKey:"CHART",modelOptions:{fields:{id:{canHide:!1,hidden:!0,seq:0},type:{label:"TYPE",elementId:"CH_TYPE",seq:10,defaultValue:Wi},orientationId:{label:"ORIENTATION",elementId:"CH_ORIENTATION",seq:20,fieldColSpan:7,defaultValue:rn},labelColumnId:{label:"LABEL_COLUMN",elementId:"CH_LABEL_COLUMN",seq:30,fieldColSpan:7,defaultValue:""},valueColumnId:{label:"VALUE_COLUMN",elementId:"CH_VALUE_COLUMN",seq:40,fieldColSpan:7,defaultValue:""},valueFunctionId:{label:"AGGREGATION",elementId:"CH_VALUE_FUNCTION",seq:45,fieldColSpan:5,defaultValue:""},xColumnId:{label:"X_COLUMN",elementId:"CH_X_COLUMN",seq:50,fieldColSpan:7,defaultValue:""},xFunctionId:{label:"AGGREGATION",elementId:"CH_X_FUNCTION",seq:55,fieldColSpan:5,defaultValue:""},yColumnId:{label:"Y_COLUMN",elementId:"CH_Y_COLUMN",seq:60,fieldColSpan:7,defaultValue:""},yFunctionId:{label:"AGGREGATION",elementId:"CH_Y_FUNCTION",seq:65,fieldColSpan:5,defaultValue:""},openColumnId:{label:"OPEN_COLUMN",elementId:"CH_OPEN_COLUMN",seq:70,fieldColSpan:7,defaultValue:""},openFunctionId:{label:"AGGREGATION",elementId:"CH_OPEN_FUNCTION",seq:75,fieldColSpan:5,defaultValue:""},closeColumnId:{label:"CLOSE_COLUMN",elementId:"CH_CLOSE_COLUMN",seq:80,fieldColSpan:7,defaultValue:""},closeFunctionId:{label:"AGGREGATION",elementId:"CH_CLOSE_FUNCTION",seq:85,fieldColSpan:5,defaultValue:""},highColumnId:{label:"HIGH_COLUMN",elementId:"CH_HIGH_COLUMN",seq:90,fieldColSpan:7,defaultValue:""},highFunctionId:{label:"AGGREGATION",elementId:"CH_HIGH_FUNCTION",seq:95,fieldColSpan:5,defaultValue:""},lowColumnId:{label:"LOW_COLUMN",elementId:"CH_LOW_COLUMN",seq:100,fieldColSpan:7,defaultValue:""},lowFunctionId:{label:"AGGREGATION",elementId:"CH_LOW_FUNCTION",seq:105,fieldColSpan:5,defaultValue:""},volumeColumnId:{label:"VOLUME_COLUMN",elementId:"CH_VOLUME_COLUMN",seq:110,fieldColSpan:7,defaultValue:""},volumeFunctionId:{label:"AGGREGATION",elementId:"CH_VOLUME_FUNCTION",seq:115,fieldColSpan:5,defaultValue:""},targetColumnId:{label:"TARGET_COLUMN",elementId:"CH_TARGET_COLUMN",seq:120,fieldColSpan:7,defaultValue:""},targetFunctionId:{label:"AGGREGATION",elementId:"CH_TARGET_FUNCTION",seq:125,fieldColSpan:5,defaultValue:""},zColumnId:{label:"Z_COLUMN",elementId:"CH_Z_COLUMN",seq:130,fieldColSpan:7,defaultValue:""},zFunctionId:{label:"AGGREGATION",elementId:"CH_Z_FUNCTION",seq:135,fieldColSpan:5,defaultValue:""},seriesColumnId:{label:"SERIES_COLUMN",elementId:"CH_SERIES_COLUMN",seq:140,fieldColSpan:7,defaultValue:""},stackId:{label:"STACK",elementId:"CH_STACK",seq:143,fieldColSpan:5,defaultValue:dn},sortBy:{label:"SORT_BY",elementId:"CH_SORT_BY",seq:145,fieldColSpan:7,defaultValue:An("LABEL_COLUMN")},sortDirection:{label:"DIRECTION",elementId:"CH_SORT_DIRECTION",seq:147,fieldColSpan:3,defaultValue:Bt},sortNulls:{label:"NULLS",elementId:"CH_SORT_NULLS",seq:149,fieldColSpan:2,defaultValue:Xt},axisLabelTitle:{label:"AXIS_LABEL_TITLE",elementId:"CH_AXIS_LABEL_TITLE",seq:150,fieldColSpan:7},axisValueTitle:{label:"AXIS_VALUE_TITLE",elementId:"CH_AXIS_VALUE_TITLE",seq:170,fieldColSpan:7},axisValueDecimal:{label:"AXIS_VALUE_DECIMAL",elementId:"CH_AXIS_VALUE_DECIMAL",seq:180,fieldColSpan:3}}},init:function(i,n,o){var a,l,r={},s=t._getElement("CH_TYPE"),d=t._getElement("CH_ORIENTATION"),c=t._getElement("CH_LABEL_COLUMN"),u=t._getElement("CH_VALUE_COLUMN"),h=t._getElement("CH_X_COLUMN"),g=t._getElement("CH_Y_COLUMN"),p=t._getElement("CH_Z_COLUMN"),m=t._getElement("CH_OPEN_COLUMN"),f=t._getElement("CH_CLOSE_COLUMN"),_=t._getElement("CH_HIGH_COLUMN"),C=t._getElement("CH_LOW_COLUMN"),I=t._getElement("CH_VOLUME_COLUMN"),b=t._getElement("CH_TARGET_COLUMN"),v=t._getElement("CH_SERIES_COLUMN"),E=t._getElement("CH_STACK"),w=t._getElement("CH_AXIS_LABEL_TITLE"),A=t._getElement("CH_AXIS_VALUE_TITLE"),R=t._getElement("CH_AXIS_VALUE_DECIMAL"),S=t._getElement("CH_VALUE_FUNCTION"),T=t._getElement("CH_X_FUNCTION"),L=t._getElement("CH_Y_FUNCTION"),N=t._getElement("CH_Z_FUNCTION"),y=t._getElement("CH_OPEN_FUNCTION"),O=t._getElement("CH_CLOSE_FUNCTION"),V=t._getElement("CH_HIGH_FUNCTION"),k=t._getElement("CH_LOW_FUNCTION"),D=t._getElement("CH_VOLUME_FUNCTION"),M=t._getElement("CH_TARGET_FUNCTION"),x=t._getElement("CH_SORT_BY"),H=t._getElement("CH_SORT_DIRECTION"),F=t._getElement("CH_SORT_NULLS"),P=x.val();function G(){for(const[t,i]of Object.entries(r))x.append(e(Ze).attr("value",t).text(i))}function U(){const e=s.val();switch(co([d,c,u,h,g,p,m,f,_,C,I,b,v,E,w,A,R,S,T,L,N,y,O,V,k,D,M,x,H,F]),function(){var e=o.recordView("getRecord");function t(t,n){i.setValue(e,t,n)}t("sortBy",x.val()),t("sortDirection",H.val()),t("sortNulls",F.val()),t("orientationId",d.val()),t("stackId",E.val())}(),a=[d,c,u,v,E,S,w,A,R,x,H,F],l=[c,u,S,x,H,F],e){case Yi:so(a),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),G();break;case Wi:so([d,c,u,p,v,E,S,N,w,A,R,x,H,F]),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),r[Vn]=An("Z_COLUMN"),G(),null===P&&""===P||x.val(P);break;case zi:so([c,h,g,p,T,L,N,w,A,R,x,H,F]),uo([c,h,g,p],!0),uo([u,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[yn]=An("X_COLUMN"),r[On]=An("Y_COLUMN"),r[Vn]=An("Z_COLUMN"),G(),null===P&&""===P||x.val(P);break;case ji:so([c,u,S,x,H,F,R]),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),G(),null===P&&""===P||x.val(P);break;case Zi:so([d,c,u,b,S,M,x,H,F]),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),r[kn]=An("TARGET_COLUMN"),G(),null===P&&""===P||x.val(P);break;case Qi:case Ji:so(a),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),G(),null===P&&""===P||x.val(P);break;case en:so([c,u,S,R,x,H,F]),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1);break;case tn:case nn:so(l),uo([c,u],!0),uo([h,g,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Nn]=An("VALUE_COLUMN"),G(),null===P&&""===P||x.val(P);break;case on:so([d,c,_,C,p,v,V,k,N,w,A,R,x,H,F]),uo([_,C],!0),uo([c,u,h,g,p,m,f],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[Dn]=An("HIGH_COLUMN"),r[Mn]=An("LOW_COLUMN"),r[Vn]=An("Z_COLUMN"),G(),null===P&&""===P||x.val(P);break;case ln:so([c,m,f,_,C,I,y,O,V,k,D]),uo([c,m,f,_,C],!0),uo([u,h,g,p],!1);break;case an:so([c,h,g,v,T,L,w,A,R,x,H,F]),uo([c,h,g],!0),uo([u,p,m,f,_,C],!1),P=x.val(),x.empty(),(r={})[Ln]=An("LABEL_COLUMN"),r[yn]=An("X_COLUMN"),r[On]=An("Y_COLUMN"),G(),null===P&&""===P||x.val(P)}}s.on(Gn,U),o.on("apexbeginrecordedit",(function(){var e=s.val();io(t._getId("CH_TYPE"),e),U()}))},load:function(i){var n,o,a=e.extend({},t.getChart());for(n in a.axis&&(a.axis.label&&(a.axisLabelTitle=a.axis.label),a.axis.value&&(a.axisValueTitle=a.axis.value),a.axis.valueDecimalPlaces&&(a.axisValueDecimal=a.axis.valueDecimalPlaces),delete a.axis),a.stackId=a.stack,delete a.stack,a.orientationId=a.orientation,delete a.orientation,a.chartColumns)if(vn(a.chartColumns,n))switch(o=a.chartColumns[n],n){case"LABEL":a.type in{bar:1,bubble:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}&&(a.labelColumnId=o.columnId,o.sort&&(a.sortBy="LABEL",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls));break;case"VALUE":a.valueColumnId=o.columnId,o.function&&(a.valueFunctionId=o.function),o.sort&&(a.sortBy="VALUE",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"X":a.xColumnId=o.columnId,o.function&&(a.xFunctionId=o.function),o.sort&&(a.sortBy="X",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"Y":a.yColumnId=o.columnId,o.function&&(a.yFunctionId=o.function),o.sort&&(a.sortBy="Y",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"Z":a.zColumnId=o.columnId,o.function&&(a.zFunctionId=o.function),o.sort&&(a.sortBy="Z",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"OPEN":a.openColumnId=o.columnId,o.function&&(a.openFunctionId=o.function);break;case"CLOSE":a.closeColumnId=o.columnId,o.function&&(a.closeFunctionId=o.function);break;case"HIGH":a.highColumnId=o.columnId,o.function&&(a.highFunctionId=o.function),o.sort&&(a.sortBy="HIGH",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"LOW":a.lowColumnId=o.columnId,o.function&&(a.lowFunctionId=o.function),o.sort&&(a.sortBy="LOW",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"VOLUME":a.volumeColumnId=o.columnId,o.function&&(a.volumeFunctionId=o.function);break;case"TARGET":a.targetColumnId=o.columnId,o.function&&(a.targetFunctionId=o),o.sort&&(a.sortBy="TARGET",a.sortDirection=o.sort.direction,a.sortNulls=o.sort.nulls);break;case"SERIES_NAME":a.seriesColumnId=o.columnId}delete a.chartColumns,i.setData(a)},validate:function(e,t,i){var n,a=!0,l=e.getRecord();return l.sortBy&&(n=l.sortBy.toLowerCase()+"ColumnId",vn(l,n)?t(l.sortBy,"sortBy"):(i(l.sortBy,"sortBy",o.formatMessage("APEX.IG.INVALID_SORT_BY",l.sortBy)),a=!1)),a},store:function(i){var n,o,a,l,r,s,d,c,u,h,g,p,m=e.extend({},i.getRecord());m.axis={},m.axis={label:m.axisLabelTitle,value:m.axisValueTitle,valueDecimalPlaces:m.axisValueDecimal},delete m.axisLabelTitle,delete m.axisValueTitle,delete m.axisValueDecimal,m.stack=m.stackId,m.orientation=m.orientationId,m.chartColumns={},m.type in{bar:1,bubble:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}?m.labelColumnId&&(n={columnId:m.labelColumnId,columnType:rt},m.sortBy===Ln&&(n.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.chartColumns.LABEL=n):delete m.chartColumns.LABEL,m.type in{bar:1,area:1,funnel:1,pie:1,donut:1,polar:1,radar:1,line:1,lineWithArea:1}?m.valueColumnId&&(o={columnId:m.valueColumnId,columnType:rt},m.sortBy===Nn&&(o.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.valueFunctionId&&(o.function=m.valueFunctionId),m.chartColumns.VALUE=o):delete m.chartColumns.VALUE,m.type in{bubble:1,scatter:1}?(m.xColumnId&&(a={columnId:m.xColumnId,columnType:rt},"X"===m.sortBy&&(a.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.xFunctionId&&(a.function=m.xFunctionId),m.chartColumns.X=a),m.yColumnId&&(l={columnId:m.yColumnId,columnType:rt},"Y"===m.sortBy&&(l.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.yFunctionId&&(l.function=m.yFunctionId),m.chartColumns.Y=l)):(delete m.chartColumns.X,delete m.chartColumns.Y),m.type in{bar:1,bubble:1}?m.zColumnId&&(r={columnId:m.zColumnId,columnType:rt},"Z"===m.sortBy&&(r.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.zFunctionId&&(r.function=m.zFunctionId),m.chartColumns.Z=r):delete m.chartColumns.Z,m.type===ln?(m.openColumnId&&(s={columnId:m.openColumnId,columnType:rt},m.openFunctionId&&(s.function=m.openFunctionId),m.chartColumns.OPEN=s),m.closeColumnId&&(d={columnId:m.closeColumnId,columnType:rt},m.closeFunctionId&&(d.function=m.closeFunctionId),m.chartColumns.CLOSE=d),m.volumeColumnId&&(h={columnId:m.volumeColumnId,columnType:rt},m.volumeFunctionId&&(h.function=m.volumeFunctionId),m.chartColumns.VOLUME=h)):(delete m.chartColumns.OPEN,delete m.chartColumns.CLOSE,delete m.chartColumns.VOLUME),m.type in{range:1,stock:1}?(m.highColumnId&&(c={columnId:m.highColumnId,columnType:rt},"HIGH"===m.sortBy&&(c.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.highFunctionId&&(c.function=m.highFunctionId),m.chartColumns.HIGH=c),m.lowColumnId&&(u={columnId:m.lowColumnId,columnType:rt},"LOW"===m.sortBy&&(u.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.lowFunctionId&&(u.function=m.lowFunctionId),m.chartColumns.LOW=u)):(delete m.chartColumns.HIGH,delete m.chartColumns.LOW),m.type===Zi?m.targetColumnId&&(g={columnId:m.targetColumnId,columnType:rt},"TARGET"===m.sortBy&&(g.sort={order:1,direction:m.sortDirection,nulls:m.sortNulls}),m.targetFunctionId&&(g.function=m.targetFunctionId),m.chartColumns.TARGET=g):delete m.chartColumns.TARGET,m.seriesColumnId&&(p={columnId:m.seriesColumnId,columnType:rt},m.chartColumns.SERIES_NAME=p),delete m.sortBy,delete m.sortDirection,delete m.sortNulls,delete m.stackId,delete m.orientationId,delete m.xColumnId,delete m.xFunctionId,delete m.yFunctionId,delete m.yColumnId,delete m.valueColumnId,delete m.valueFunctionId,delete m.labelColumnId,delete m.zColumnId,delete m.zFunctionId,delete m.openColumnId,delete m.openFunctionId,delete m.closeColumnId,delete m.closeFunctionId,delete m.volumeColumnId,delete m.volumeFunctionId,delete m.highColumnId,delete m.highFunctionId,delete m.lowColumnId,delete m.lowFunctionId,delete m.targetColumnId,delete m.targetFunctionId,delete m.seriesColumnId,t.setChart(m)}})},setColumnConfig:function(t){var i,n,o,a,l,r={},s={},d=t.baseModelColumns,c=t.ig,u=t.igConfig,h=t.currentReportSettings.views.chart.chartColumns,g=["CLOSE","HIGH","LABEL","LOW","OPEN","SERIES_NAME","TARGET","VALUE","VOLUME","X","Y","Z"],p=0;for(l=0;l<g.length;l++)vn(h,o=g[l])&&((r=e.extend(!0,{},d[h[o].columnId])).seq=p,r.index=p,s[o]=r,p+=1);if(u.parentRegionStaticId)for(n in d)vn(d,n)&&(a=d[n]).parentField&&(i=c._getColumn(n),(r=e.extend(!0,{},a)).seq=p,r.virtual=!0,delete r.index,s[i.name]=r,p+=1);this.modelColumns=s,this.specialColumns={}},initView:function(t){var i,n,o,a,l,r,s,d,c,u,h=t.ig,g=this,p=h._currentReportSettings().views.chart,m=t.igConfig,f=[],_="disabled";require(["ojs/ojcore","ojs/ojchart","ojs/ojvalidation"],(function(t){function C(e){var i,n=t.ConverterFactory.CONVERTER_TYPE_NUMBER,o=h._getColumn(e);return o.filter.dataType===Ui||o.filter.dataType===qi||o.filter.dataType===Xi||o.filter.dataType===$i?(n=t.ConverterFactory.CONVERTER_TYPE_DATETIME,i=function(e){let t=e.appearance.formatMask;t?Hn.forEach((e=>{e.value===t&&(t=e.label)})):t={formatType:"date",dateFormat:"medium"};return t}(o)):o.filter.dataType===Gi&&(i=function(e){let t,i=e.appearance.formatExample.trim();p.axis&&p.axis.valueDecimalPlaces&&(t=p.axis.valueDecimalPlaces);i?xn.forEach((e=>{e.value===i&&(i=e.label)})):i={style:"decimal",maximumFractionDigits:t||2};return i}(o)),i?t.Validation.converterFactory(n).createConverter(i):{}}switch(p.chartColumns.LABEL.columnId&&((l=h._getColumn(p.chartColumns.LABEL.columnId)).filter.dataType!==Ui&&l.filter.dataType!==qi&&l.filter.dataType!==Xi&&l.filter.dataType!==$i||(_="enabled")),n={legend:{rendered:cn,position:"end"},orientation:p.orientation,stack:p.stack,animationOnDisplay:cn,animationOnDataChange:cn,hoverBehavior:"dim",groups:[],series:[],valueFormats:[],timeAxisType:_,translations:{labelNoData:m.text.noDataFound}},p.type){case Yi:case Wi:o=e.extend({},n,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:cn}:{rendered:dn},coordinateSystem:un,valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:"y",converter:C(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case zi:o=e.extend({},n,{type:p.type,legend:{rendered:dn},coordinateSystem:un,xAxis:{},yAxis:{}});break;case ji:o=e.extend({},n,{type:en,styleDefaults:{pieInnerRadius:.5},legend:{rendered:cn},hideAndShowBehavior:"withRescale",valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}]});break;case en:o=e.extend({},n,{type:p.type,styleDefaults:{pieInnerRadius:0},legend:{rendered:cn},hideAndShowBehavior:"withRescale",valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}]});break;case Zi:o=e.extend({},n,{type:p.type,legend:{rendered:cn},valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}]}),p.chartColumns.TARGET&&o.valueFormats.push({type:"target",converter:C(p.chartColumns.TARGET.columnId)});break;case Qi:case Ji:o=e.extend({},n,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:cn}:{rendered:dn},coordinateSystem:un,valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}],xAxis:{},yAxis:{}});break;case tn:o=e.extend({},n,{type:Wi,coordinateSystem:p.type,legend:{rendered:dn},valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}],polarGridShape:"circle",stack:sn});break;case nn:o=e.extend({},n,{type:Yi,coordinateSystem:tn,legend:{rendered:dn},valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:ri,converter:C(p.chartColumns.VALUE.columnId)}],polarGridShape:"polygon",stack:sn});break;case on:o=e.extend({},n,{type:Wi,legend:p.chartColumns.SERIES_NAME?{rendered:cn}:{rendered:dn},valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:"high",converter:C(p.chartColumns.HIGH.columnId)},{type:"low",converter:C(p.chartColumns.LOW.columnId)}],xAxis:{},yAxis:{}});break;case an:o=e.extend({},n,{type:p.type,legend:p.chartColumns.SERIES_NAME?{rendered:cn}:{rendered:dn},coordinateSystem:un,valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:"x",converter:C(p.chartColumns.X.columnId)},{type:"y",converter:C(p.chartColumns.Y.columnId)}],xAxis:{},yAxis:{}});break;case ln:o=e.extend({},n,{type:p.type,zoomAndScroll:"delayed",initialZooming:"first",legend:{rendered:cn},dataCursor:sn,dataCursorBehavior:"smooth",valueFormats:[{type:ni,converter:C(p.chartColumns.LABEL.columnId)},{type:"high",converter:C(p.chartColumns.HIGH.columnId)},{type:"low",converter:C(p.chartColumns.LOW.columnId)},{type:"open",converter:C(p.chartColumns.OPEN.columnId)},{type:"close",converter:C(p.chartColumns.CLOSE.columnId)}],xAxis:{},yAxis:{}}),p.chartColumns.VOLUME&&o.valueFormats.push({type:"volume",converter:C(p.chartColumns.VOLUME.columnId)}),o.series.type="candlestick"}if(p.type in{area:1,bar:1,bubble:1,line:1,lineWithArea:1,range:1,stock:1,scatter:1}){switch(p.type){case ln:r=p.chartColumns.OPEN.columnId;break;case on:r=p.chartColumns.HIGH.columnId;break;case an:case zi:r=p.chartColumns.X.columnId;break;default:r=p.chartColumns.VALUE.columnId}p.axis&&(p.axis.label&&(s=p.axis.label),p.axis.value&&(d=p.axis.value)),o.xAxis={title:s,baselineScaling:"zero",majorTick:{rendered:sn},minorTick:{rendered:dn},tickLabel:{rendered:sn,converter:C(p.chartColumns.LABEL.columnId),scaling:$t},position:cn,rotation:dn},o.yAxis={title:d,baselineScaling:"zero",position:p.type===ln?"end":cn,majorTick:{rendered:sn},minorTick:{rendered:dn},tickLabel:{rendered:sn,converter:C(r),scaling:$t}}}if(p.type in{bar:1,area:1,polar:1,radar:1,range:1,line:1,lineWithArea:1,bubble:1,scatter:1,stock:1}){switch(i={path:"groups",uniqueIndexField:"LABEL",item:{name:"LABEL"}},p.type){case zi:a={name:"LABEL",x:"X",y:"Y",z:"Z",labelPosition:"'none'"};break;case an:a={name:"LABEL",x:"X",y:"Y",labelPosition:"'none'"};break;case ln:a={name:"LABEL",open:"OPEN",close:"CLOSE",high:"HIGH",low:"LOW",volume:"VOLUME"};break;case on:a={name:"LABEL",high:"HIGH",low:"LOW",labelPosition:"'none'"};break;default:a={label:"VALUE",value:"VALUE",name:"LABEL",labelPosition:"'none'"}}f=p.chartColumns.SERIES_NAME?[i,{path:"series",uniqueIndexField:"SERIES_NAME",item:{name:"SERIES_NAME",displayInLegend:sn}},{path:"series/[SERIES_NAME]/items",item:a}]:[i,{path:"series/0/items",item:a}]}if(p.type in{pie:1,donut:1,funnel:1}&&(c=g.model.getFieldKey("LABEL"),f=[{path:"series",uniqueIndexField:"LABEL",item:function(e,t){return{name:""+t[c],displayInLegend:sn}}},{path:"series/[LABEL]/items",item:{value:"VALUE",targetValue:"TARGET"}}]),p.chartColumns.VALUE){if(p.chartColumns.VALUE.sort)switch(p.chartColumns.VALUE.sort.direction){case"asc":u="ascending";break;case"desc":u="descending"}}else p.chartColumns.LABEL.sort?u="label-"+p.chartColumns.LABEL.sort.direction:(p.chartColumns.SERIES_NAME&&(u="label-asc"),u="off");o.sorting=u,g._dataTransformOptions={showNullAs:m.appearance.showNullValue,offset:0,template:f},g._chartOptions=o,g._updateChartData(),g.view$.ojChart(o).css({"max-width":"100%"}),g._subscribeModel(),(m.lazyLoad||g.model.getTotalRecords()<0)&&g.refresh()}))},_updateChartData:function(){var e;if(e=this.model.transform(this._dataTransformOptions,this._chartOptions),!["pie","funnel","scatter","bubble","stock","polar","radar"].includes(e.type)&&e.series.length>1&&"mixedFrequency"!==e.timeAxisType&&"skipGaps"!==e.timeAxisType){u.chartSortArray(e.groups,e.sorting);for(var t=0;t<e.series.length;t++)u.chartFillGaps(e.groups,e.series[t].items,e.sorting,!0)}},_subscribeModel:function(){var e=this,t=this.view$;this._observedModel&&this._observedModel.unSubscribe(this._observerId),this._observedModel=this.model,this._observerId=this.model.subscribe({viewId:t[0].id,onChange:function(t){t===gt&&e.refresh()},progressView:t})},refresh:function(){var e=this;if(this.view$.hasClass("oj-chart")){if(null===this.view$[0].offsetParent)return void(this._pendingRefresh=!0);this._pendingRefresh=!1,this.model.fetch(0,(function(t){t&&i.warn("No data fetched for chart"),e._updateChartData(),e.resize()}))}},resize:function(){if(this.view$.hasClass("oj-chart")){if(this._pendingRefresh)return void this.refresh();this.view$.ojChart(gt)}},destroyView:function(){this.model&&this.model.unSubscribe(this.view$[0].id),this.view$.ojChart(ut)},setModelName:function(){this._subscribeModel(),this.view$.hasClass("oj-chart")&&(this.model.getTotalRecords()<0?this.refresh():(this._updateChartData(),this.resize()))},setNoDataMessage:function(e){var t=this.view$;t.hasClass("oj-chart")&&t.ojChart(Et,"translations.labelNoData",e)}})}(apex.jQuery,apex.util,apex.debug,apex.server,apex.lang,apex.actions,apex.region,apex.theme,apex.message,apex.item,apex.model,apex.widget.util,apex.locale,apex.navigation,apex.date);