/*!
 Copyright (c) 2012, 2023, Oracle and/or its affiliates.
 */
apex.da={},function(e,t,n,i,a){"use strict";function r(t,n,i,a){let r;return r=!t||("JAVASCRIPT_EXPRESSION"===t?i.call(a):e.testCondition(n,t,i)),r}e.gEventList=[],e.gCancelActions=!1,e.init=function(){e.gEventList.forEach((function(n){const a=t.extend({name:null,bindDelegateTo:null,isIGRegion:!1},n),r=e.constructSelector({elementType:a.triggeringElementType,element:a.triggeringElement,regionId:a.triggeringRegionId,buttonId:a.triggeringButtonId});let o,l;if(-1===t.inArray(a.bindEventType,["ready","pageinit"])){switch(l=function(t,n){e.actions(this,a,t,n)},"DEBOUNCE"===a.executionType?l=i.debounce(l,a.executionTime,a.executionImmediate):"THROTTLE"===a.executionType&&(l=i.throttle(l,a.executionTime,a.executionImmediate)),a.bindType){case"bind":t(r,apex.gPageContext$).on(a.bindEventType,l);break;case"live":o=a.bindDelegateTo?t(a.bindDelegateTo,apex.gPageContext$):apex.gPageContext$,o.on(a.bindEventType,r,l);break;case"one":t(r,apex.gPageContext$).one(a.bindEventType,(function(t,n){e.actions(this,a,t,n)}))}a.anyActionsFireOnInit&&(a.isIGRegion?t("#"+i.escapeCSS(a.triggeringRegionId),apex.gPageContext$).on("apexbeginrecordedit",(function(t,n){e.actions(r,a,t,n)})):e.actions(r,a,"load"))}else e.actions(r,a,"load")}))},e.constructSelector=function(e){let n,a,r;switch(n={elementType:null,element:null,regionId:null,buttonId:null,triggeringElement:null,eventTarget:null},a=t.extend(n,e),a.elementType){case"ITEM":case"COLUMN":r=function(e){const n=e.split(",");return"#"+t.map(n,(function(e){return i.escapeCSS(e)})).join(",#")}(a.element);break;case"REGION":r="#"+i.escapeCSS(a.regionId);break;case"BUTTON":r="#"+i.escapeCSS(a.buttonId);break;case"JAVASCRIPT_EXPRESSION":r=a.element();break;case"DOM_OBJECT":throw new Error("Dynamic Action type DOM_OBJECT is desupported");case"JQUERY_SELECTOR":r=a.element;break;case"TRIGGERING_ELEMENT":r=a.triggeringElement;break;case"EVENT_SOURCE":r=a.eventTarget;break;default:r=apex.gPageContext$}return"#"===r&&(r=void 0),r},e.actions=function(i,a,o,l){n.gCancelFlag=!1,e.gCancelActions=!1,t(i,apex.gPageContext$).each((function(){const t={triggeringElement:this,browserEvent:o,data:l},n=r(a.triggeringConditionType,a.conditionElement,a.triggeringConditionExpression,t);e.doActions(a,0,n,t),e.gCancelActions=!1}))},e.doActions=function(n,i,a,o){const l=n.actionList.length;for(let c=i;c<l;c++){let i,l;if(e.gCancelActions)return!1;const s={name:null,eventResult:null,conditionElement:null,conditionType:null,conditionExpression:null,executeOnPageInit:!1,stopExecutionOnError:!0,action:null,affectedElementsType:null,affectedRegionId:null,affectedElements:null,javascriptFunction:null,ajaxIdentifier:null,attribute01:null,attribute02:null,attribute03:null,attribute04:null,attribute05:null,attribute06:null,attribute07:null,attribute08:null,attribute09:null,attribute10:null,attribute11:null,attribute12:null,attribute13:null,attribute14:null,attribute15:null},u=t.extend(s,n.actionList[c]);if("NATIVE_ALERT"!==u.action&&"NATIVE_CONFIRM"!==u.action&&"NATIVE_OPEN_AI_ASSISTANT"!==u.action||(u.waitForResult=!0),("load"!==o.browserEvent||"load"===o.browserEvent&&(u.executeOnPageInit||-1!==t.inArray(n.bindEventType,["ready","pageinit"])))&&u.eventResult===a&&r(u.conditionType,u.conditionElement,u.conditionExpression,o)&&(i=e.constructSelector({elementType:u.affectedElementsType,element:u.affectedElements,regionId:u.affectedRegionId,buttonId:u.affectedButtonId,triggeringElement:o.triggeringElement,eventTarget:o.browserEvent.target}),u.waitForResult&&(l=function(t){e.gCancelActions=u.stopExecutionOnError&&t,e.doActions(n,c+1,a,o)}),!1===e.doAction(o,i,u,n.name,l)&&u.stopExecutionOnError&&(e.gCancelActions=!0),u.waitForResult))return!1}},e.testCondition=function(e,n,i){const a=apex.item(e),r=a.getValue();let o,l;switch(n){case"EQUALS":if(Array.isArray(r)){o=!1;for(const e of r)if(o=e===i,o)break}else o=r===i;break;case"NOT_EQUALS":if(Array.isArray(r)){o=!0;for(const e of r)if(o=e!==i,!o)break}else o=r!==i;break;case"IN_LIST":if(l=i.split(","),Array.isArray(r)){o=!1;for(const e of r)if(o=-1!==t.inArray(e,l),o)break}else o=-1!==t.inArray(r,l);break;case"NOT_IN_LIST":if(l=i.split(","),Array.isArray(r)){o=!0;for(const e of r)if(o=-1===t.inArray(e,l),!o)break}else o=-1===t.inArray(r,l);break;case"GREATER_THAN":if(Array.isArray(r)){o=!0;for(const e of r)if(o=e>parseFloat(i),!o)break}else o=r>parseFloat(i);break;case"GREATER_THAN_OR_EQUAL":if(Array.isArray(r)){o=!0;for(const e of r)if(o=e>=parseFloat(i),!o)break}else o=r>=parseFloat(i);break;case"LESS_THAN":if(Array.isArray(r)){o=!0;for(const e of r)if(o=e<parseFloat(i),!o)break}else o=r<parseFloat(i);break;case"LESS_THAN_OR_EQUAL":if(Array.isArray(r)){o=!0;for(const e of r)if(o=e<=parseFloat(i),!o)break}else o=r<=parseFloat(i);break;case"NULL":o=a.isEmpty();break;case"NOT_NULL":o=!a.isEmpty();break;default:o=!0}return o},e.doAction=function(e,n,i,a,r){const o={triggeringElement:e.triggeringElement,affectedElements:t(n,apex.gPageContext$),action:i,browserEvent:e.browserEvent,data:e.data,resumeCallback:r};if(i.javascriptFunction)return apex.debug.info(`Dynamic Action Fired: ${a} - ${i.name?i.name+" ("+i.action+")":i.action}`,o),i.javascriptFunction.call(o)},e.resume=function(e,t){"function"==typeof e&&e(t)},e.cancel=function(){apex.event.gCancelFlag=!0,e.gCancelActions=!0},e.handleAjaxErrors=function(t,n,i,r){let o;if(0!==t.status)return o="APEX"===n?i:"Error: "+n+" - "+i,void a.alert(o,(function(){e.resume(r,!0)}));e.resume(r,!0)}}(apex.da,apex.jQuery,apex.event,apex.util,apex.message);