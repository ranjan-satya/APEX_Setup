/*!
 * Copyright (c) 2012, 2024, Oracle and/or its affiliates. All rights reserved.
 */
apex.widget.report={},function(e,t,a,r,i,o,n){"use strict";t.gRowActive={},t.gStyleMouseOver={},t.gStyleChecked={},t.gPageItemsToSubmit={};var c={};function s(e,i,o){var n=o||{},c={};return n.x01=e,void 0!==t.gPageItemsToSubmit[e]&&(n.pageItems=t.gPageItemsToSubmit[e]),c.success=function(t){var a=$u_js_temp_drop();r("#report_"+e+"_catch",apex.gPageContext$).attr("id","report_"+e+"_catch_old"),r(a).html(t),r("#report_"+e+"_catch_old",apex.gPageContext$).replaceWith(r("#report_"+e+"_catch",apex.gPageContext$)),r(a).empty(),o.p_focus_element_sel&&r(o.p_focus_element_sel).trigger("focus")},c.dataType="html",c.refreshObject="#report_"+apex.util.escapeCSS(e)+"_catch",c.refreshObjectData=e,c.loadingIndicator=c.refreshObject,c.loadingIndicatorPosition="centered",a.plugin(i,n,c)}t.init=function(s,g,p){const l=p.internalRegionId,d=r("#"+apex.util.escapeCSS(s),apex.gPageContext$);let _,h;apex.util.setPCTGraphStyles(),c[l]=g,void 0!==p.pageItems&&(t.gPageItemsToSubmit[l]=p.pageItems),t.gRowActive[l]=[],t.gStyleChecked[l]=p.styleChecked,r("#report_"+s+" .highlight-row",apex.gPageContext$).each((function(e){t.gRowActive[l][e]="N"})),void 0!==p.styleMouseOver&&(t.gStyleMouseOver[l]=p.styleMouseOver,r("#"+s,apex.gPageContext$).on("hover","#report_"+s+" .highlight-row",(function(e){"mouseenter"===e.type?r(this).closest("tr").children("td").css("background-color",t.gStyleMouseOver[l]):"mouseleave"===e.type&&("Y"===t.gRowActive[l][r("#report_"+s+" .highlight-row",apex.gPageContext$).index(this)]?r(this).closest("tr").children("td").css("background-color",t.gStyleChecked[l]):r(this).closest("tr").children("td").css("background-color",""))}))),d.length?(p.lazyLoading&&apex.widget.util.whenBecomesVisible(d,(function(){t.reset(l,g)})),d.attr("aria-live","polite"),e.create(s,{type:"ClassicReport",filterRegionId:p.filterRegionId,refresh:()=>t.reset(l,g)}),d.on("apexrefresh",(()=>{e(s).refresh()})),_=d[0]):_=r(`#report_${apex.util.escapeCSS(l)}_catch`).parent()[0],h=i.createContext("ClassicReport",_,s),h.add([{name:"sort",action:function(e,a,r){t.sort(e.target,g,r.by)}},{name:"paginate",choices:[],action:function(e,a,i){let n;if(i)n={min:i.min,max:i.max,fetched:i.fetched};else{n=r(e.target).val();try{n=JSON.parse(n)}catch(e){return o.redirect(n)}}n&&t.paginate(l,g,n)}},{name:"download",action:function(e,t,r){let i={p_widget_action:r.widgetAction,pageItems:p.pageItems};r.formatItem&&(i.x01=n(r.formatItem).getValue()),o.redirect(a.pluginUrl(g,i),r.ignoreUnsavedChanges)}}]),r("[data-col-width]",d).each((function(){let e=r(this).attr("data-col-width");r(this).css("inline-size",e)}))},t.reset=function(e,t){var a={p_widget_action:"reset"};return s(e,t,a)},t.sort=function(e,t,a){let r={},i=t;const o=e.id,n=o.substring(1,o.lastIndexOf("_"));i&&""!==i&&null!==i||(i=c[n]),r.p_widget_action="sort",r.p_widget_action_mod=a,r.p_clear_cache="RP",r.p_fsp_region_id=n,r.p_focus_element_sel="#"+o,s(n,i,r)},t.paginate=function(e,t,a){var r=a;if("string"==typeof r){if("current"===r)return;r=apex.jQuery.parseJSON(r)}r.p_widget_action="paginate",r.p_pg_min_row=r.min,r.p_pg_max_rows=r.max,r.p_pg_rows_fetched=r.fetched,delete r.min,delete r.max,delete r.fetched,s(e,t,r)}}(apex.region,apex.widget.report,apex.server,apex.jQuery,apex.actions,apex.navigation,apex.item);