/*!
 Copyright (c) 2021, 2023, Oracle and/or its affiliates.
*/
!function(t,e,a,n,l){"use strict";const r=/V|RN|TM|EEEE/,i=a.formatNumber,u=a.toNumber,o=(t,e)=>{let a=u(t,e);return isNaN(a)||(t=i(a,e)),t.trim()},m=(t,e)=>{let a=t.element;if(a[0].setCustomValidity(""),""===e||null===e)a.val(e);else{let l,r,o,m=!0,s=t._format,_=u(e,s);r=t._min,null!=r&&(r=u(r)),o=t._max,null!=o&&(o=u(o)),isNaN(_)?m=!1:(s&&(e=i(_,s).trim()),null!=r&&null!=o?(_<r||_>o)&&(m=!1):null!=r?_<r&&(m=!1):null!=o&&_>o&&(m=!1)),a.val(e),m||(l=null!=r&&null!=o?n.formatMessage("APEX.NUMBER_FIELD.VALUE_NOT_BETWEEN_MIN_MAX",i(r,s),i(o,s)):null!=r?n.formatMessage("APEX.NUMBER_FIELD.VALUE_LESS_MIN_VALUE",i(r,s)):null!=o?n.formatMessage("APEX.NUMBER_FIELD.VALUE_GREATER_MAX_VALUE",i(o,s)):n.getMessage("APEX.NUMBER_FIELD.VALUE_INVALID"),a[0].setCustomValidity(l))}},s={item_type:"NUMBER",setValue:function(t,e,a){this._noFormat?this.element.val(t):m(this,t),a||(this._preventChangeHandler=!0)},getValue:function(){let t=this.element.val();return this._noFormat||(t=o(this.element.val(),this._format)),t},isChanged:function(){return this.node.value!==this.node.defaultValue},displayValueFor:function(t){return this._noFormat?t:o(t,this._format)},getNativeValue:function(){return u(this.element.val(),this._format)}};t.addAttachHandler((function(e){l("input.apex-item-number",e).each((function(){let e,a=l(this),n=this.id;a.on("change",(()=>{e._preventChangeHandler?e._preventChangeHandler=!1:e._noFormat||m(e,a.val())})),t.create(n,s),e=t(n),e._format=a.attr("data-format")||null,r.test(e._format)&&(e._noFormat=!0),e._min=a.attr("data-min")||null,e._max=a.attr("data-max")||null,e._preventChangeHandler=!1,e._noFormat||m(e,a.val())}))}))}(apex.item,apex.util,apex.locale,apex.lang,apex.jQuery);