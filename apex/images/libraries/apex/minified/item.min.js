/*!
 Copyright (c) 2012, 2024, Oracle and/or its affiliates.
 */
!function(e,t,a,i){"use strict";const s="apexitem",l=/^\s*$/,n=t.escapeCSS,r="RADIO_GROUP",o="CHECKBOX_GROUP",h="CHECKBOX",d="RADIO",u="HIDDEN",p="SELECT",c="SHUTTLE",g="TEXT",f="TEXTAREA",m="DISPLAY_SAVES_STATE",y="DISPLAY_ONLY",b="POPUP_LOV",x="POPUP_KEY_LOV",v="READ_ONLY",V="value",_="is-disabled apex_disabled",C="js-accessible-readonly";function E(e){return"function"==typeof e}function w(e,a){return e&&null!=a&&(a=t.escapeHTML(""+a)),a}function k(e,t){let a=n(e),s=i('label[for="'+a+'"]');if(s[0]||(s=i('label[id="'+a+'_LABEL"]')),!s[0]){let e=t||i("#"+a);if(a=n(e.attr("aria-labelledby")),!a)return e.attr("aria-label")||"";s=i("#"+a)}return s.clone().children(".u-vh,.u-VisuallyHidden").remove().end().text().trim()}const I={node:!1,element:null,item_type:null,id:!1,isReady:function(){return!0},reinit:function(e,t){this.setValue(e,t,!0)},getValue:function(){let e,a,s,l=!0,c=[];switch(this.item_type){case r:e=i(":checked",this.node),c=0===e.length?"":e.val();break;case o:i(":checked",this.node).each((function(){c.push(this.value)}));break;case p:c=this.element.val(),null==c&&(c=this.element.attr("multiple")?[]:"");break;case v:a=this.element.attr("data-return-value"),s=this.element.attr("data-multi-value"),c=a?s?t.toArray(a,this.getMultiValueStorage()):a:this.node.value;break;default:l=!1}if(!l)switch(this.item_type){case h:case d:c=this.node.checked?this.node.value:"";break;case x:c=i("#"+n(this.id)+"_HIDDENVALUE",apex.gPageContext$).val();break;case g:case b:case u:case m:case f:c=this.node.value;break;case y:c=this.node.innerHTML;break;default:c=""}return c},setValue:function(e,t){let a,s,l=null;if(this.node){switch(this.item_type){case r:l=$x_FormItems(this.node,"RADIO");break;case o:l=$x_FormItems(this.node,"CHECKBOX");break;case x:i("#"+n(this.id)+"_HIDDENVALUE",apex.gPageContext$).val(e),this.element.val(t)}if(l)for(let t=0,i=l.length;t<i;t++)a=l[t].value==e,l[t].checked=a;else switch(this.item_type){case h:case d:this.node.checked=this.node.value===e;break;case g:case b:case u:case f:this.element.val(e);break;case p:!0===this.element.prop("multiple")?this.element.val(apex.util.toArray(e,this.getMultiValueStorage())):this.element.val(e),-1===this.node.selectedIndex&&1===parseInt($nvl(this.element.attr("size"),"1"),10)&&!0!==this.element.prop("multiple")&&this.element.find("option").first().prop("selected",!0);break;case m:this.element.val(e),i(this.display_span,apex.gPageContext$).html(w(this.escape,e));break;case y:this.element.html(w(this.escape,e));break;case"FCKEDITOR":s=FCKeditorAPI.GetInstance(this.id),s.SetHTML(e);break;default:this.node.innerHTML=e}}},enable:function(){this.element.removeClass(_).prop("disabled",!1).trigger("apexafterenable"),this.afterModify&&this.afterModify()},disable:function(){this.element.addClass(_).prop("disabled",!0).trigger("apexafterdisable"),this.afterModify&&this.afterModify()},isDisabled:function(){return!!this.element.prop("disabled")},show:function(e){let t=n(this.id),a=i("#"+t+"_CONTAINER",apex.gPageContext$);a.length>0?a.show().trigger("apexaftershow"):e?$x_ItemRow(this.node,"SHOW"):(E(this._show)?this._show():(a=i("#"+t+"_DISPLAY",apex.gPageContext$),a.length>0?a.show().trigger("apexaftershow"):this.element.show().trigger("apexaftershow")),t&&i("label[for="+t+"]",apex.gPageContext$).show())},hide:function(e){let t=n(this.id),a=i("#"+t+"_CONTAINER",apex.gPageContext$);a.length>0?a.hide().trigger("apexafterhide"):e?$x_ItemRow(this.node,"HIDE"):(E(this._hide)?this._hide():(a=i("#"+t+"_DISPLAY",apex.gPageContext$),a.length>0?a.hide().trigger("apexafterhide"):this.element.hide().trigger("apexafterhide")),t&&i("label[for="+t+"]",apex.gPageContext$).hide())},isEmpty:function(){let e,t,a,i="";if(e=this.getValue(),e=Array.isArray(e)?e.join(":"):""+e,t=this.node,this.nullValue)return E(this.nullValue)?this.nullValue.call(this):null===e||e===this.nullValue||l.test(e);if(this.item_type===p){if(apex.widget&&apex.widget.report&&apex.widget.report.tabular&&apex.widget.report.tabular.gNullValueList)for(const e of Object.values(apex.widget.report.tabular.gNullValueList))if(this.name===t.name){i=e.value;break}a=t.multiple?0===e.length||e===i:!(!i&&""!==i)&&e===i}else a=null===e||l.test(e);return a},hasDisplayValue:function(){if(this.isEmpty()){let e=i(this.element).attr("placeholder");return!!(e&&e.length>0)}return!0},isChanged:function(){let e,t,a,i=!1;function s(){let a=e.length!==t.length;if(!a)for(let i=0;i<t.length;i++)if(e[i]!==t[i]){a=!0;break}return a}switch(this.item_type){case f:case g:case b:i=this.node.value!==this.node.defaultValue;break;case p:if(e=this.element.val(),"select-multiple"===this.node.type){e||(e=[]),t=[];for(let e=0;e<this.node.options.length;e++){let a=this.node.options[e];void 0!==a.attributes.selected&&t.push(a.value)}i=s()}else{t="";for(let e=0;e<this.node.options.length;e++){let a=this.node.options[e];if(void 0!==a.attributes.selected){t=a.value;break}}i=e!==t}break;case r:e=this.getValue(),t="",a=$x_FormItems(this.node,"RADIO");for(let e=0;e<a.length;e++)if(a[e].defaultChecked){t=a[e].value;break}i=e!==t;break;case o:e=this.getValue(),t=[],a=$x_FormItems(this.node,"CHECKBOX");for(let e=0;e<a.length;e++)a[e].defaultChecked&&t.push(a[e].value);i=s();break;case d:case h:i=this.node.checked!==this.node.defaultChecked;break;case x:i=this.node.value!==this.node.defaultValue}return i},addValue:function(){e.error("No default handling defined for addValue")},removeValue:function(){e.error("No default handling defined for removeValue")},refresh:function(){this.element.trigger("apexrefresh")},setFocus:function(){let e=this.element;this.setFocusTo&&(e=E(this.setFocusTo)?this.setFocusTo():i(this.setFocusTo)),e instanceof i?e.trigger("focus"):e.focus()},setStyle:function(e,t){let a=this.element;this.setStyleTo&&(a=E(this.setStyleTo)?this.setStyleTo():i(this.setStyleTo)),a.css(e,t),this.afterModify&&this.afterModify()},displayValueFor:function(e){let t,a,i=e,s=!1;if((this.item_type===c||this.item_type===p&&this.element.attr("multiple"))&&(s=!0,Array.isArray(e)||null==e||(e=[e])),null==i&&(i=""),"password"===this.node.type)return"******";switch(this.item_type){case x:e===this.getValue()&&(i=this.element.val());break;case c:if(t=[],null!=e){for(let i of e)a=this.element.find(`option[value="${n(i+"")}"]`),a.length>0?t.push(a.text()):t.push(i);i=t.join(", ")}break;case p:if(null!=e)if(t=[],s){for(let i of e)a=this.element.find(`[value='${n(i+"")}']`),a.length>0?t.push(a.text()):t.push(i);i=t.join(", ")}else a=this.element.find(`[value='${n(e+"")}']`),a.length>0&&(i=a.text())}return i},getValidity:function(){return this.node.validity||{valid:!0}},getValidationMessage:function(e){let t;return t=this.getValidity().valueMissing?a.getMessage("APEX.PAGE_ITEM_IS_REQUIRED"):this.node.validationMessage||"",t},getPopupSelector:function(){return null},getSeparator:function(){return this.separator?this.separator:null},getMultiValueStorage:function(){if(this.storageType){let e={type:this.storageType};return"separated"===this.storageType&&(e.separator=this.separator),e}return null}};function A(e){let t=null;return e instanceof Element?t=i(e):"string"==typeof e&&(t=i("#"+n(""+e),apex.gPageContext$),t.length||(t=null)),t}apex.item=function(e){let t,a=A(e);return a?(t=a[0]instanceof S?a[0]:a.data(s),t||(t=O(e,{})[0])):(t=Object.create(I),t.element=i(),t.node=!1,t.id=!1),t};const T=apex.item,D=[];T.isItem=function(e){let t=A(e);return!!t&&(t[0]instanceof S||!!t.data(s))},T.create=function(e,t){let[a,i]=O(e,t);if(i.removeData(s).data(s,a),apex.items[a.id]=a,t.delayLoading)return L(a)};const $=apex.WebComponent.dataTypes,P={autocomplete:{type:$.string},disabled:{type:$.boolean},inputmode:{type:$.string},maxlength:{type:$.number,rangeMin:0},minlength:{type:$.number,rangeMin:0},multiple:{type:$.boolean},pattern:{type:$.string},placeholder:{type:$.string},readonly:{type:$.boolean},required:{type:$.boolean},size:{type:$.number,rangeMin:0},value:{type:$.string,reactive:!1,setterGetter:!1},tabindex:{type:$.string,reactive:!1,setterGetter:!1,move:!0},name:{type:$.string,reactive:!1,setterGetter:!1,move:!0},ariaLabelledby:{type:$.string,reactive:!1,setterGetter:!1,move:!0},ariaDescribedby:{type:$.string,reactive:!1,setterGetter:!1,move:!0}},S=class extends apex.WebComponent{#e="";_wrappedElement$=null;constructor(){super(),this.element=i(this),this.node=this,apex.items[this.id]=this}get value(){return this.getValue()}set value(e){this.setValue(e)}get defaultValue(){return this.#e}set defaultValue(e){this.#e=""+e,this.constructor.observedAttributes.includes(V)&&this.node.setAttribute(V,e)}isChanged(){return this.getValue()!==this.#e}getValue(){return this._wrappedElement$?this._wrappedElement$.val():""}setValue(e,t,a){a||(this._wrappedElement$||this.element).trigger("change")}displayValueFor(e){return e}getValidity(){return this._wrappedElement$&&this._wrappedElement$[0].validity?this._wrappedElement$[0].validity:{valid:!0}}_getValidationMessage(e){let t=I.getValidationMessage.call(this,e);return!t&&this._wrappedElement$&&(t=this._wrappedElement$[0].validationMessage||""),t}getValidationMessage(e){let a,i=this.element.attr("data-valid-message");return a=!this.getValidity().valid&&i?i:this._getValidationMessage(e),a&&(a=t.applyTemplate(a,{placeholders:{LABEL:e||k(this.id,this._wrappedElement$)}})),a}_initDelayLoading(){return L(this)}_moveAttribute(e,t){let a=this.element.attr(e);void 0!==a&&(t||(t=this._wrappedElement$),t.attr(e,a),this.element.removeAttr(e))}attributeChangedCallback(e,t,a){super.attributeChangedCallback(e,t,a);const i=this.constructor;if(t!==a&&(e===V&&(this.setValue(a,null,!0),this.#e=a),this._wrappedElement$&&i.delegatedAttributes)){let t=i.delegatedAttributes;if(t&&t.includes(e)){const t=i.hyphenToCamelCase(e),s=i.componentMetaData[t];"false"===a&&s&&s.type===$.boolean&&(a=null),s&&s.move?this._moveAttribute(e):this._wrappedElement$.attr(e,a)}}}static _addCommonAttributes(e,t){e.forEach((e=>{const a=this.hyphenToCamelCase(e);if(!t[a]){let e=P[a]||{type:$.string};t[a]=Object.assign({},e)}}))}static get delegatedAttributes(){}},M=S.prototype;function L(e){let t=i.Deferred();return D.push(t),e.isReady=function(){return"pending"!==t.state()},e.whenReady=function(){return t.promise()},t}function O(e,a){let s,l,p=A(e);if(p){if(l=a.afterModify,l&&["enable","disable","addValue","removeValue"].forEach((function(e){let t=a[e];t&&(a[e]=function(e){return function(){e.apply(this,arguments),this.afterModify()}}(t))})),["show","hide"].forEach((function(e){let t=a[e];t&&(a["_"+e]=t,delete a[e])})),a.storageType){let e=""+a.storageType;["1","2"].includes(e)&&(e="2"===e?"json-array":"separated"),["json-array","separated"].includes(e)||(e="separated"),a.storageType=e}return s=Object.create(I),s.element=p,s.node=p[0],s.id=s.node.id,"function"==typeof a?a(s):i.extend(s,a),s.setValue=(_=s.setValue,function(e,t,a){_.call(this,e,t,a),this.afterModify&&this.afterModify(),a||this.element.trigger("change")}),s.getValidationMessage=function(e){return function(a){let i,s=this.element.attr("data-valid-message");return i=!this.getValidity().valid&&s?s:e.call(this),i&&(i=t.applyTemplate(i,{placeholders:{LABEL:a||k(this.id)}})),i}}(s.getValidationMessage),s.item_type||function(e){let t,a,s,l=!1,p=e.element;if(t=e.node.nodeName.toUpperCase(),"FIELDSET"===t)p.hasClass("checkbox_group")?l=o:p.hasClass("radio_group")?l=r:p.hasClass("shuttle")&&(l=c);else if("DIV"===t)p.hasClass("apex-item-checkbox")?l=o:p.hasClass("apex-item-radio")?l=r:p.hasClass("apex-item-group--shuttle")&&(l=c);else if("INPUT"===t){let t;switch(l=e.node.type.toUpperCase(),l){case h:case d:break;case g:p.hasClass(C)?l=v:(a=e.node.parentNode.className.toUpperCase(),(p.hasClass("apex-item-popup-lov")||"LOV"===a)&&(l=i("#"+n(e.id)+"_HIDDENVALUE",apex.gPageContext$).length>0?x:b));break;case u:t=i("#"+n(e.id)+"_DISPLAY",apex.gPageContext$),t[0]&&(e.display_span=t[0],l=m,s=t.attr("data-escape"),e.escape=s&&"true"===s.toLowerCase());break;default:l=g}}else switch(l=t,l){case f:if(p.hasClass(C))l=v;else try{window.CKEDITOR&&window.CKEDITOR.instances[e.id]&&(l="CKEDITOR3")}catch(e){}break;case"SPAN":p.hasClass("display_only")&&(l=y,s=p.attr("data-escape"),e.escape=s&&"true"===s.toLowerCase())}e.item_type=l}(s),Object.defineProperty(s,V,{get:s.getValue,set:s.setValue,configurable:!1,enumerable:!0}),[s,p]}throw new Error("Item element not found "+e);var _}M.enable=I.enable,M.disable=I.disable,M.isReady=I.isReady,M.reinit=I.reinit,M.isDisabled=I.isDisabled,M.show=I.show,M.hide=I.hide,M.isEmpty=I.isEmpty,M.hasDisplayValue=I.hasDisplayValue,M.addValue=I.addValue,M.removeValue=I.removeValue,M.refresh=I.refresh,M.setFocus=I.setFocus,M.setStyle=I.setStyle,M.getPopupSelector=I.getPopupSelector,M.getSeparator=I.getSeparator,M.getMultiValueStorage=I.getMultiValueStorage,T.ItemComponent=S;const R=[];T.addAttachHandler=function(e){R.push(e)},T.attach=function(t){t=t||apex.gPageContext$;for(let a=0;a<R.length;a++)try{R[a](t)}catch(t){e.error("Error in item attach processing.",t)}},apex.item.waitForDelayLoadItems=function(){let t=i.when(...D);return e.timeBegin("Wait for delay load items"),i(apex.gPageContext$).one("apexreadyend",(()=>{e.timeMark("apexreadyend")})),t.done((()=>{e.timeEnd("Wait for delay load items")})),t},i((function(){T.addAttachHandler((e=>{i("input[type='hidden'],input.apex-item-text[type='password']",e).each((function(){const e=this.name;let t=i(this);this.id&&this.id===e&&!T.isItem(this.id)&&T.create(this.id,{}),t.on("keypress",(a=>{const i=t.data("enterSubmit");if("password"===t.attr("type")&&i)return apex.submit({request:e,submitIfEnter:a})}))})),i("span.display_only.apex-item-display-only",e).each((function(){!this.id||this.id.endsWith("_DISPLAY")||T.isItem(this.id)||T.create(this.id,{})})),i("input.js-accessible-readonly,textarea.js-accessible-readonly",e).each((function(){if(this.id&&this.id===this.name&&!T.isItem(this.id)){const e=i(this);let t={};if(e.attr("data-multi-value")){let a=e.attr("data-multi-value-storage");t.storageType=a,"1"===a&&(t.separator=e.attr("data-multi-value-separator"))}T.create(this.id,t)}}))})),T.attach(apex.gPageContext$)}))}(apex.debug,apex.util,apex.lang,apex.jQuery);