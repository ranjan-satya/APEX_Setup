/*!
 Copyright (c) 2014, 2024, Oracle and/or its affiliates.
*/
!function(t,e,n,a,o,i,r,l){"use strict";const c=Object.entries,s=Array.isArray,u=i.extend,d="button[data-action]",p=".js-actionRadioGroup",f="select[data-action]",h=".js-actionCheckbox",g=".js-actionToggle",y='a[href*="#action$"]',m="#action$",b="aria-label",K="aria-describedby",v="aria-keyshortcuts",k="title",C="data-action",N=">",S="toggle",A="radio",w="is-active",x="button",B="checkbox",D="toggle",F="radio",L="select",T="link",E="INPUT",M="BUTTON",P="remove",I="disabled",O=function(){const t={Help:1,Backspace:1,Enter:1,Escape:1,Space:1,PageUp:"Page Up",PageDown:"Page Down",End:1,Home:1,ArrowLeft:1,ArrowUp:1,ArrowRight:1,ArrowDown:1,Insert:1,Delete:1,Digit0:1,Digit1:1,Digit2:1,Digit3:1,Digit4:1,Digit5:1,Digit6:1,Digit7:1,Digit8:1,Digit9:1,KeyA:1,KeyB:1,KeyC:1,KeyD:1,KeyE:1,KeyF:1,KeyG:1,KeyH:1,KeyI:1,KeyJ:1,KeyK:1,KeyL:1,KeyM:1,KeyN:1,KeyO:1,KeyP:1,KeyQ:1,KeyR:1,KeyS:1,KeyT:1,KeyU:1,KeyV:1,KeyW:1,KeyX:1,KeyY:1,KeyZ:1,Numpad0:"Keypad 0",Numpad1:"Keypad 1",Numpad2:"Keypad 2",Numpad3:"Keypad 3",Numpad4:"Keypad 4",Numpad5:"Keypad 5",Numpad6:"Keypad 6",Numpad7:"Keypad 7",Numpad8:"Keypad 8",Numpad9:"Keypad 9",NumpadMultiply:"Keypad *",NumpadAdd:"Keypad +",NumpadSubtract:"Keypad -",NumpadDecimal:"Keypad .",NumpadDivide:"Keypad /",NumpadClear:"Keypad Clear",NumpadEqual:"Keypad =",F1:1,F2:1,F3:1,F4:1,F5:1,F6:1,F7:1,F8:1,F9:1,F10:1,F11:1,F12:1,F13:1,F14:1,F15:1,Semicolon:1,Equal:"=",Comma:1,Minus:1,Period:1,Slash:"/",Backquote:"Backtick",BracketLeft:"[",Backslash:"\\",BracketRight:"]",Quote:1};for(let[e,n]of c(t))t[e]=1===n?e.replace(/Arrow|Digit|Key/,""):n;return t}(),_={6:"Help",8:"Backspace",13:"Enter",27:"Escape",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"Keypad 0",97:"Keypad 1",98:"Keypad 2",99:"Keypad 3",100:"Keypad 4",101:"Keypad 5",102:"Keypad 6",103:"Keypad 7",104:"Keypad 8",105:"Keypad 9",106:"Keypad *",107:"Keypad +",109:"Keypad -",110:"Keypad .",111:"Keypad /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",186:"Semicolon",187:"=",188:"Comma",189:"Minus",190:"Period",191:"/",192:"Backtick",219:"[",220:"\\",221:"]",222:"Quote"},U={Up:"ArrowUp","Page Up":"PageUp","Page Down":"PageDown",Left:"ArrowLeft",Right:"ArrowRight",Down:"ArrowDown","Keypad Clear":"Clear",Ctrl:"Control",Comma:",",Period:".",Semicolon:";",Minus:"-",Quote:"'",Backtick:"`","Keypad 0":"Keypad0","Keypad 1":"Keypad1","Keypad 2":"Keypad2","Keypad 3":"Keypad3","Keypad 4":"Keypad4","Keypad 5":"Keypad5","Keypad 6":"Keypad6","Keypad 7":"Keypad7","Keypad 8":"Keypad8","Keypad 9":"Keypad9","Keypad =":"Keypad=","Keypad +":"Keypad+","Keypad -":"Keypad-","Keypad *":"Keypad*","Keypad /":"Keypad/"},R=/(.+?)(\+|,|$)/g,V=navigator.appVersion.indexOf("Mac")>=0;let q=!0,W=!0,H={};const j={T_RADIO:1,T_CHECKBOX:1,submit:1,image:1,reset:1,T_BUTTON:1},X={"Ctrl+C":1,"Ctrl+X":1,"Ctrl+V":1,"Ctrl+A":1,"Ctrl+Z":1,"Ctrl+Shift+Z":1,"Ctrl+Y":1},$={"Meta+C":1,"Meta+X":1,"Meta+V":1,"Meta+A":1,"Meta+Z":1,"Meta+Shift+Z":1},Q={option:1,treeitem:1},Z=["label","onLabel","offLabel","title","contextLabel","linkRoleDescription"],G=["label","group","title"],J=/^(\[.+])?([^?[\]]+)(\?.+)?$/;function Y(t){"a"===t.target.tagName&&t.target.hash.startsWith(m)&&t.preventDefault()}function z(t){return["data-action","href"].map((e=>`[${e}*=${a.escapeCSS(t)}]`)).join(",")}function tt(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/.test(t)?JSON.parse(t):t)}function et(t){let e={};for(const n in t)e[n]=tt(t[n]);return e}function nt(t,n){let a=null;if((t=t.trim()).startsWith(m))t=t.substring(8);else if(n?.testForFragment||!t)return a;let o=J.exec(t);if(o){let t=null,e=null;if(o[3]){let t=new URLSearchParams(o[3]);e={};for(const[n,a]of t)e[n]=a}o[1]&&(t=o[1].substring(1,o[1].length-1)),a={contextId:t,actionName:o[2],args:e}}return a||e.error("Invalid action binding '"+t+"'"),a}function at(t,e){let n,a,o,r,l=null;const c=t.altKey,s=t.ctrlKey,u=t.metaKey,d=t.which,p=t.code;return a=p?O[p]:_[d],a&&(l="",s&&(l+="Ctrl+"),c&&(l+="Alt+"),u&&(l+="Meta+"),o=p?/Key./.test(p):d>59&&d<91,t.shiftKey&&(!o||s||c||u)&&(l+="Shift+"),l+=a,r=p?/Digit\d|Key.|Space|Semicolon|Equal|Comma|Minus|Period|Slash|Backquote|Bracket.+|Backslash|Quote/.test(p):!(d>=112&&d<=123||d>=33&&d<=46||d<32),n=t.target&&t.target.nodeName,e||"TEXTAREA"!==n&&"SELECT"!==n&&(n!==E||j[t.target.type.toLowerCase()])&&!Q[i(t.target).attr("role")]?!r||s||c||u||W||(l=null):(r&&(!c&&!s&&!u||s&&c&&!u||V&&c&&!s&&!u)||(V?$:X)[l]||d<=46)&&(l=null)),l}function ot(t){let e=t.contextLabel||t.label;return!e&&t.onLabel&&t.offLabel?e=t.onLabel+"/"+t.offLabel:t.set&&t.get&&!t.choices&&(e=n.formatMessage("APEX.ACTIONS.TOGGLE",e)),e}function it(t){let e;return e=t.id?i("[for="+t.id+"]"):i(t).closest("label"),e}function rt(t,e){let a,o,i;for(a=0;a<e.length;a++)o=e[a],i=o+"Key",t[i]&&(t[o]=n.getMessage(t[i]),delete t[i])}function lt(t,n){e.error("No such action '"+t+"'"+n)}document.body&&document.body.addEventListener("click",Y,!0);let ct=".a-Button-label, .t-Button-label",st=".a-Button--withIcon, .t-Button--icon",ut=".a-Button--noLabel, .t-Button--noLabel";const dt=new Map;function pt(r,c,u){let O,V=null;const W=i(c),j=function(t,n){const a=new Map,r=new Map,l=new Map;let c=[],u=!1,d=0;function p(t,e,n){let a,o;for(a=0;a<c.length;a++)o=c[a],o(t,e,n)}function f(t,e){p(t,"update",e)}function h(t,e,n,o){const i=a.get(t);if(i)if(o&&i.idArg&&o[i.idArg]){let t=i[e];i[e]=n,f(i,o),i[e]=t}else i[e]!=n&&(i[e]=n,f(i,o))}function g(t,e,n){let a,o,i=t.split(",");i.length>1?(o=i[0],a=l.get(o),a||(a=[],l.set(o,a)),a.push({shortcut:t,seqLen:i.length,actionName:e,value:n})):l.set(t,n?{actionName:e,value:n}:e)}function y(t){let e,n,a;if(t)if(a=t.split(","),a&&a.length>1){n=a[0],e=l.get(n);for(let n=0;n<e.length;n++)if(e[n].shortcut===t){e.splice(n,1);break}0===e.length&&l.delete(n)}else l.delete(t)}function b(t,e){let n,a,o,i,r,c=t.split(",");if(!(c.length>1))return l.get(t);if(a=c[0],i=[],n=l.get(a),s(n)){r=t.length;for(let e=0;e<n.length;e++){if(o=n[e],o.shortcut===t)return void 0!==o.value?{actionName:o.actionName,value:o.value}:o.actionName;o.seqLen>c.length&&o.shortcut.substr(0,r)===t&&i.push(o)}return i.length&&e?i:void 0}}function K(t,n,a){let o=!0,i=a||n,l=i.shortcut,c=n.name;return t.isValidShortcut(l)?!a&&i.choices?(e.warn("Shortcut '"+l+"' for radio group action '"+c+"' ignored."),o=!1):b(l)?(e.warn("Duplicate shortcut '"+i.shortcut+"' for action '"+c+"' ignored."),o=!1):(r.set(a?c+N+a.value:c,l),g(l,c,a&&a.value)):(e.warn("Invalid shortcut '"+l+"' for action '"+c+"' ignored."),o=!1),o||(i.shortcut=null),o}const v={typeName:t,context:n,add:function(t){let n=!0;s(t)||(t=[t]);for(let o=0;o<t.length;o++){let i,r,l=t[o];if(l.name)if(a.has(l.name))e.warn("Duplicate action '"+l.name+"' ignored."),n=!1;else{if(a.set(l.name,l),l.shortcut&&(K(this,l)||(n=!1)),rt(l,Z),l.choices)for(i=0;i<l.choices.length;i++)r=l.choices[i],r.shortcut&&(K(this,l,r)||(n=!1)),rt(r,G);p(l,"add")}}return n},addFromMarkup:function(t){let e=this;t.find("ul").eq(0).children("li").each((function(){let t,n,a,o,r=null,l=i(this),c=l.find("a").eq(0),s=l.find("span.a-Menu-label").eq(0),u={};if(s.length||(s=l.find("span").eq(0)),c.length>0){let t=c.attr("href").trim();u.label=c.text(),t.startsWith(m)?u.actionBinding=e.parseActionBinding(t,{testForFragment:!0}):(u.href=t,o=c.attr("target"),o&&(u.target=o),r=c.attr(k))}else s.length>0&&(u.label=s.text(),r=s.attr(k));r&&(u.title=r),u.name=l.attr("data-id"),"true"===l.attr("data-hide")&&(u.hide=!0),"true"===l.attr("data-disabled")&&(u.disabled=!0),u.shortcut=l.attr("data-shortcut")||null,t=l.attr("data-icon"),t&&(n=t.indexOf(" "),n>=0?(u.iconType=t.substring(0,n),u.icon=t.substring(n+1)):u.icon=t),u.name&&u.label&&"separator"!==u.href&&(a=e.lookup(u.name),a?["label","href","target","hide","disabled","shortcut","icon","iconType"].forEach((function(t){!a[t]&&u[t]&&(a[t]=u[t])})):e.add(u)),l.children("ul").length>0&&e.addFromMarkup(l)}))},remove:function(t){s(t)||(t=[t]);for(let e=0;e<t.length;e++){let n,o,i,l=t[e],c="string"==typeof l?l:l.name;if(c&&a.has(c)){if(l=a.get(c),i=l.shortcut,i&&y(i),l.choices)for(n=0;n<l.choices.length;n++)o=l.choices[n],i=o.shortcut,i&&(y(i),r.delete(c+N+o.value));a.delete(c),r.delete(c),p(l,P)}}},clear:function(){for(const t of a.values())p(t,P);a.clear(),r.clear(),l.clear()},lookup:function(t){return a.get(t)},list:function(){let t=[];for(const[e,n]of a){let a,o,i=ot(n);if(n.choices)for(let r=0;r<n.choices.length;r++)a=n.choices[r],o=i?i+": "+a.label:a.label,t.push({name:e,choice:a.value,label:o});else t.push({name:e,label:i})}return t},update:function(t,e){const n=a.get(t);let o=r.get(t),i=!0;if(n.shortcut!==o&&(y(o),n.shortcut?K(this,n)||(i=!1):r.delete(t)),rt(n,Z),n.choices)for(let e=0;e<n.choices.length;e++){let a=n.choices[e],l=t+N+a.value;o=r.get(l),a.shortcut!==o&&(y(o),a.shortcut?K(this,n,a)||(i=!1):r.delete(l)),rt(a,G)}return f(n,e),i},updateChoices:function(t){const e=a.get(t);let n=!1;return e.choices&&(p(e,"updateChoices"),n=!0),n},enable:function(t,e=null){h(t,I,!1,e)},disable:function(t,e=null){h(t,I,!0,e)},hide:function(t,e=null){h(t,"hide",!0,e)},show:function(t,e=null){h(t,"hide",!1,e)},invoke:function(t,e,n,i=null){const r=a.get(t);return r&&(r.action||r.actionBinding||r.href)?r.disabled||r.hide?void 0:r.action?r.action(e,n,i):r.actionBinding?this.invoke(r.actionBinding.actionName,e,n,r.actionBinding.args):(r.target?o.openInNewWindow(r.href,r.target,{favorTabbedBrowsing:!0}):o.redirect(r.href),!0):(lt(t," or action can't be invoked."),!1)},toggle:function(t,e=null){const n=a.get(t);if(!(n&&n.get&&n.set)||n.choices)return lt(t," or action cannot be toggled."),!1;if(!n.disabled&&!n.hide){let a=!n.get(e);n.set(a,e),this.update(t,e)}},get:function(t,e=null){const n=a.get(t);return n&&n.get?n.get(e):(lt(t," or cannot get action value."),null)},set:function(t,e,n=null){const o=a.get(t);o&&o.get&&o.set?o.disabled||o.hide||(o.choices||(e=!!e),o.set(e,n),this.update(t,n)):lt(t," or cannot set action value.")},_lookupShortcutAction:function(t,e,n){if(!u||n)return b(t,e)},addShortcut:function(t,n,o){const i=a.get(n);let r,l;if(!i)return e.warn("No such action '"+n+"'."),!1;if(!this.isValidShortcut(t))return e.warn("Invalid shortcut '"+t+"' ignored."),!1;if(l=b(t,!0),l||s(l))return e.warn("Duplicate shortcut '"+t+"' for action '"+n+"' ignored."),!1;if(i.choices){if(!o)return e.warn("Shortcut '"+t+"' for radio group action '"+n+"' ignored."),!1;r=!1;for(let t=0;t<i.choices.length;t++)if(i.choices[t].value===o){r=!0;break}if(!r)return e.warn("No such choice '"+o+" for action '"+n+"'."),!1}return g(t,n,o),!0},removeShortcut:function(t){let n=b(t,!0);return!s(n)&&(n&&"string"!=typeof n&&(n=n.actionName+N+n.value),r.get(n)===t?(e.warn("Can't delete primary for action."),!1):(y(t),!0))},listShortcuts:function(t){const e=[];for(let[n,o]of l){let i,r,l,c,u;s(o)||(i={shortcut:n},"string"!=typeof o?(i.actionName=o.actionName,i.value=o.value):i.actionName=o,o=[i]);for(let n=0;n<o.length;n++){if(i=o[n],r=a.get(i.actionName),c={shortcut:i.shortcut,shortcutDisplay:this.shortcutDisplay(i.shortcut,t),actionName:i.actionName},l=i.value,l&&r.choices){c.choice=l;for(let t=0;t<r.choices.length;t++)if(r.choices[t].value===l){u=ot(r),u?u+=":"+r.choices[t].label:u=r.choices[t].label,c.actionLabel=u;break}}else c.actionLabel=ot(r);e.push(c)}}return e},shortcutDisplay:function(t,e=!1){let n,a,o,i,r="",l=t.split(",");function c(t){let e=t.split("+");for(let t=0;t<e.length;t++)t>0&&(r+=o+"+"+i),r+=n+(H[e[t]]||e[t])+a}n=a=o=i="",e&&(n="<b>",a="</b>",o="<i>",i="</i>",r="<span class='apex-kb-shortcut'>");for(let t=0;t<l.length;t++)t>0&&(r+=", "),c(l[t]);return e&&(r+="</span>"),r},ariaKeyshortcut:function(t){return t&&this.isValidShortcut(t)?t.replace(R,(function(t,e,n){switch((e=e.trim())in U&&(e=U[e]),n){case"+":return e+n;case",":return e+" ";default:return e}})):null},disableShortcuts:function(){d+=1,d>0&&(u=!0)},enableShortcuts:function(){d-=1,d<=0&&(u=!1,d=0)},observe:function(t){c.push(t)},unobserve:function(t){for(let e=0;e<c.length;e++)if(c[e]===t){c.splice(e,1);break}},isValidShortcut:function(t,e){let n=t.split(",");function a(t){let e,n,a,o,i=0,r=!0,l=t.split("+");for(e=0;e<l.length-1;e++){if(n=l[e],"Ctrl"===n)a=1;else if("Alt"===n)a=2;else if("Meta"===n)a=3;else{if("Shift"!==n){r=!1;break}a=4}if(a<=i){r=!1;break}i=a}if(r)for(o in n=l[e],r=!1,_)if(_[o]===n){r=!0;break}return r}for(let t=0;t<n.length;t++)if(!a(n[t]))return!1;return!(e&&b(t,!0))}};return v}(r,c);function X(n,a,o,i){let r,l,c,s=j,u=n.contextId,d=n.actionName;try{if(u&&(s=t.actions.findContextById(u),!s))return e.error("No such context '"+u+"'"),!0;if(r=s.lookup(d),!r)return!("global"!==s.typeName&&!u)&&(lt(d,"."),!0);if(r.disabled||r.hide)return!0;if(r.action||r.href||r.actionBinding){if(e.info(o+" invoke action '"+d+"'"),r.actionBinding&&(d=(n=r.actionBinding).actionName),r.convertBindingArguments&&(n.args=et(n.args)),l=s.invoke(d,a,a.target,n.args),!1===l)return!0}else r.get&&r.set?(r.convertBindingArguments&&(n.args=et(n.args)),void 0!==i?(r.set(i,n.args),e.info(o+" set action '"+d+"'. Value now "+i)):(c=!r.get(n.args),r.set(c,n.args),e.info(o+" toggle action '"+d+"'. Value now "+c)),s.update(d,n.args)):e.error("Error action '"+d+"' has no href or action, get, or set methods.")}catch(t){e.error("Error in action for '"+d+"'.",t)}return Promise.resolve(l).then((t=>{!0!==t&&a.target.focus()})),!0}return ft(r,c),O=dt.get(r),O||(O=[],dt.set(r,O)),O.push(j),j.observe((function(t,e,o){let r,l=W,c=t.name,s=t.idArg&&o?o[t.idArg]:null;function m(t,e,n){t.find("."+e).each((function(){let t=i(this),a=[];t.attr("class").split(" ").forEach((function(t){/^t-/.test(t)&&a.push(t)})),a.push(e),a.push(n),t.attr("class",a.join(" "))}))}if(s&&(l=i(z(s),W).parent()),W[0]!==document.body){u||(u=W.closest(".js-apex-region").prop("id"));let t=u||W.prop("id");t&&(l=l.add(i(z(t)).parent()))}r=i(z(c),l),e!==P?r.each((function(){let r,l,u,N,P,O,_,U,R,V,W,H,X,$,Q,Z,G,J,Y,z=!1,tt="action",at=i(this);if(Y="A"===this.nodeName?at.attr("href"):at.attr(C),Y=nt(Y),!Y||Y.actionName!==c)return;if(t.idArg&&o&&Y.args[t.idArg]!==s)return;if(t.hide)return void at.hide();if(at.show(),t.get&&(tt=t.choices?A:S,t.convertBindingArguments&&(Y.args=et(Y.args)),P=t.get("add"===e?Y.args:o)),at.is(f)?G=L:at.is(p)?G=F:at.is(h)?(G=B,O=at,O[0].nodeName!==E&&(O=at.find("input")),_=it(O[0]),_.is(".a-Button, .t-Button")?(z=!0,U=at.find(ct).first(),U.length||(U=_)):U=_):at.is(g)?(G=D,O=at,O[0].nodeName!==M&&(O=at.find(M)),z=!0,U=O.find(ct).first()):at.is(d)?(G=x,U=at.find(ct).first(),U.length||(U=at)):at.is(y)&&(G=T,U=at.find(".t-MegaMenu-label, .t-NavTabs-label, .t-BadgeList-label, .t-Card-title, .t-LinksList-label, .a-CardView-buttonLabel, .t-Button-label").first(),U.length||(U=at)),!G)return;if("updateChoices"===e||"add"===e&&tt===A&&0===at.children().length){let e=a.htmlBuilder();if(G===L){r=null;for(let n=0;n<t.choices.length;n++){let a=t.choices[n];a.hide||(void 0!==a.group&&a.group!==r&&(null!==r&&e.markup("</optgroup>"),null!==a.group&&e.markup("<optgroup").attr("label",a.group).markup(">"),r=a.group),e.markup("<option").attr("value",a.value).markup(">").content(a.label).markup("</option>"))}}else if(G===F){R=at.closest("[id]")[0].id+"_"+t.name,V=at.attr("data-item-start")||t.labelStartClasses,W=at.attr("data-item")||t.labelClasses,H=at.attr("data-item-end")||t.labelClasses,$=at.attr("data-item-wrap")||t.itemWrapClasses||!1,X=!1,$&&(X=!!$&&"span",$&&$.indexOf(":")>0&&($=$.split(":"),X=$[0],$=$[1]),X&&1!=={p:1,li:1,span:1,div:1}[X]&&(X="span"));for(let n=0;n<t.choices.length;n++){let a=t.choices[n];a.hide||(l=R+"_"+n,u=0===n&&V?V:n===t.choices.length-1&&H?H:W||"",X&&e.markup("<"+X).attr("class",$).markup(">"),e.markup("<input type='radio'").attr("name",R).attr("id",l).attr("value",a.value).optionalAttr(b,a.icon?a.label:null).markup("><label").attr("for",l).optionalAttr("aria-hidden",a.icon?"true":null).attr("class",u).optionalAttr(k,a.title||a.icon?a.title||a.label:null).markup(">"),a.icon?e.markup("<span aria-hidden='true'").attr("class",(a.iconType||"a-Icon")+" "+a.icon).markup("></span>"):e.content(a.label),e.markup("</label>"),X&&e.markup("</"+X+">"))}}at.html(e.toString())}else if("add"===e&&(null===t.label&&(G===x&&"action"===tt?at.attr(b)?t.label=at.attr(b):at.is(ut)?t.label=at.attr(k):t.label=U.text():G===B&&tt===S?z&&_.is(ut)?(t.label=_.find(".u-VisuallyHidden").first().text(),t.label||(t.label=_.attr(k))):t.label=U.text():G===T?at.attr(b)?t.label=at.attr(b):t.label=U.text():at.attr(b)&&(t.label=at.attr(b))),null===t.title&&G!==F&&(t.title=at.attr(k),!t.title&&_&&(t.title=_.attr(k)),!t.label&&t.title&&(t.label=t.title)),null===t.disabled&&(t.disabled=!!(at.prop(I)||O&&O.prop(I))),G===T)){let e=t.linkRoleDescription;e||(e=n.getMessage("APEX.ACTIONS.ACTION_LINK")),at.attr("aria-roledescription",e)}let ot=t.label,rt=t.title,lt=t.icon;tt===S&&(ot||(ot=P?t.onLabel:t.offLabel),!lt&&t.onIcon&&(lt=P?t.onIcon:t.offIcon)),Q="",Z="",t.shortcut&&q&&(Q=j.ariaKeyshortcut(t.shortcut),Z=j.shortcutDisplay(t.shortcut)),void 0!==at.attr("data-no-update")||s||G===T||(G===x&&at.is(ut)?(at.attr(b,ot),Q&&at.attr(v,Q),rt||(rt=ot)):G===B&&tt===S&&z&&_.is(ut)?(_.find(".u-VisuallyHidden").first().text(ot),rt||(rt=ot)):tt===A?(ot?at.attr(b,ot):at.removeAttr(b),G!==L||rt||(rt=ot)):U&&(U.text(ot),Z?(at.attr(b,ot||U.text()),at.attr(v,Q)):at.removeAttr(b)),G&&G!==F&&(Z&&(rt||(rt=""),rt+=rt?`, ${Z}`:Z),rt?at.attr(k,rt):at.removeAttr(k)),G===x&&lt&&at.is(st)?(N=t.iconType||"a-Icon",m(at,N,lt)):z&&lt&&_.is(st)&&(N=t.iconType||"a-Icon",m(_,N,lt))),"action"!==tt&&(G===L?at.val(P):G===F?(at.find("."+w).removeClass(w),O=at.find("[value="+a.escapeCSS(P)+"]"),O.prop("checked",!0),O.length&&(_=it(O[0]),_.addClass(w))):G===B?(O.prop("checked",!!P),_.toggleClass(w,P)):G===D?(O.attr("aria-pressed",!!P),O.toggleClass(w,P),P?t.onStateDescription?O.attr(K,O.attr("id")+"_ON_STATE_ARIA_DESC"):O.attr(K,""):t.offStateDescription?O.attr(K,O.attr("id")+"_OFF_STATE_ARIA_DESC"):O.attr(K,"")):at.is(d)&&(tt!==S||t.onLabel||at.toggleClass(w,P)));let dt=!!t.disabled;if(G===B)O.prop(I,dt);else if(G===F||G===L){if(t.choices){J=at.find("option,input");for(let e=0;e<t.choices.length;e++){let n=t.choices[e];J.eq(e).prop(I,!!n.disabled)}}G===L&&at.prop(I,dt)}else G===T?at.toggleClass("is-disabled apex_disabled",dt):G&&at.prop(I,dt)})):r.hide()})),W.on("click.actions",d,(function(t){let e=i(this),n=nt(e.attr(C)),a=e.hasClass("js-ignoreChange");a&&l.ignoreWarnOnUnsavedChanges(!0),n&&X(n,t,"Button click")&&t.stopPropagation(),a&&l.ignoreWarnOnUnsavedChanges(!1)})).on("click.actions",y,(function(t){let e=i(this).attr("href").trim();if(e.startsWith(m)){let n=nt(e);n&&(t.preventDefault(),X(n,t,"Link click")&&t.stopPropagation())}})).on("click.actions",h,(function(t){let e,n=nt(i(this).attr(C));t.target.nodeName===E&&(e=t.target,n&&X(n,t,"Checkbox click",e.checked)&&t.stopPropagation())})).on("click.actions",g,(function(t){let e=nt(i(this).attr(C));e&&X(e,t,"Toggle click")&&t.stopPropagation()})).on("change.actions",p,(function(t){let e=nt(i(this).attr(C)),n=i(this).find(":checked"),a="";n.length&&(a=n.val()),e&&X(e,t,"Radio group change",a)&&t.stopPropagation()})).on("change.actions",f,(function(t){let e=nt(i(this).attr(C)),n=i(this).val();e&&X(e,t,"Select change",n)&&t.stopPropagation()})).on("keydown.actions",(function(e){let n,a,o,r,l,c,u=t.actions.partialShortcutInput;if(q&&!e.isDefaultPrevented()){if(r=e.originalEvent||e,c=V,o=at(r,!!V),o){if(V&&(V+=","+o,o=V),n=j._lookupShortcutAction(o,!0),s(n)?(V||(V=o),e.stopPropagation(),e.preventDefault(),n=null):n||(V=null),n){V&&u&&u(j.shortcutDisplay(V)),V=null,"string"!=typeof n&&(a=n.value,n=n.actionName);let t={actionName:n},o=j.lookup(n);if(o&&o.instanceSelector){let e=i(r.target).closest(o.instanceSelector);if(e[0]){let a,o=e.find(i(z(n)));o[0]&&(o[0].disabled||o.hasClass("is-disabled")||!o.is(":visible")?t=null:(a=nt(o.attr(C)||o.attr("href")||""),a&&a.actionName===n&&!a.contextId&&(t=a)))}}t&&X(t,e,"Shortcut key",a),n=null,e.stopPropagation(),e.preventDefault()}}else l=r.which,16!==l&&17!==l&&18!==l&&91!==l&&(V=null);(V||c)&&u&&u(V?j.shortcutDisplay(V):null)}})).on("menubeforeopen.actions",(function(){j.disableShortcuts()})).on("menuafterclose.actions",(function(){j.enableShortcuts()})).on("dialogopen.actions",(function(t){t.target!==j.context&&i(t.target).dialog("option","modal")&&j.disableShortcuts()})).on("dialogclose.actions",(function(t){t.target!==j.context&&i(t.target).dialog("option","modal")&&j.enableShortcuts()})),j}function ft(t,e){const n=dt.get(t);if(n)for(let a=0;a<n.length;a++)if(n[a].context===e){return i(n[a].context).off(".actions"),n.splice(a,1),void(0===n.length&&dt.delete(t))}}t.actions={},t.actions.createContext=pt,t.actions.removeContext=ft,t.actions.parseActionBinding=nt,t.actions.convertBindingArguments=et,i((function(){u(t.actions,pt("global",document.body)),t.actions.add([{name:"a-redirect",convertBindingArguments:!0,action:(t,e,n)=>{o.redirect(n.url)}},{name:"a-submit",convertBindingArguments:!0,action:(e,n,a)=>{t.submit(a)}},{name:"a-set-value",convertBindingArguments:!0,action:(t,e,n)=>{n&&r(n.itemName).setValue(n.value,n.displayValue,n.suppressChangeEvent)}},{name:"a-back",action:()=>{window.history.go(-1)}}]),dt.get("global")[0]=t.actions,document.body.removeEventListener("click",Y)})),t.actions.getContextTypes=function(){let t=[];for(const e of dt.keys())t.push(e);return t},t.actions.getContextsForType=function(t){return dt.get(t)||[]},t.actions.findContext=function(t,e){let n,a,o=t=>t.context===e;if(e||(e=t,t=null),t)n=dt.get(t),n&&(a=n.find(o));else for(const t of dt.keys())if(a=dt.get(t).find(o),a)break;return a},t.actions.findContextById=function(e){if("global"===e)return t.actions;let n=i("#"+e)[0],a=t.actions.findContext(null,n);if(!a){let n=t.region(e);n&&n.widget()&&(a=t.actions.findContext(null,n.widget()[0]))}return a},t.actions.getShortcutFromEvent=function(t){const e=at(t.originalEvent||t,!0);return e?{shortcut:e,shortcutDisplay:this.shortcutDisplay(e)}:null},t.actions.shortcutSupport=function(t){if(void 0===t)return q?W?"sequence":"single":"off";q=!0,"single"===t?W=!1:"sequence"===t?W=!0:q=!1},t.actions.setKeyCaps=function(t){if(null===t)H={};else{H=u(H,t);for(let[t,e]of c(H))H[t]=a.stripHTML(e)}},t.actions.getKeyCaps=function(){return u({},H)},V&&t.actions.setKeyCaps({Alt:"Option",Meta:"⌘",Ctrl:"Control",Backspace:"Delete"}),t.actions.setShortcutKeyBindings=function(e){let n,a,o,i,r,l,c,u,d,p,f,h,g,y={};function m(t,e,n,a,o){let i,r,l,c=!1,u=t._lookupShortcutAction(e,!0,!0);if(s(u))return!1;if(!u)return!0;if("string"!=typeof u&&(i=u.value,u=u.actionName),r=t.lookup(u),i){for(let t=0;t<r.choices.length;t++)if(l=r.choices[t],l.value===i){c=l.shortcut===e;break}}else c=r.shortcut===e;return(n!==u||a!==i||c!==o)&&(c?(i?l.shortcut=null:r.shortcut=null,t.update(u)):t.removeShortcut(e),!0)}for(let t=0;t<e.length;t++)if(n=e[t],n.shortcut&&(d=n.type+":"+n.shortcut,y[d]=1),n.shortcuts)for(let t=0;t<n.shortcuts.length;t++)d=n.type+":"+n.shortcuts[t],y[d]=1;f=t.actions.getContextTypes();for(let e=0;e<f.length;e++){h=f[e],a=t.actions.getContextsForType(h);for(let t=0;t<a.length;t++){o=a[t],g=o.listShortcuts();for(let t=0;t<g.length;t++)d=h+":"+g[t].shortcut,y[d]||m(o,g[t].shortcut)}}for(let s=0;s<e.length;s++)if(n=e[s],l=n.name,p=n.choice,c=n.shortcut,u=n.shortcuts||[],(c||u.length)&&(a=t.actions.getContextsForType(n.type),a))for(let t=0;t<a.length;t++)if(o=a[t],i=o.lookup(l),i){if(c&&m(o,c,l,p,!0)){if(p){for(let t=0;t<i.choices.length;t++)if(r=i.choices[t],r.value===p){r.shortcut=c;break}}else i.shortcut=c;o.update(l)}if(u.length>0)for(let t=0;t<u.length;t++)m(o,u[t],l,p,!1)&&o.addShortcut(u[t],l,p)}}}(apex,apex.debug,apex.lang,apex.util,apex.navigation,apex.jQuery,apex.item,apex.page);