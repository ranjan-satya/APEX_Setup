/*!
 Copyright (c) 2024, Oracle and/or its affiliates.
 */
apex.dialog={},function(){"use strict";const{dialog:t,util:e,navigation:a,jQuery:n}=apex,i=new Map,o=new Map;function r(t,e){let a=o?.get(t)?.get(e);return"function"==typeof a&&(a=a()),a}n((()=>{apex.actions.add([{name:"a-dialog-open",convertBindingArguments:!0,linkRoleDescriptionKey:"APEX.ACTIONS.DIALOG_LINK",action:async function(t,e,a){const n=i.has(a.tmpl);let o={};switch(a.trgEl){case"this":a.trgEl=t?.target||window;break;case"document":a.trgEl=document;break;case"apex.gPageContext$":a.trgEl=apex.gPageContext$}return n&&!a.v||(a.v=a.v||"",await apex.server.loadScript({path:`wwv_flow.js_dialogs?p_template_static_id=${a.tmpl}&p_app_id=${a.appId}&p_page_id=${a.pageId}&v=${a.v}`})),o=r(a.appId,a.pageId),"function"==typeof o&&(o=o()),o={...o,...a.dialogAttributes||{}},i.get(a.tmpl).get("init")(a.url,a.title,a.h,a.w,a.mxw,a.isModal,a.dlgCls,o,null,a.pageCls,a.trgEl),!0}},{name:"a-dialog-close",convertBindingArguments:!0,action:function(t,e,a){const n=a.json?a.json:a.target;i.get(a.tmpl).get("close")(a.isModal,n)}},{name:"a-dialog-chain",convertBindingArguments:!0,action:function(t,i,o){const d=e.getTopApex().jQuery;let l,p,s;return o.modal&&window.frameElement?(l="#"+window.frameElement.parentNode.id,p=d(l)||n(l),s=r(o.appId,o.pageId),p.dialog("option","title",s?.title||o.title),setTimeout((()=>{p.dialog("instance")._focusTabbable()}),1),a.redirect(o.url),!0):("auto"===o.h&&(o.h=window.outerHeight),"auto"===o.w&&(o.w=window.outerWidth),window.resizeTo(o.w,o.h),a.redirect(o.url),!0)}}])})),t.registerHandlers=function(t){t.forEach((t=>{t.ids.forEach((e=>{i.has(e)||i.set(e,new Map),i.get(e).set(t.action,t.code)}))}))},t.registerAttributes=function(t){t.forEach((t=>{o.has(t.appId)||o.set(t.appId,new Map),o.get(t.appId).set(t.pageId,t.attributes)}))}}();